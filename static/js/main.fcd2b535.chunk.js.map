{"version":3,"sources":["ErrorCatcher.jsx","i18n/ca-es.lang.js","i18n/es-es.lang.js","i18n/en-en.lang.js","i18n/pl-pl.lang.js","i18n/nb-no.lang.js","i18n/available.js","MenuItems.jsx","App.js","Menu.jsx","ModalRouter.jsx","loading.svg","serviceWorker.js","Widget/Actions.jsx","Widget/Menu.jsx","Widget/Widget.jsx","Widget/DataContext.js","Widget/withPropHandler.jsx","Loading.jsx","Widget/DataContextProvider.jsx","Widget/MenuAddWidget.jsx","Backend/Base/Common.js","Backend/Base/Cache.js","Backend/Base/GHPages.js","Backend/Maps/MapDataStatic.js","Backend/Maps/index.js","Widget/Widgets/Common/Box.js","Widget/Widgets/Common/LegendElement.jsx","Widget/Widgets/Map/MapImage.jsx","Widget/Widgets/Map/Edit.jsx","Widget/Widgets/Map/Legend.jsx","Widget/Widgets/Map/Widget.jsx","Widget/Widgets/Map/index.js","Backend/Charts/index.js","Widget/Widgets/Common/ChartTooltip.jsx","Widget/Widgets/Common/Chart.jsx","Widget/Widgets/Chart/Chart.jsx","Widget/Widgets/Chart/EditRegion.jsx","Widget/Widgets/Chart/Edit.jsx","Widget/Widgets/Chart/Widget.jsx","Widget/Widgets/Chart/index.js","Widget/Widgets/Bcn/bcn.svg","Widget/Widgets/Bcn/BcnLogo.jsx","Backend/Bcn/index.js","Widget/Widgets/Common/FormDecorators.jsx","Widget/Widgets/Bcn/EditDataset.jsx","Widget/Widgets/Bcn/Edit.jsx","Widget/Widgets/Bcn/Widget.jsx","Widget/Widgets/Bcn/index.js","Widget/Widgets/index.js","Throtle.js","Slider.jsx","Widget/List.jsx","About.jsx","Language.jsx","Dashboard.jsx","index.js"],"names":["ErrorCatcher","props","reloadApp","sendEvent","window","location","reload","state","hasError","errorMessage","errorStack","info","error","this","setState","componentStack","event","origin","t","onClick","style","padding","icon","faRefresh","margin","textAlign","whiteSpace","children","message","stack","React","PureComponent","defaultProps","translate","common","chartEdit","locale","name","App","Copyright","Menu","ModalRouter","About","Language","Help","WidgetsList","MenuAddWidget","PlayPause","Widget","key","label","en_en","value","ca_es","es_es","pl_pl","nb_no","ListItemLink","primary","to","renderLink","useMemo","forwardRef","itemProps","ref","button","component","title","MainMenuItems","fontSize","faAbout","faLanguage","SecondaryMenuItems","AppHelmet","useTranslate","titleTemplate","defaultTitle","lang","language","AppProviders","translations","className","id","handleNewServiceWorker","registration","detail","newServiceWorkerDetected","handleLoadNewServiceWorkerAccept","onLoadNewServiceWorkerAccept","handleLanguageChange","handleThemeChange","theme","handleTutorialSeenChange","tutorialSeen","decoded","decodeURIComponent","global","hash","replace","languageNav","navigator","toLowerCase","initializing","available","find","document","addEventListener","removeEventListener","_language","parent","prefix","blacklist","onParentStateHydrated","onLanguageChange","onThemeChange","onTutorialSeen","Component","useStyles","makeStyles","toolbarIcon","display","alignItems","justifyContent","mixins","toolbar","flexGrow","drawerPaper","position","width","transition","transitions","create","easing","sharp","duration","enteringScreen","drawerPaperClose","overflowX","leavingScreen","spacing","breakpoints","up","updateItem","color","MenuContent","classes","edge","aria-label","handleDrawerClose","variant","noWrap","handleDrawerOpen","open","useTheme","isBig","useMediaQuery","DrawerComponent","Drawer","SwipeableDrawer","iOS","process","browser","test","userAgent","toggleDrawer","type","anchor","onClose","onOpen","disableBackdropTransition","disableDiscovery","paper","clsx","e","preventDefault","faUpgrade","CloseModal","history","setTimeout","push","ModalRouterInner","openModal","modalIsOpen","closeModal","propsClose","path","timer","undefined","handleHistoryChange","action","getPathState","autoForce","forced","force","length","initialPath","unlisten","listen","clearTimeout","prevProps","prevState","fullScreen","aria-labelledby","aria-describedby","pathname","render","autoFocus","ModalRouterInnerWithClasses","down","rest","module","exports","isLocalhost","Boolean","hostname","match","register","config","URL","href","swUrl","fetch","headers","then","response","contentType","get","status","indexOf","serviceWorker","ready","unregister","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","WidgetMenuItem","option","MenuItem","ListItemIcon","ListItemText","options","restProps","useState","anchorEl","setAnchorEl","handleClose","handleClickElement","IconButton","aria-controls","aria-haspopup","currentTarget","faEllipsisV","keepMounted","PaperProps","Object","keys","filter","map","DraggableResponsiveDialogUntranslated","handleClickOpen","sections","Content","Title","Dialog","TransitionComponent","Draggable","DialogTitle","cursor","DialogContent","DialogActions","Button","DraggableResponsiveDialog","withFullScreen","root","height","withWidget","sectionsOrig","remove","faTrash","onRemove","startIcon","View","view","indexValues","Card","CardHeader","subheader","subtitle","CardContent","WidgetDataContext","createContext","withPropHandler","defaults","WithPropHandler","dataHandler","data","forwardedRef","onChangeData","restData","allData","assign","Consumer","forwarded","Loading","alt","src","loading","LocalStorageProvider","stopInitializing","Provider","RouterProvider","historyPush","newPath","paramsToString","componentDidMount","params","widgets","componentWillUnmount","paramsFilter","RouterSwitchWithPropHandler","pathFilter","propsRoute","processedParams","ContextProvider","memo","onAdd","Tooltip","Fab","transformOrigin","vertical","horizontal","noop","Common","AbortController","handleFetchErrors","ok","Error","statusText","catchFetchErrors","err","onError","abort","hashStr","str","char","charCodeAt","reduce","int","hashTmp","FetchCacheElement","url","signal","result","lastModified","invalidated","listeners","cleanFetch","forEach","listener","addListener","Promise","resolve","reject","removeListener","found","index","l","splice","warning","processSuccessFetch","getLastModifiedFromResponse","Date","callback","json","checkIfNeedUpdate","method","date","invalidate","cache","freeze","GHPages","timerDataUpdate","officialUpdateTime","split","indexUrl","checkUpdate","updateNeeded","invalidateAll","a","warn","updateAll","updateIfNeeded","cancelUpdateSchedule","scheduleNextUpdate","millis","recursive","nextMillis","millisToNextUpdate","updated","now","millisTillSchedulle","getFullYear","getMonth","getDate","MapStaticHost","days","MapaComarques","MapaMunicipis","comarcaEdat","comarcaPcrpos","comarcaRisc","comarcaRt","comarcaTaxa_conf","comarcaTaxapcr","municipiEdat","municipiPcrpos","municipiRisc","municipiRt","MapDataStatic","metadata","risc","colors","taxa_conf","rt","edat","pcrpos","taxapcr","kind","Comarca","svg","values","Municipi","MapDataHandler","kinds","meta","metaColors","metaTitle","metaLabel","metaName","Box","styled","BoxMaterial","marginRight","shape","borderWidth","borderStyle","borderColor","palette","text","hint","backgroundColor","LegendElement","Grid","container","direction","wrap","item","ReactTooltipStyled","ReactTooltip","background","default","opacity","fontFamily","typography","borderTopColor","fallback","MapImage","svgStatus","wrapperNodeSVG","createRef","getSVG","current","svgWrapper","querySelector","isSVGMounted","get_color_fons","valor","c","setColorBackground","mapElements","fill","omplir_colors","setTooltipData","element","dataFor","setAttribute","saveElementsIndex","Array","prototype","call","querySelectorAll","beforeInjection","afterInjection","rebuild","updateColorsIfPossible","afterTipShow","tooltipShow","target","afterTipHide","getTipContent","valuesDay","elementLabel","getAttribute","justify","mapSrc","nextProps","nextState","show","role","evalScripts","renumerateIRIElements","getContent","afterShow","afterHide","border","formControl","minWidth","selectEmpty","marginTop","Selector","help","FormControl","required","InputLabel","htmlFor","Select","native","inputProps","FormHelperText","MapSelectorOptions","MapData","MapSelector","MapValueSelectorOptions","MapValueSelector","Edit","onChangeMapKind","onChangeMapValue","mapKind","mapValue","onChange","Divider","Element","valueStart","valueEnd","unit","withUnit","ConditionalTooltip","arrow","placement","Legend","alignContent","nom","MapWrapper","faMap","mapData","valors","edit","faEdit","legend","faLegend","getMeta","updateData","cancelDataUpdate","mapKindDefault","mapValueDefault","paddingTop","flex","ChartStaticHost","ChartDataStaticURL","ChartDataBase","ChartDataHandler","divisions","populations","active","indexData","parseIndex","Set","territori","poblacio","findBreadcrumb","node","compare","child","findChild","list","findInitialNode","division","population","link","initialLink","includes","tooltip","legendElement","paddingRight","subtitle1","gridOptions","nameWithValue","List","payload","pl","ChartLegend","payloadModified","line","format","trim","xs","ChartTooltip","DefaultColors","ChartCached","graph","yAxisLabel","scale","syncId","themeUI","right","left","types","Line","area","Area","dataKey","dot","connectNulls","strokeWidth","stroke","angle","offset","interval","dx","dy","content","zoom","Chart","diesBase","dies","yAxis","parseDateStr","dateStr","sep","d","Number","parseDate","year","month","day","dateToString","reverse","pad2","num","padStart","join","range","range2","nextDate","next","getTime","setDate","parsed","parsed2","fixRange","dateStart","dateEnd","i","fillDays","daysHash","fromEntries","graphSorted","sort","line1","line2","order","dates","dateIndex","lastOwnDate","prev","x","parseData","indexTranslated","translateIndexDays","strokeDasharray","dataTransform","chartsStyles","reformatDate","chartsStylesIEPG","chartsStylesExtensio","GraphFromDataset","grafic_risc_iepg","references","y","ifOverflow","grafic_extensio","dataset","ChartDataset","maxWidth","RecursiveTreeView","chartsIndex","chartData","ChartData","initialNode","TreeView","defaultCollapseIcon","defaultExpandIcon","expanded","selected","onNodeSelect","renderTree","nodes","TreeItem","nodeId","isArray","labelFixed","transform","marginBottom","FormDecorators","fixTree","ChartDivisionSelector","ChartDivisionSelectorOptions","ChartPopulationSelector","ChartPopulationSelectorOptions","ChartDatasetSelector","ChartDatasetSelectorOptions","onChangeChartDivision","onChangeChartPopulation","onChangeChartDataset","onChangeChartRegion","chartDivision","chartPopulation","chartDataset","chartRegion","ChartWrapper","faChart","findRegion","region","f1","f2","onChangeChart","_extends","arguments","source","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref","svgRef","viewBox","ForwardRef","Icon","BcnLogo","SvgIcon","BcnStaticHost","REACT_APP_BCN_STATIC_HOST","BcnDataStaticURL","BcnDataHandler","code","Tree","breadcrumb","componentWillMount","bcnData","BcnData","bcnIndex","defaultExpanded","defaultSelected","section","withStyles","onChangeDataset","defaultMeta","description","WidgetsTypes","MapWidget","ChartWidget","BcnWidget","Throtle","clear","timeout","func","start","popper","zIndex","ValueLabelComponent","enterTouchDelay","PlayPauseButtonUntranslated","isPlaying","onPause","onPlay","checked","borderLeftColor","PlayPauseButton","Slider","clearTimer","setTimer","updatePlay","max","playPause","restClasses","step","min","S4","Math","random","toString","substring","marks","marksSmall","widgetsIds","throtle","updateIDs","onSetDate","run","sliderTipFormatter","widgetType","w","idElement","widgetsNew","isLast","showMarkLabels","fixedPaper","fixed","Paper","elevation","appBarSpacer","sliderContainer","addButton","sliderRoot","valueLabelFormat","getAriaValueText","valueLabelDisplay","widgetsContainer","widget","sm","md","lg","WidgetsListWithPropHandler","overflow","flexDirection","top","paddingBottom","marginLeft","boxShadow","borderRadius","withShowMarkLabels","WidgetsListWithContextProviders","widgetsParsed","JSON","parse","encodeURIComponent","stringify","rel","filteredLanguages","languages","concat","RadioGroup","ele","FormControlLabel","control","Radio","withErrorCatcher","Typography","align","Link","AppThemeProvider","prefersDarkMode","createMuiTheme","ThemeProvider","CssBaseline","appBar","drawer","appBarShift","menuButton","menuButtonHidden","RoutesModal","routeProps","exact","setOpen","shouldShowUpdateBadge","AppBar","Toolbar","Badge","badgeContent","invisible","Container","pt","ReactDOM","StrictMode","preventDevToolsReloadLoop","waiting","postMessage","getElementById","CustomEvent","dispatchEvent"],"mappings":"4KAUMA,E,kDAEJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA4BRC,UAAY,WACV,EAAKC,UAAU,qBAGfC,OAAOC,SAASC,UA/BhB,EAAKC,MAAQ,CACXC,UAAU,EACVC,aAAc,GACdC,WAAY,GACZC,KAAM,IANS,E,8DAoBDC,EAAOD,GAEvBE,KAAKC,SAAS,CACZH,KAAMA,EAAKI,iBAGbF,KAAKV,UAAU,qB,gCAWPa,GACRH,KAAKZ,MAAME,UAAUa,EAAOH,KAAKZ,MAAMgB,OAAQJ,KAAKN,MAAME,gB,+BAI1D,GAAII,KAAKN,MAAMC,SAAU,CAAC,IAChBU,EAAML,KAAKZ,MAAXiB,EADe,EAEcL,KAAKN,MAAlCE,EAFe,EAEfA,aAAcC,EAFC,EAEDA,WAGtB,OACE,oCACE,4BAAMQ,EAAE,4BACR,4BACEC,QAAUN,KAAKX,UACfkB,MAAO,CAAEC,QAAS,QAElB,kBAAC,IAAD,CACEC,KAAOC,IACPH,MAAO,CAAEI,OAAQ,mBAEjBN,EAAE,6CAEN,yBAAKE,MAAO,CAAEK,UAAW,SACvB,4BAAMhB,GACN,6BAASW,MAAO,CAAEM,WAAY,aAC1BhB,KAOZ,OAAOG,KAAKZ,MAAM0B,Y,gDA5DYf,GAE9B,MAAO,CACLJ,UAAU,EACVC,aAAcG,EAAMgB,QACpBlB,WAAYE,EAAMiB,W,GAjBGC,IAAMC,eA4EjC/B,EAAagC,aAAe,CAC1Bf,OAAQ,UACRd,UAAW,cAQE8B,wBAAU,eAAVA,CAA0BjC,I,4CChGnCkC,EAAS,CACX,0BAA2B,+BAC3B,aAAc,cACd,WAAc,iBACd,MAAS,QACT,MAAS,aACT,SAAY,SACZ,KAAQ,QACR,IAAO,KACP,GAAM,KACN,GAAM,KAGJC,EAAY,CAChB,QAAW,mBACX,qBAAsB,yCAGT,GACbC,OAAQ,KACRC,KAAM,YAENC,IAAI,eACCJ,GAGLK,UAAU,eACLL,EADI,CAEP,kBAAmB,iBAGrBlC,aAAa,eACRkC,EADO,CAEV,0BAA2B,kCAC3B,2CAA4C,sDAG9CM,KAAK,eACAN,EADD,CAEF,KAAQ,UACR,UAAW,cACX,wBAAyB,+BAG3BO,YAAY,eACPP,GAGLQ,MAAM,eACDR,EADA,CAEH,gFAAiF,2FACjF,6IAA8I,qJAC9I,yBAA0B,6BAC1B,yCAA0C,gDAC1C,wFAAyF,2FACzF,sDAAuD,wEACvD,6BAA8B,kCAC9B,SAAY,gBACZ,gDAAiD,8CACjD,eAAgB,kBAChB,yBAA0B,+BAC1B,6CAA8C,4CAC9C,8BAA+B,qCAC/B,qCAAsC,0DACtC,kCAAmC,8CACnC,iCAAkC,2CAClC,gBAAiB,eACjB,kBAAmB,wCACnB,4BAA6B,yCAG/BS,SAAQ,eACHT,GAGLU,KAAK,eACAV,GAGLW,YAAY,eACPX,GAGLY,cAAc,eACTZ,EADQ,CAEX,IAAO,OACP,MAAS,YACT,cAAe,uBACf,IAAO,UACP,kBAAmB,2BAGrBa,UAAU,eACLb,EADI,CAEP,qBAAsB,oCACtB,KAAQ,aACR,MAAS,UAGXc,OAAO,eACFd,EADC,CAEJ,OAAU,UACV,OAAU,UACV,UAAW,YACX,kBAAmB,2BACnB,KAAQ,QACR,KAAQ,QACR,OAAU,WACV,sBAAuB,6BACvB,wBAAyB,kCACzB,sBAAuB,0CAGzB,kBAAmB,CACjB,KAAQ,QACR,kCAAmC,2CACnC,OAAU,SACV,yBAA0B,oCAG5B,oBAAoB,eACfC,EADL,CAEE,SAAY,yBACZ,mCAAoC,8CACpC,WAAc,cACd,wBAAyB,4BACzB,cAAY,cACZ,YAAa,YACb,OAAU,WACV,oBAAqB,2BAGvB,kBAAkB,eACbA,ICrIDD,EAAS,CACX,0BAA2B,8BAC3B,aAAc,cACd,WAAc,gBACd,MAAS,SACT,MAAS,WACT,SAAY,SACZ,KAAQ,QACR,IAAO,QACP,GAAM,KACN,GAAM,KAGJC,EAAY,CACd,QAAW,oBACX,qBAAsB,2CAGX,GACbC,OAAQ,KACRC,KAAM,aAENC,IAAI,eACCJ,GAGLK,UAAU,eACLL,EADI,CAEP,kBAAmB,wBAGrBlC,aAAa,eACRkC,EADO,CAEV,0BAA2B,qBAC3B,2CAA4C,qDAG9CM,KAAK,eACAN,EADD,CAEF,KAAQ,UACR,UAAW,kBACX,wBAAyB,2CAG3BO,YAAY,eACPP,GAGLQ,MAAM,eACDR,EADA,CAEH,gFAAiF,+FACjF,6IAA8I,4JAC9I,yBAA0B,4BAC1B,yCAA0C,wDAC1C,wFAAyF,0GACzF,sDAAuD,gGACvD,6BAA8B,iCAC9B,SAAY,YACZ,gDAAiD,kDACjD,eAAgB,gBAChB,yBAA0B,8BAC1B,6CAA8C,iDAC9C,8BAA+B,yCAC/B,qCAAsC,yCACtC,kCAAmC,+CACnC,iCAAkC,mCAClC,gBAAiB,kBACjB,kBAAmB,mBACnB,4BAA6B,2CAG/BS,SAAS,eACJT,GAGLU,KAAK,eACAV,GAGLW,YAAY,eACPX,GAGLY,cAAc,eACTZ,EADQ,CAEX,IAAO,OACP,MAAS,aACT,kBAAmB,0BACnB,cAAe,0BACf,IAAO,cAGTa,UAAU,eACLb,EADI,CAEP,qBAAsB,wCACtB,KAAQ,aACR,MAAS,YAGXc,OAAO,eACFd,EADC,CAEJ,OAAU,WACV,OAAU,WACV,UAAW,YACX,kBAAmB,8BACnB,KAAQ,MACR,KAAQ,SACR,OAAU,UACV,sBAAuB,+BACvB,wBAAyB,qCACzB,sBAAuB,4CAGzB,kBAAmB,CACjB,KAAQ,OACR,kCAAmC,4CACnC,OAAU,UACV,yBAA0B,qCAG5B,oBAAoB,eACfC,EADL,CAEE,SAAY,0BACZ,mCAAoC,gDACpC,WAAc,eACd,wBAAyB,8BACzB,cAAY,eACZ,YAAa,cACb,OAAU,YACV,oBAAqB,6BAGvB,kBAAkB,eACbA,ICrIDD,EAAS,CACb,0BAA2B,0BAC3B,aAAc,aACd,WAAc,aACd,MAAS,QACT,MAAS,WACT,SAAY,WACZ,KAAQ,OACR,IAAO,MACP,GAAM,KACN,GAAM,MAGFC,EAAY,CAChB,QAAW,UACX,qBAAsB,sBAGT,GACbC,OAAQ,KACRC,KAAM,UAENC,IAAI,eACCJ,GAGLK,UAAU,eACLL,EADI,CAEP,kBAAmB,oBAGrBlC,aAAa,eACRkC,EADO,CAEV,0BAA2B,0BAC3B,2CAA4C,6CAG9CM,KAAK,eACAN,EADD,CAEF,KAAQ,OACR,UAAW,UACX,wBAAyB,0BAG3BO,YAAY,eACPP,GAGLQ,MAAM,eACDR,EADA,CAEH,gFAAiF,gFACjF,6IAA8I,6IAC9I,yBAA0B,yBAC1B,yCAA0C,yCAC1C,wFAAyF,wFACzF,sDAAuD,sDACvD,6BAA8B,6BAC9B,SAAY,WACZ,gDAAiD,gDACjD,eAAgB,eAChB,yBAA0B,yBAC1B,6CAA8C,6CAC9C,8BAA+B,8BAC/B,qCAAsC,qCACtC,kCAAmC,kCACnC,iCAAkC,iCAClC,gBAAiB,gBACjB,kBAAmB,kBACnB,4BAA6B,8BAG/BS,SAAQ,eACHT,GAGLU,KAAK,eACAV,GAGLW,YAAY,eACPX,GAGLY,cAAc,eACTZ,EADQ,CAEX,IAAO,MACP,MAAS,QACT,kBAAmB,kBACnB,cAAe,cACf,IAAO,QAGTa,UAAU,eACLb,EADI,CAEP,qBAAsB,qBACtB,KAAQ,OACR,MAAS,UAGXc,OAAO,eACFd,EADC,CAEJ,OAAU,SACV,OAAU,SACV,UAAW,UACX,kBAAmB,kBACnB,KAAQ,OACR,KAAQ,OACR,OAAU,SACV,sBAAuB,sBACvB,wBAAyB,wBACzB,sBAAuB,wBAGzB,kBAAmB,CACjB,KAAQ,OACR,kCAAmC,kCACnC,OAAU,SACV,yBAA0B,0BAG5B,oBAAoB,eACfC,EADL,CAEE,SAAY,WACZ,mCAAoC,mCACpC,WAAc,aACd,wBAAyB,wBACzB,cAAY,cACZ,YAAa,YACb,OAAU,SACV,oBAAqB,sBAGvB,kBAAkB,eACbA,ICrIDD,EAAS,CACX,0BAA2B,0BAC3B,aAAc,aACd,WAAc,aACd,MAAS,UACT,MAAS,kBACT,SAAY,aACZ,KAAQ,QACR,IAAO,MACP,GAAM,MACN,GAAM,QAGJC,EAAY,CAChB,QAAW,OACX,qBAAsB,2BAGT,GACbC,OAAQ,KACRC,KAAM,SAENC,IAAI,eACCJ,GAGLK,UAAU,eACLL,EADI,CAEP,kBAAmB,+BAGrBlC,aAAa,eACRkC,EADO,CAEV,0BAA2B,kCAC3B,2CAA4C,qFAG9CM,KAAK,eACAN,EADD,CAEF,KAAQ,OACR,UAAW,gBACX,wBAAyB,qCAG3BO,YAAY,eACPP,GAGLQ,MAAM,eACDR,EADA,CAEH,gFAAiF,2FACjF,6IAA8I,2JAC9I,yBAA0B,uCAC1B,yCAA0C,2DAC1C,wFAAyF,oGACzF,sDAAuD,gDACvD,6BAA8B,gCAC9B,SAAY,WACZ,gDAAiD,sCACjD,eAAgB,cAChB,yBAA0B,yBAC1B,6CAA8C,8CAC9C,8BAA+B,oCAC/B,qCAAsC,6CACtC,kCAAmC,+CACnC,iCAAkC,oCAClC,gBAAiB,iBACjB,kBAAmB,8BACnB,4BAA6B,yCAG/BS,SAAS,eACJT,GAGLU,KAAK,eACAV,GAGLW,YAAY,eACPX,GAGLY,cAAc,eACTZ,EADQ,CAEX,IAAO,OACP,MAAS,SACT,cAAe,eACf,IAAO,UAGTa,UAAU,eACLb,EADI,CAEP,qBAAsB,4BACtB,KAAQ,OACR,MAAS,UAGXc,OAAO,eACFd,EADC,CAEJ,OAAU,YACV,OAAU,YACV,UAAW,oBACX,kBAAmB,gCACnB,KAAQ,QACR,KAAQ,SACR,OAAU,UACV,sBAAuB,wBACvB,wBAAyB,2BACzB,sBAAuB,yBAGzB,kBAAmB,CACjB,KAAQ,MACR,kCAAmC,+BACnC,OAAU,oBACV,yBAA0B,+BAG5B,oBAAoB,eACfC,EADL,CAEE,SAAY,+BACZ,mCAAoC,uCACpC,WAAc,YACd,wBAAyB,yBACzB,cAAY,cACZ,YAAa,YACb,OAAU,SACV,oBAAqB,mBAGvB,kBAAkB,eACbA,ICpIDD,EAAS,CACX,0BAA2B,kCAC3B,aAAc,oBACd,WAAc,cACd,MAAS,OACT,MAAS,QACT,SAAY,WACZ,KAAQ,QACR,IAAO,KACP,GAAM,MACN,GAAM,SAGJC,EAAY,CAChB,QAAW,WACX,qBAAsB,iBAGT,GACbC,OAAQ,KACRC,KAAM,QAENC,IAAI,eACCJ,GAGLK,UAAU,eACLL,EADI,CAEP,kBAAmB,oBAGrBlC,aAAa,eACRkC,EADO,CAEV,0BAA2B,mBAC3B,2CAA4C,uEAG9CM,KAAK,eACAN,EADD,CAEF,KAAQ,OACR,UAAW,YACX,wBAAyB,iCAG3BO,YAAY,eACPP,GAGLQ,MAAM,eACDR,EADA,CAEH,gFAAiF,oFACjF,6IAA8I,gJAC9I,yBAA0B,6BAC1B,yCAA0C,wCAC1C,wFAAyF,iIACzF,sDAAuD,2DACvD,6BAA8B,+BAC9B,SAAY,WACZ,gDAAiD,4CACjD,eAAgB,mBAChB,yBAA0B,kBAC1B,6CAA8C,2CAC9C,8BAA+B,0BAC/B,qCAAsC,8CACtC,kCAAmC,yBACnC,iCAAkC,+BAClC,gBAAiB,oBACjB,kBAAmB,gBACnB,4BAA6B,gCAG/BS,SAAQ,eACHT,GAGLU,KAAK,eACAV,GAGLW,YAAY,eACPX,GAGLY,cAAc,eACTZ,EADQ,CAEX,IAAO,OACP,MAAS,UACT,cAAe,mBACf,IAAO,aAGTa,UAAU,eACLb,EADI,CAEP,qBAAsB,qBACtB,KAAQ,QACR,MAAS,UAGXc,OAAO,eACFd,EADC,CAEJ,OAAU,QACV,OAAU,QACV,UAAW,SACX,kBAAmB,mBACnB,KAAQ,MACR,KAAQ,UACR,OAAU,UACV,sBAAuB,0BACvB,wBAAyB,0BACzB,sBAAuB,2BAGzB,kBAAmB,CACjB,KAAQ,OACR,kCAAmC,yCACnC,OAAU,UACV,yBAA0B,kBAG5B,oBAAoB,eACfC,EADL,CAEE,SAAY,WACZ,mCAAoC,+BACpC,WAAc,aACd,wBAAyB,kBACzB,cAAY,cACZ,YAAa,YACb,OAAU,SACV,oBAAqB,gBAGvB,kBAAkB,eACbA,IC7HQ,KACb,CAAEc,IAAK,KAAMC,MAAOC,EAAMd,KAAMe,MAAOD,GACvC,CAAEF,IAAK,QAASC,MAAOC,EAAMd,KAAMe,MAAOD,GAC1C,CAAEF,IAAK,QAASC,MAAOC,EAAMd,KAAMe,MAAOD,GAC1C,CAAEF,IAAK,QAASC,MAAOC,EAAMd,KAAMe,MAAOD,GAC1C,CAAEF,IAAK,KAAMC,MAAOG,EAAMhB,KAAMe,MAAOC,GACvC,CAAEJ,IAAK,QAASC,MAAOG,EAAMhB,KAAMe,MAAOC,GAC1C,CAAEJ,IAAK,KAAMC,MAAOI,EAAMjB,KAAMe,MAAOE,GACvC,CAAEL,IAAK,QAASC,MAAOI,EAAMjB,KAAMe,MAAOE,GAC1C,CAAEL,IAAK,KAAMC,MAAOK,EAAMlB,KAAMe,MAAOG,GACvC,CAAEN,IAAK,QAASC,MAAOK,EAAMlB,KAAMe,MAAOG,GAC1C,CAAEN,IAAK,QAASC,MAAOM,EAAMnB,KAAMe,MAAOI,K,iCClB5C,4JAsBMC,EAAe,SAACxD,GAAW,IACvBqB,EAAsBrB,EAAtBqB,KAAMoC,EAAgBzD,EAAhByD,QAASC,EAAO1D,EAAP0D,GAEjBC,EAAa9B,IAAM+B,SACvB,kBAAM/B,IAAMgC,YAAW,SAACC,EAAWC,GAAZ,OAAoB,kBAAC,IAAD,eAAYL,GAAIA,EAAIK,IAAKA,GAASD,SAC7E,CAACJ,IAGH,OACE,4BACE,kBAAC,IAAD,CAAUM,QAAM,EAACC,UAAWN,GACzBtC,EACC,kBAAC,IAAD,CAAS6C,MAAQT,GACf,kBAAC,IAAD,KAAepC,IAEf,KACJ,kBAAC,IAAD,CAAcoC,QAASA,OAYzBU,EAAgBnC,oBAAU,OAAVA,EAAkB,SAAChC,GAAW,IAC1CiB,EAAMjB,EAANiB,EACR,OACE,6BAEE,kBAACuC,EAAD,CAAcE,GAAG,SAASD,QAAUxC,EAAE,SAAWI,KAAO,kBAAC,IAAD,CAAiBF,MAAO,CAAEiD,SAAU,UAAY/C,KAAOgD,QAC/G,kBAACb,EAAD,CAAcE,GAAG,YAAYD,QAAUxC,EAAE,YAAcI,KAAO,kBAAC,IAAD,CAAiBF,MAAO,CAAEiD,SAAU,UAAY/C,KAAOiD,YAKrHC,EAAqB,SAACvE,GAC1B,OACE,gC,iLChDEwE,EAAY,SAACxE,GACjB,IACMkE,EADIO,uBAAa,MACTxD,CAAE,2BAChB,OACE,kBAAC,IAAD,CACEyD,cAAa,eAAYR,GACzBS,aAAeT,GAEf,0BAAMU,KAAO5E,EAAM6E,aAMnBC,EAAe,SAAC9E,GACpB,OACE,kBAAC,qBAAD,CAAoB+E,aAAe/E,EAAM+E,cACvC,kBAAC,IAAD,KACE,kBAACP,EAAD,CAAWK,SAAW7E,EAAM6E,WAC5B,kBAAC,IAAD,KACE,yBAAKG,UAAU,MAAMC,GAAG,oBACpBjF,EAAM0B,cAQdW,E,kDAEJ,aAAe,IAAD,uBACZ,gBAgCF6C,uBAAyB,SAACnE,GACxB,EAAKoE,aAAepE,EAAMqE,OAAOD,aACjC,EAAKtE,SAAS,CACZwE,0BAA0B,KApChB,EAyCdC,iCAAmC,kBAAM,EAAKtF,MAAMuF,6BAA6B,EAAKJ,eAzCxE,EA4CdK,qBAAuB,SAACX,GAAD,OAAc,EAAKhE,SAAS,CAAEgE,cA5CvC,EA6CdY,kBAAoB,SAACC,GAAD,OAAW,EAAK7E,SAAS,CAAE6E,WA7CjC,EA8CdC,yBAA2B,SAACC,GAAD,OAAkB,EAAK/E,SAAS,CAAE+E,kBA1C3D,IAAMC,EAAUC,mBAAmBC,EAAO3F,SAAS4F,MACnD,GAAkB,KAAbH,GAAmBA,IAAYE,EAAO3F,SAAS4F,KAAO,CACzD,IAAMA,EAAOH,EAAQI,QAAQ,cAAe,MAC5CF,EAAO3F,SAAS6F,QAAQD,GAG1B,EAAKb,cAAe,EACpB,IAAMe,EAAcC,UAAUtB,SAASuB,cAX3B,OAYZ,EAAK9F,MAAQ,CACX+F,cAAc,EACdhB,0BAA0B,EAC1BR,SAAUyB,IAAUC,MAAK,SAAA1B,GAAQ,OAAIA,EAAS7B,MAAQkD,KAAeA,EAAc,QACnFR,OAAO,EACPE,cAAc,GAjBJ,E,gEAuBZY,SAASC,iBAAiB,qBAAsB7F,KAAKsE,0B,6CAKrDsB,SAASE,oBAAoB,qBAAsB9F,KAAKsE,0B,+BAoBhD,IAAD,SAC6DtE,KAAKN,MAAjE+E,EADD,EACCA,yBAA0BR,EAD3B,EAC2BA,SAAUa,EADrC,EACqCA,MAAOE,EAD5C,EAC4CA,aAC7Cb,EAAeuB,IAAUC,MAAK,SAAAI,GAAS,OAAIA,EAAU3D,MAAQ6B,KAAU1B,MAE7E,OACE,kBAAC2B,EAAkB,CACfC,eACAF,YAKF,kBAAC,IAAD,CACE+B,OAAShG,KACTiG,OAAO,MACPC,UAAY,CAAC,2BAA2B,gBACxCC,sBAAwB,kBAAM,EAAKlG,SAAS,CAAEwF,cAAc,OAI9D,kBAAC,IAAD,CAAcrF,OAAO,aACnB,kBAAC,IAAD,CAEEqE,yBAA2BA,EAC3BE,6BAA+B3E,KAAK0E,iCAEpCT,SAAWA,EACXmC,iBAAmBpG,KAAK4E,qBAExBE,MAAQA,EACRuB,cAAgBrG,KAAK6E,kBAErBG,aAAeA,EACfsB,eAAiBtG,KAAK+E,0BAEtB,kBAAC,IAAD,CAAc3E,OAAO,eACnB,kBAAC,IAAD,c,GAtFIa,IAAMsF,WAoGT9E,Q,iSCnHT+E,EAAYC,aAAW,SAAC3B,GAAD,MAAY,CACvC4B,YAAY,aACVC,QAAS,OACTC,WAAY,SACZC,eAAgB,WAChBrG,QAAS,SACNsE,EAAMgC,OAAOC,SAElBzD,MAAO,CACL0D,SAAU,GAEZC,YAAa,CACXC,SAAU,WACVrG,WAAY,SACZsG,MAhBgB,IAiBhBC,WAAYtC,EAAMuC,YAAYC,OAAO,QAAS,CAC5CC,OAAQzC,EAAMuC,YAAYE,OAAOC,MACjCC,SAAU3C,EAAMuC,YAAYI,SAASC,kBAGzCC,iBAAiB,aACfC,UAAW,SACXR,WAAYtC,EAAMuC,YAAYC,OAAO,QAAS,CAC5CC,OAAQzC,EAAMuC,YAAYE,OAAOC,MACjCC,SAAU3C,EAAMuC,YAAYI,SAASI,gBAEvCV,MAAOrC,EAAMgD,QAAQ,IACpBhD,EAAMiD,YAAYC,GAAG,MAAQ,CAC5Bb,MAAOrC,EAAMgD,QAAQ,KAGzBG,WAAY,CACVC,MAAO,aAILC,EAAc/G,oBAAU,OAAVA,EAAkB,SAAChC,GACrC,IAAMgJ,EAAU5B,IACRnG,EAAMjB,EAANiB,EACR,OACE,oCACE,yBAAK+D,UAAYgE,EAAQ1B,aACvB,kBAAC,IAAD,CACE2B,KAAK,QACLH,MAAM,UACNI,aAAajI,EAAE,cACfC,QAAUlB,EAAMmJ,mBAEhB,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAYlF,UAAU,KAAKmF,QAAQ,KAAKN,MAAM,UAAUO,QAAM,EAACrE,UAAYgE,EAAQ9E,OAC/EjD,EAAE,SAEN,kBAAC,IAAD,CACEiI,aAAajI,EAAE,cACfC,QAAUlB,EAAMmJ,mBAEhB,kBAAC,IAAD,QAGJ,kBAAC,IAAD,MACA,kBAAC,IAAD,KAAM,kBAAC,IAAD,OACN,kBAAC,IAAD,MACA,kBAAC,IAAD,KAAM,kBAAC,IAAD,WAMN5G,EAAOP,oBAAU,OAAVA,EAAkB,SAAChC,GAC9B,IAAMgJ,EAAU5B,IACRkC,EAA2EtJ,EAA3EsJ,iBAAkBH,EAAyDnJ,EAAzDmJ,kBAAmBI,EAAsCvJ,EAAtCuJ,KAAMlE,EAAgCrF,EAAhCqF,yBAA0BpE,EAAMjB,EAANiB,EACvEyE,EAAQ8D,cACRC,EAAQC,YAAchE,EAAMiD,YAAYC,GAAG,OAC3Ce,EAAkBF,EAAQG,IAASC,IACnCC,EAAMC,EAAQC,SAAW,mBAAmBC,KAAK9D,UAAU+D,WAE3DC,EAAe,SAACZ,GAAD,OAAU,SAACxI,KAC1BA,GAAwB,YAAfA,EAAMqJ,MAAqC,QAAdrJ,EAAMiC,KAA+B,UAAdjC,EAAMiC,OAGnEuG,EACFD,IAGAH,OAUJ,OACE,kBAACQ,EAAD,iBACQF,EAAQ,CACVL,QAAS,aACP,CACFiB,OAAQ,OACRC,QAASH,GAAa,GACtBI,OAAQJ,GAAa,GACrBK,2BAA4BV,EAC5BW,iBAAkBX,GARxB,CAUEd,QAAS,CACP0B,MAAOC,YAAK3B,EAAQnB,aAAc0B,GAAQP,EAAQT,mBAEpDgB,KAAOA,IAEP,kBAACR,EAAD,CAAaI,kBAAoBA,IAC/B9D,EACE,kBAAC,IAAD,CACErB,QAAM,EACN9C,QA1BgB,SAAC0J,GACzBA,EAAEC,iBACF1B,IACAnJ,EAAMuF,gCAwBEP,UAAYgE,EAAQH,YAEpB,kBAAC,IAAD,CAAS3E,MAAQjD,EAAE,YACjB,kBAAC,IAAD,KAAc,kBAAC,IAAD,CAAiBI,KAAOyJ,IAAY3J,MAAO,CAAEiD,SAAU,SAAU0E,MAAO,aAExF,kBAAC,IAAD,CAAcrF,QAAUxC,EAAE,cAE1B,SAUGsB,Q,qECAS4E,E,oIAlJlB4D,E,kDACJ,WAAY/K,GAAQ,IAAD,6BACjB,eAEO,YAAaA,GACiB,KAAhCA,EAAMgL,QAAQ5K,SAAS4F,MAC1BD,EAAOkF,YAAY,kBAAMjL,EAAMgL,QAAQE,KAAK,OAAM,IALnC,E,qDAUjB,OAAO,S,GAXcrJ,IAAMC,eAezBqJ,E,kDAEJ,WAAYnL,GAAQ,IAAD,8BACjB,gBA0DFoL,UAAY,kBAAM,EAAKvK,SAAS,CAAEwK,aAAa,KA3D5B,EA6DnBC,WAAa,WAAoB,IAAnBC,EAAkB,uDAAP,GAChB,YAAaA,GACsB,KAArCA,EAAWP,QAAQ5K,SAASoL,MAE3B,EAAKC,QACP,EAAKA,MAAQ1F,EAAOkF,YAAY,WAC9B,EAAKD,QAAQE,KAAK,KAClB,EAAKO,WAAQC,IACZ,MArEU,EA0EnBC,oBAAsB,SAACvL,EAAUwL,GAC/B,IAAMtL,EAAQ,EAAKuL,aAAazL,GAChC,EAAKS,SAASP,IAxEd,EAAK0K,QAAUhL,EAAMgL,QACrB,EAAK1K,MAAL,eACK,EAAKuL,aAAa7L,EAAMI,UAD7B,CAEE0L,WAAW,EACXC,OAAQ/L,EAAMgM,QARC,E,yDAYN5L,GACX,IAAMoL,EAAOpL,EAAS4F,KAAKC,QAAQ,cAAe,MAClD,MAAO,CACLoF,cAAeG,EAAKS,QAAmB,UAATT,EAC9BA,OACAU,YAAatL,KAAKN,MAAQM,KAAKN,MAAM4L,YAAcV,K,0CAMrD5K,KAAKuL,SAAWvL,KAAKoK,QAAQoB,OAAOxL,KAAK+K,uB,6CAKzC/K,KAAKuL,WACAvL,KAAK6K,OACR1F,EAAOsG,aAAczL,KAAK6K,S,yCAKXa,EAAWC,IAGF,IAArB3L,KAAKZ,MAAMgM,OACXpL,KAAKZ,MAAMgM,QAAUM,EAAUN,OAC/BpL,KAAKN,MAAMyL,SAAWnL,KAAKZ,MAAMgM,OACpCpL,KAAKC,SAAS,CAAEkL,OAAQnL,KAAKZ,MAAMgM,QAIhCpL,KAAKN,MAAMwL,YAAclL,KAAKN,MAAMkL,MACvC5K,KAAKC,SAAS,CAAEiL,WAAW,IAIxBS,EAAUf,OAAS5K,KAAKN,MAAMyL,QAC9BQ,EAAUf,OAAS5K,KAAKN,MAAMkL,OACH,IAA3B5K,KAAKN,MAAM4L,aACXtL,KAAKN,MAAM4L,YAAYD,OAAS,GAChCrL,KAAKN,MAAMwL,YAAclL,KAAKN,MAAM4L,aACvCtL,KAAKC,SAAS,CAAEiL,UAAWlL,KAAKN,MAAM4L,gB,+BAwBhC,IAAD,EACkDtL,KAAKZ,MAAtD0B,EADD,EACCA,SAAU2E,EADX,EACWA,aAAc2F,EADzB,EACyBA,MAAOQ,EADhC,EACgCA,WAAYvL,EAD5C,EAC4CA,EAD5C,EAE6BL,KAAKN,MAAjCwL,EAFD,EAECA,UAAWN,EAFZ,EAEYA,KAAMO,EAFlB,EAEkBA,OAEzB,OAAK1F,EACI,MAIM,IAAV2F,GAAmBA,IAAUR,EACzB,kBAAC,IAAD,CAAUN,MAAI,EAACxH,GAAI,CAAEsC,KAAMgG,MAKhB,IAAdF,GACAA,IAAcN,GACdO,IAAWP,EACR,kBAAC,IAAD,CAAUN,MAAI,EAACxH,GAAI,CAAEsC,KAAM8F,KAIlC,kBAAC,IAAD,CACEvC,KAAO3I,KAAKN,MAAM+K,YAClBf,QAAU1J,KAAK0K,WAEfkB,WAAaA,EACbC,kBAAkB,gBAClBC,mBAAmB,qBAEnB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQtM,SAAW,CAAEuM,SAAUnB,IAE3B9J,EAGF,kBAAC,IAAD,CAAOkL,OAAS,SAAA5M,GAAK,OAAI,kBAAC+K,EAAgB/K,QAG9C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQ6M,WAAS,EAAC3L,QAAUN,KAAK0K,WAAaxC,MAAM,WAChD7H,EAAE,gB,GA1HeY,IAAMC,eA2I/BgL,GARkB3F,EAQ4BgE,EAP3C,SAACnL,GACN,IAAM0F,EAAQ8D,cACRgD,EAAa9C,YAAchE,EAAMiD,YAAYoE,KAAK,OACxD,OAAO,kBAAC5F,EAAD,iBAAgBnH,EAAhB,CAAwBwM,WAAaA,OAM1ChK,E,uKACM,IAAD,EACuB5B,KAAKZ,MAA3B0B,EADD,EACCA,SAAasL,EADd,4BAEP,OACE,kBAAC,IAAD,CACExB,KAAK,YACLoB,OAAS,SAAA5M,GAAK,OAAI,kBAAC8M,EAAD,aAAoCpL,YAAasL,EAAjD,GAA0DhN,W,GAN1D6B,IAAMC,eAYjBE,wBAAU,cAAVA,CAAyBQ,K,sCCxLxCyK,EAAOC,QAAU,IAA0B,qC,iCCA3C,kCAYA,IAAMC,EAAcC,QACW,cAA7BjN,OAAOC,SAASiN,UAEe,UAA7BlN,OAAOC,SAASiN,UAEhBlN,OAAOC,SAASiN,SAASC,MACvB,2DAIC,SAASC,EAASC,GACvB,GAA6C,kBAAmBrH,UAAW,CAGzE,GADkB,IAAIsH,IAAI1D,SAAwB5J,OAAOC,SAASsN,MACpD1M,SAAWb,OAAOC,SAASY,OAIvC,OAGFb,OAAOsG,iBAAiB,QAAQ,WAC9B,IAAMkH,EAAK,UAAM5D,SAAN,sBAEPoD,IAgEV,SAAiCQ,EAAOH,GAEtCI,MAAMD,EAAO,CACXE,QAAS,CAAE,iBAAkB,YAE5BC,MAAK,SAAAC,GAEJ,IAAMC,EAAcD,EAASF,QAAQI,IAAI,gBAEnB,MAApBF,EAASG,QACO,MAAfF,IAA8D,IAAvCA,EAAYG,QAAQ,cAG5ChI,UAAUiI,cAAcC,MAAMP,MAAK,SAAA3I,GACjCA,EAAamJ,aAAaR,MAAK,WAC7B3N,OAAOC,SAASC,eAKpBkO,EAAgBZ,EAAOH,MAG1BgB,OAAM,WACLC,QAAQC,IACN,oEAvFAC,CAAwBhB,EAAOH,GAI/BrH,UAAUiI,cAAcC,MAAMP,MAAK,WACjCW,QAAQC,IACN,iHAMJH,EAAgBZ,EAAOH,OAM/B,SAASe,EAAgBZ,EAAOH,GAC9BrH,UAAUiI,cACPb,SAASI,GACTG,MAAK,SAAA3I,GACJA,EAAayJ,cAAgB,WAC3B,IAAMC,EAAmB1J,EAAa2J,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBvO,QACf6F,UAAUiI,cAAcY,YAI1BP,QAAQC,IACN,iHAKElB,GAAUA,EAAOyB,UACnBzB,EAAOyB,SAAS9J,KAMlBsJ,QAAQC,IAAI,sCAGRlB,GAAUA,EAAO0B,WACnB1B,EAAO0B,UAAU/J,WAO5BqJ,OAAM,SAAA7N,GACL8N,QAAQ9N,MAAM,4CAA6CA,Q,wECZzCwG,E,gQCrElBgI,EAAiBtN,IAAMgC,YAAW,SAAC7D,EAAO+D,GAAS,IAC/C7C,EAAgClB,EAAhCkB,QAASkO,EAAuBpP,EAAvBoP,OAAQ/N,EAAerB,EAAfqB,KAAM4B,EAASjD,EAATiD,MAE/B,OACE,kBAACoM,EAAA,EAAD,CACErM,IAAMoM,EACNlO,QAJgB,kBAAMA,EAAQkO,IAK9BrL,IAAMA,GAEN,kBAACuL,EAAA,EAAD,KACIjO,GAEJ,kBAACkO,EAAA,EAAD,CAAc9L,QAAUR,GAASmM,QAmExBpN,sBAAU,SAAVA,EA5DI,SAAChC,GAAW,IACrBkB,EAAuClB,EAAvCkB,QAASsO,EAA8BxP,EAA9BwP,QAASvK,EAAqBjF,EAArBiF,GAAOwK,EADL,YACmBzP,EADnB,8BAGI6B,IAAM6N,SAAS,MAHnB,mBAGrBC,EAHqB,KAGXC,EAHW,KAItBrG,EAAO6D,QAAQuC,GAIfE,EAAc,kBAAMD,EAAY,OAGhCE,EAAqB,SAAC3M,GAC1B0M,IACA3O,EAAQiC,IAKV,OACE,6BACE,kBAAC4M,EAAA,EAAD,CACE7G,aAAW,iBACX8G,gBAAA,sBAAgC/K,GAChCgL,gBAAc,OACd/O,QAjBkB,SAACH,GAAD,OAAW6O,EAAY7O,EAAMmP,iBAmB/C,kBAAC,IAAD,CAAiB7O,KAAO8O,OAExBR,EACE,kBAACpN,EAAA,EAAD,CACE0C,GAAE,sBAAmBA,GACrB0K,SAAWA,EACXS,aAAW,EACX7G,KAAOA,EACPe,QAAUuF,EACVQ,WAAY,CACVlP,MAAO,CACL4G,MAAO,UAITuI,OAAOC,KAAKf,GACXgB,QAAQ,SAAApB,GAAM,MAAe,SAAXA,KAClBqB,KAAK,SAAArB,GAAM,OACV,kBAACD,EAAD,CACEnM,IAAMoM,EACNA,OAASA,EACTlO,QAAU4O,EACVzO,KAAOmO,EAAQJ,GAAQ/N,KACvB4B,MAAyC,oBAA1BuM,EAAQJ,GAAQnM,MAAuBuM,EAAQJ,GAAQnM,MAAMwM,GAAaD,EAAQJ,GAAQnM,YAK/G,SDxENyN,E,4MAKJpQ,MAAQ,CACNiJ,MAAM,G,EAIRoH,gBAAkB,SAACpH,GACjB,EAAK1I,SAAS,CAAE0I,U,EAGlBsG,YAAc,WACZ,EAAKhP,SAAS,CAAE0I,MAAM,K,uDAGd,IACAA,EAAS3I,KAAKN,MAAdiJ,KACAtE,EAAOrE,KAAKZ,MAAZiF,GAFD,EAI2CrE,KAAKZ,MAA/C4Q,EAJD,EAICA,SAAUpE,EAJX,EAIWA,WAAYvL,EAJvB,EAIuBA,EAAMwO,EAJ7B,6CAMDoB,EAAUtH,EAAOqH,EAASrH,GAAMqD,OAAS,aACzCkE,EAAQvH,EAAOqH,EAASrH,GAAMrF,MAAQ,aAC5C,OACE,6BACE,kBAAC,EAAD,eACEsL,QAAUoB,EACV3L,GAAKA,EACL/D,QAAUN,KAAK+P,iBACVlB,IAGLlG,EACE,kBAACwH,EAAA,EAAD,eACE/N,IAAMuG,EACNA,MAAO,EACPe,QAAU1J,KAAKiP,aAERrD,EAAa,GAAK,CAACwE,oBAAqBC,KALjD,CAOEzE,WAAaA,EACbC,kBAAA,iCAA4CxH,EAA5C,YAAkDsE,KAElD,kBAAC2H,EAAA,EAAD,CAAa/P,MAAO,CAAEgQ,OAAQ,QAAUlM,GAAE,iCAA6BA,EAA7B,YAAmCsE,IAC3E,kBAACuH,EAAD,iBAAYrB,EAAZ,CAAwBxO,EAAIA,MAE9B,kBAACmQ,EAAA,EAAD,KACE,kBAACP,EAAD,iBAAcpB,EAAd,CAA0BxO,EAAIA,MAEhC,kBAACoQ,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAQzE,WAAS,EAAC3L,QAAUN,KAAKiP,YAAc/G,MAAM,WACjD7H,EAAE,YAIR,U,GA1DsCY,IAAMC,eAiEpDyP,EAA4BvP,oBAAU,SAAVA,CAAoB0O,GAWvCc,GARSrK,EAQMoK,EAPrB,SAACvR,GACN,IAAM0F,EAAQ8D,cACRgD,EAAa9C,YAAchE,EAAMiD,YAAYoE,KAAK,OACxD,OAAO,kBAAC5F,EAAD,iBAAgBnH,EAAhB,CAAwBwM,WAAaA,OEzE1CpF,EAAYC,aAAW,SAAC3B,GAAD,MAAY,CACvC+L,KAAM,CACJC,OAAQ,YA0DGC,EArDI,SAACC,GAGlB,IAAMhB,EAAQ,eACTgB,EADS,CAEZC,OAAQ,CACNxQ,KAAM,kBAAC,IAAD,CAAiBA,KAAOyQ,MAC9B7O,MAAO,mBAAWhC,EAAX,EAAGA,GAAU,WACpBiD,MAAO,mBAAWjD,EAAX,EAAGA,GAAU,YACpB2L,OAAQ,YAA0B,IAAvB3H,EAAsB,EAAtBA,GAAI8M,EAAkB,EAAlBA,SAAU9Q,EAAQ,EAARA,EAEvB,OACE,kBAACqQ,EAAA,EAAD,CACEU,UAAY,kBAAC,IAAD,CAAiB3Q,KAAOyQ,MACpC5Q,QAJiB,kBAAM6Q,EAAS9M,IAKhCmE,QAAQ,YACRN,MAAM,UACNI,aAAajI,EAAE,WAEbA,EAAE,wBAQRgR,EAAOrB,EAASsB,KAAKtF,OAuB3B,OAAO5K,oBAAU,SAAVA,EApBQ,SAAChC,GACd,IAAMgJ,EAAU5B,IAEQqI,GAAczP,EAA9BmS,YAHgB,YAGcnS,EAHd,kBAIlB4L,EAAS,kBAAC,EAAD,iBAAoB6D,EAApB,CAAgCmB,SAAWA,KAE1D,OACE,kBAACwB,EAAA,EAAD,CAAMpN,UAAWgE,EAAQyI,MACvB,kBAACY,EAAA,EAAD,CACEzG,OAASA,EACT1H,MAAQ0M,EAASsB,KAAKhO,MAAMlE,IAAQA,EAAMoC,KAC1CkQ,UAAYtS,EAAMuS,WAEpB,kBAACC,EAAA,EAAD,KACE,kBAACP,EAAUjS,SC9DNyS,EAFW5Q,IAAM6Q,eAAc,eC2C/BC,EAtCS,SAACxL,EAAWyL,GAAc,IAC1CC,EADyC,4MAG7CC,YAAc,SAAAC,GAAS,IAAD,EACe,EAAK/S,MAAhCgT,EADY,EACZA,aAAiBhT,EADL,kCAE6B+S,EAAzCE,oBAFY,MAEG,aAFH,EAEgBC,EAFhB,YAE6BH,EAF7B,kBAGdI,EAAU7C,OAAO8C,OAAO,GAAIR,EAAUM,EAAUlT,GAEtD,OACE,kBAACmH,EAAD,eACEpD,IAAMiP,EAENC,aAAeA,GACVE,KAbkC,uDAmB3C,OACE,kBAAC,EAAkBE,SAAnB,KACIzS,KAAKkS,iBArBgC,GACjBjR,IAAMsF,WA2B9BmM,EAAYzR,IAAMgC,YAAY,SAAC7D,EAAO+D,GAC1C,OAAO,kBAAC8O,EAAD,iBAAsB7S,EAAtB,CAA8BgT,aAAejP,QAMtD,OAFAuP,EAAUvR,aAAeoF,EAAUpF,aAE5BuR,G,4CCrBMC,EAlBC,SAACvT,GAAW,IAAD,EACSA,EAA1BmB,aADiB,MACT,GADS,EACLsO,EAAczP,EAAdyP,UAEpB,OACE,uCACE+D,IAAI,aACJC,IAAMC,IACNvS,MAAK,aACH4G,MAAO,MACPxG,OAAQ,OACRgG,QAAS,SACNpG,IAEAsO,KCFLkE,E,4MAEJrT,MAAQ,CACN+F,cAAc,EACd0M,KAAM,I,EAGRE,aAAe,SAACF,GACd,EAAKlS,SAAS,CAAEkS,U,EAGlBa,iBAAmB,WACjB,EAAK/S,SAAS,CAAEwF,cAAc,K,uDAGtB,IAAD,EACwBzF,KAAKZ,MAA5B0B,EADD,EACCA,SAAa1B,EADd,8BAEwBY,KAAKN,MAA5B+F,EAFD,EAECA,aAAc0M,EAFf,EAEeA,KAEtB,OACE,oCAEE,kBAAC,IAAD,CACEnM,OAAShG,KACTiG,OAAO,uBACPC,UAAW,CAAC,gBACZC,sBAAwBnG,KAAKgT,mBAG7BvN,EAAe,kBAAC,EAAD,MACb,kBAAC,EAAkBwN,SAAnB,CAA4B1Q,MAAK,aAC/B8P,aAAcrS,KAAKqS,cAChBjT,EAF4B,CAG/B+S,UAEErR,Q,GAnCmBG,IAAMsF,WA+CnC2M,E,kDAKJ,WAAY9T,GAAQ,IAAD,8BACjB,cAAMA,IAHRmM,SAAW,aAEQ,EAKnB4H,YAAc,SAAChB,GAAyB,IAAnB9M,EAAkB,wDAC/B+N,EAAU,EAAKhU,MAAMiU,eAAelB,GAGrC,EAAK/H,QAAQ5K,SAASuM,WAAaqH,IAChC/N,EAIJ,EAAK+E,QAAQ/E,QAAQ+N,EAAU,EAAKhJ,QAAQ5K,SAAS4F,MAHrD,EAAKgF,QAAQE,KAAK8I,EAAU,EAAKhJ,QAAQ5K,SAAS4F,QAXrC,EAmBnB2F,oBAAsB,SAACvL,EAAUwL,KAnBd,EA0BnBsI,kBAAoB,WAElB,EAAK/H,SAAW,EAAKnB,QAAQoB,OAAQ,EAAKT,sBAEpC,EAAK3L,MAAMmU,OAAOC,QAAQnI,QAC1B,EAAKjM,MAAM+S,KAAKqB,SAChB,EAAKpU,MAAM+S,KAAKqB,QAAQnI,QAC3B,EAAK8H,YAAY,EAAK/T,MAAM+S,MAAM,IAjCpB,EAqCnBsB,qBAAuB,WAErB,EAAKlI,YAvCY,EA2CnB8G,aAAe,SAACF,GACd,EAAKgB,YAAL,eAAsBhB,IAAQ,GAC9B,EAAK/S,MAAMiT,aAAX,eAA6BF,KA3C7B,EAAK/H,QAAUhL,EAAMgL,QAFJ,E,qDAiDT,IAAD,EAUHpK,KAAKZ,MARP0B,EAFK,EAELA,SACAqR,EAHK,EAGLA,KACAoB,EAJK,EAILA,OAKGnU,GATE,EAKLsU,aALK,EAMLL,eANK,EAOLjJ,QAPK,EAQLiI,aARK,sGAYP,OACE,kBAAC,EAAkBY,SAAnB,CAA4B1Q,MAAK,aAC/B8P,aAAcrS,KAAKqS,cAChBjT,EAF4B,GAG5B+S,EAH4B,GAI5BoB,IAEDzS,O,GAzEmBG,IAAMsF,WAgH7BoN,EAA8B5B,GAvBf,SAAC3S,GAAW,IACvBwU,EAA2DxU,EAA3DwU,WAAYF,EAA+CtU,EAA/CsU,aAAcL,EAAiCjU,EAAjCiU,eAAmBxE,EADvB,YACqCzP,EADrC,gDAE9B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEwL,KAAOgJ,EACP5H,OAAS,SAAA6H,GAAe,IACLN,EAAsBM,EAA/BnH,MAAS6G,OAAUnJ,EAAYyJ,EAAZzJ,QACrB0J,EAAkBJ,EAAaH,GACrC,OACE,kBAAC,EAAD,cACO,CAAEG,eAAcL,iBAAgBjJ,WAChCyE,EAFP,CAGE0E,OAASO,WAYrB,CAAE3B,KAAM,CAAEqB,QAAS,CAAChK,KAAM,UAebuK,EAXS,SAAC3U,GAAW,IAC1B0B,EAAuD1B,EAAvD0B,SAAU8S,EAA6CxU,EAA7CwU,WAAYF,EAAiCtU,EAAjCsU,aAAcL,EAAmBjU,EAAnBiU,eAC5C,OACE,kBAAC,EAAD,KACE,kBAACM,EAAiC,CAAEC,aAAYF,eAAcL,kBAC1DvS,K,8FCxKJyN,GAAiBtN,IAAMgC,YAAW,SAAC7D,EAAO+D,GAAS,IAC/C7C,EAAgClB,EAAhCkB,QAASkO,EAAuBpP,EAAvBoP,OAAQ/N,EAAerB,EAAfqB,KAAM4B,EAASjD,EAATiD,MAE/B,OACE,kBAACoM,EAAA,EAAD,CACErM,IAAMoM,EACNlO,QAJgB,kBAAMA,EAAQkO,IAK9BrL,IAAMA,GAEN,kBAACuL,EAAA,EAAD,KACIjO,GAEJ,kBAACkO,EAAA,EAAD,CAAc9L,QAAUR,GAASmM,QAKjCvM,GAAgBhB,IAAM+S,MAAK,SAAC5U,GAAW,IACnCiB,EAAsBjB,EAAtBiB,EAAG4T,EAAmB7U,EAAnB6U,MAAOrF,EAAYxP,EAAZwP,QADwB,EAGV3N,IAAM6N,SAAS,MAHL,mBAGnCC,EAHmC,KAGzBC,EAHyB,KAIpCrG,EAAO6D,QAAQuC,GAIfE,EAAc,kBAAMD,EAAY,OAGhCE,EAAqB,SAAC3M,GAC1B0M,IACAgF,EAAM1R,IAGR,OACE,6BACE,kBAAC2R,GAAA,EAAD,CAAS5Q,MAAQjD,EAAE,eAAiBiI,aAAajI,EAAE,QACjD,kBAAC8T,GAAA,EAAD,CACEjM,MAAM,UACNI,aAAajI,EAAE,OACfC,QAfgB,SAACH,GAAD,OAAW6O,EAAY7O,EAAMmP,gBAgB7CD,gBAAc,QAEd,kBAAC,KAAD,QAGFN,EACE,kBAACpN,EAAA,EAAD,CACE0C,GAAE,kBACF0K,SAAWA,EACXS,aAAW,EACX7G,KAAOA,EACPe,QAAUuF,EACVmF,gBAAiB,CACfC,SAAU,SACVC,WAAY,SAEd7E,WAAY,CACVlP,MAAO,CACL4G,MAAO,UAITyH,EAAQiB,KAAK,SAAArB,GAAM,OACjB,kBAAC,GAAD,CACEpM,IAAMoM,EAAOpM,IACboM,OAASA,EAAOpM,IAChB9B,QAAU4O,EACVzO,KAAO+N,EAAO/N,KACd4B,MAAQhC,EAAEmO,EAAOhN,YAKvB,SAgBGJ,uBAAU,gBAAVA,CAA2Ba,I,gDCzGpCsS,GAAO,aA+CEC,G,WAnCb,WAAYpV,GAAQ,IAAD,gCANnBoC,KAAO,SAMY,KAFnB4M,WAAa,IAAIqG,gBAEE,KAcnBC,kBAAoB,SAACvH,GAEnB,OAAMA,EAASwH,GAGRxH,EAFE,IAAIyH,MAAJ,UAAa,EAAKpT,KAAlB,qBAAmC2L,EAAS0H,cAjBpC,KAwBnBC,iBAAmB,SAACC,GACA,eAAbA,EAAIvT,KACPqM,QAAQC,IAAI,qBAAsBiH,IAGlCA,EAAIhU,QAAJ,UAAiB,EAAKS,KAAtB,qBAAuCuT,EAAIhU,SAC3C,EAAKiU,QAAQD,KA7Bf/U,KAAKqO,SAAWjP,GAASA,EAAMiP,SAAWjP,EAAMiP,SAAWkG,GAC3DvU,KAAKgV,QAAU5V,GAASA,EAAM4V,QAAU5V,EAAM4V,QAAUT,G,oDAOxDvU,KAAKoO,WAAW6G,QAChBjV,KAAKoO,WAAa,IAAIqG,oB,KCrBpBS,GAAU,SAAAC,GACd,OAAmB,IAAfA,EAAI9J,OACC,EAGF,YAAI8J,GACRtF,KAAK,SAAAuF,GAAI,OAAIA,EAAKC,WAAW,MAC7BC,QAAQ,SAAClQ,EAAMmQ,GACd,IAAMC,GAAYpQ,GAAQ,GAAKA,EAAQmQ,EACvC,OAAOC,EAAUA,IAClB,IAICC,GAQJ,WAAYC,GAAM,IAAD,gCAPjBC,OAAS,KAOQ,KANjBC,OAAS,KAMQ,KALjBC,aAAe,EAKE,KAJjBC,aAAc,EAIG,KAHjBC,UAAY,GAGK,KAFjBL,IAAM,GAEW,KAKjBhB,kBAAoB,SAACvH,GAEnB,IAAMA,EAASwH,GACb,MAAM,IAAIC,MAAJ,UAAazH,EAAS0H,aAG9B,OAAO1H,GAXQ,KAgBjB2H,iBAAmB,SAACC,GACD,eAAbA,EAAIvT,OAMNuT,EAAIhU,QAAJ,UAAiB,EAAK2U,IAAtB,aAA8BX,EAAIhU,SAClC,EAAKiU,QAAQD,KAxBA,KA6BjBiB,WAAa,kBAAM,EAAKL,OAAS,MA7BhB,KAgCjBX,QAAU,SAACjV,GACT,EAAKgW,UAAUE,SAAS,SAAAC,GACtBA,EAASlB,QAAQjV,MAGnB,EAAKiW,cArCU,KAyCjBG,YAAc,SAAC7H,EAAW0G,GAyBxB,OAxBA,EAAKe,UAAUzL,KAAK,CAClBgE,YACA0G,YAIG,EAAKW,QACU,OAAhB,EAAKC,QACP,EAAK5I,QAKD,EAAK8I,aACU,OAAhB,EAAKF,QACP,IAAIQ,SACH,SAACC,EAASC,GAAV,OAAqBD,EAAQ,EAAKT,WACjC1I,KAAMoB,GAOJ,kBAAM,EAAKiI,eAAgBjI,KAlEnB,KAsEjBiI,eAAiB,SAACjI,GAGhB,IAAMkI,EAAQ,EAAKT,UAChBlG,KAAK,SAACqG,EAAUO,GAAX,MAAsB,CAAEP,WAAUO,YACvC9Q,MAAM,SAAA+Q,GAAC,OAAIA,EAAER,SAAS5H,YAAcA,KAElCkI,EAMH,EAAKT,UAAUY,OAAOH,EAAMC,MAAO,GAGnC5I,QAAQ+I,QAAR,+BAAwC,EAAKlB,IAA7C,yBAIE,EAAKC,QACqB,IAA1B,EAAKI,UAAU1K,SACjB,EAAKsK,OAAOV,QACZ,EAAKe,eA7FQ,KAkGjBa,oBAAsB,YAA+B,IAA5BjB,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAS/B,OARA,EAAKD,OAASA,EACd,EAAKC,aAAeA,EACpB,EAAKE,UACFE,SAAS,SAAAC,GAAQ,OAAIA,EAAS5H,UAAU,EAAKsH,WAEhD,EAAKI,aAGE,EAAKJ,QA3GG,KA+GjBkB,4BAA8B,SAAC3J,GAAD,OAAc,IAAI4J,KAAK5J,EAASF,QAAQI,IAAI,mBA/GzD,KAuHjBL,MAAQ,WAA0B,IAAzBgK,EAAwB,uDAAb,aAElB,OADA,EAAKrB,OAAS,IAAIlB,gBACXzH,MAAO,EAAK0I,IAAK,CAAEC,OAAQ,EAAKA,OAAOA,SAC3CzI,KAAM,EAAKwH,mBACXxH,MAAM,SAAAC,GAAQ,OAAIA,EAAS8J,OAAO/J,MAAM,SAAA0I,GAAM,MAAK,CAClDA,SACAC,aAAc,EAAKiB,4BAA4B3J,UAEhDD,KAAM,EAAK2J,qBACX3J,KAAM8J,GACNpJ,MAAO,EAAKkH,mBAjIA,KAsIjBoC,kBAAoB,SAAC5I,EAAW0G,GAC9BhI,MAAO,EAAK0I,IAAK,CAAEyB,OAAQ,SACxBjK,KAAM,EAAKwH,mBACXxH,KAAM,EAAK4J,6BACX5J,MAAM,SAAAkK,GAAI,OAAIA,EAAO,EAAKvB,gBAC1B3I,KAAMoB,GACNV,MAAOoH,IA5IK,KAgJjBqC,WAAa,WACX,OAAQ,IAAIjB,SACV,SAACC,EAASC,GACa,OAAhB,EAAKV,QACR,EAAKE,aAAc,EAGd,EAAKC,UAAU1K,OAAS,EAI3B,EAAK2B,MAAMqJ,GAQXA,KASFA,QA3KNrW,KAAK0V,IAAMA,GA+OT4B,GAAQ,I,iDAlDZnF,KAAO,G,KAEP3Q,KAAO,gB,KAMPwL,MAAQ,SAAC0I,EAAKpH,GAAmC,IAAxB0G,EAAuB,uDAAb,aAC3B3Q,EAAK6Q,GAAQQ,GAOnB,OAJOrR,KAAM,EAAK8N,OAChB,EAAKA,KAAK9N,GAAM,IAAIoR,GAAmBC,IAGlC,EAAKvD,KAAK9N,GAAI8R,YACnB7H,EACA0G,I,KAMJkC,kBAAoB,SAACxB,EAAKpH,EAAW0G,GACnC,IAAM3Q,EAAK6Q,GAAQQ,GACnB,EAAKvD,KAAK9N,GAAI6S,kBAAkB5I,EAAW0G,I,KAI7CqC,WAAa,SAAC3B,GACZ,IAAMrR,EAAK6Q,GAAQQ,GACnB,OAAOrR,KAAM,EAAK8N,KAYX,EAAKA,KAAK9N,GAAIgT,aAXX,IAAIjB,SACV,SAACC,EAASC,GAMRD,SAWV3G,OAAO6H,OAAOD,IAECA,UC/IAE,G,4MApHbhW,KAAO,e,EAMPiW,iBAAkB,E,EAClBC,mBAAqB,QAAQC,MAAM,K,EAEnCC,SAAW,G,EAQXC,YAAc,SAACb,GAAkC,IAAxBhC,EAAuB,uDAAb,aACjCsC,GAAMJ,kBACJ,EAAKU,UACL,SAAAE,GAIEd,EAASc,MAEX,SAAA/X,GACE8N,QAAQ9N,MAAR,UAAiB,EAAKyB,KAAtB,iCAA2DzB,GAC3DiV,EAAQjV,O,EAMdgY,c,wBAAgB,uBAAAC,EAAA,sDACdnK,QAAQoK,KAAR,UAAgB,EAAKzW,KAArB,uDADc,2C,EAMhB0W,UAAY,SAAClB,IACX,yCAAC,WAAOA,GAAP,UAAAgB,EAAA,sEAGO,EAAKD,gBAHZ,uBAUOT,GAAMD,WAAY,EAAKO,UAV9B,OAYCZ,GAAS,GAZV,2CAAD,sDAaGA,I,EAKLmB,eAAiB,SAACnB,GAChB,EAAKa,aAAa,SAACC,GACbA,EACF,EAAKI,WAAU,kBAAMlB,GAAS,MAG9BA,GAAS,O,EAMfoB,qBAAuB,WAChB,EAAKX,iBACRhM,aAAc,EAAKgM,kB,EAKvBY,mBAAqB,WAAwC,IAAvCC,EAAsC,wDAAtBC,EAAsB,wDAEpDC,GAAwB,IAAXF,EACf,EAAKG,qBACLH,EASJ,EAAKF,uBACL,EAAKX,gBAAkBpN,YACrB,kBAAM,EAAK8N,gBACT,SAAAO,GAAO,SAAIH,GAAcG,IACrB,EAAKL,oBAAoBK,GAAkB,UAEjDF,I,EAQJC,mBAAqB,WACnB,IAAME,EAAM,IAAI5B,KAEV6B,EADiB,aAAO7B,KAAP,CAAY4B,EAAIE,cAAeF,EAAIG,WAAYH,EAAII,WAAnD,mBAAiE,EAAKrB,oBAAtE,CAA0F,EAAG,KACpEiB,EAEhD,OAAOC,GAAuB,EAC1BA,EAAsB,MACtBA,G,YAlHcpE,ICAhBwE,IAAgB7P,uFAEhB8P,GAAI,UAAmBD,GAAnB,cAEJE,GAAa,UAAUF,GAAV,gBACbG,GAAa,UAAUH,GAAV,iBAEbI,GAAW,UAAYJ,GAAZ,8BACXK,GAAa,UAAUL,GAAV,gCACbM,GAAW,UAAYN,GAAZ,8BACXO,GAAS,UAAcP,GAAd,4BACTQ,GAAgB,UAAOR,GAAP,mCAChBS,GAAc,UAAST,GAAT,iCAEdU,GAAY,UAAWV,GAAX,+BACZW,GAAc,UAASX,GAAT,iCACdY,GAAY,UAAWZ,GAAX,+BACZa,GAAU,UAAab,GAAb,6BAkIDc,GA9HO,CACpBb,QACAc,SAAU,CACRC,KAAM,CACJ1W,MAAO,8CACPjB,MAAO,wBACPb,KAAM,wBACNyY,OAAQ,CACN,CAAC,MAAS,OAAQ,IAAO,oBAAkB,MAAS,MACpD,CAAC,MAAS,OAAQ,IAAO,oBAAkB,MAAS,MACpD,CAAC,MAAS,OAAQ,IAAO,oBAAkB,MAAS,KACpD,CAAC,MAAS,OAAQ,IAAO,oBAAkB,MAAS,KACpD,CAAC,MAAS,OAAQ,IAAO,oBAAkB,MAAS,KACpD,CAAC,MAAS,OAAQ,IAAO,gBAAc,MAAS,KAChD,CAAC,MAAS,OAAQ,IAAO,cAAe,MAAS,KACjD,CAAC,MAAS,OAAQ,IAAO,mBAAiB,MAAS,KACnD,CAAC,MAAS,OAAQ,IAAO,gBAAiB,MAAS,KACnD,CAAC,MAAS,OAAQ,IAAO,WAAY,MAAS,KAC9C,CAAC,MAAS,OAAQ,IAAO,oBAAkB,MAAS,IACpD,CAAC,MAAS,OAAQ,IAAO,gBAAc,MAAS,IAChD,CAAC,MAAS,OAAQ,IAAO,qBAAmB,MAAS,IACrD,CAAC,MAAS,OAAQ,IAAO,YAAa,MAAS,IAC/C,CAAC,MAAS,OAAQ,IAAO,iBAAkB,MAAS,GACpD,CAAC,MAAS,OAAQ,IAAO,cAAe,MAAS,GACjD,CAAC,MAAS,OAAQ,IAAO,gBAAc,MAAS,KAGpDC,UAAW,CACT5W,MAAO,8DACPjB,MAAO,0BACPb,KAAM,wCACNyY,OAAQ,CACN,CAAC,MAAS,OAAQ,IAAO,QAAS,MAAS,KAC3C,CAAC,MAAS,OAAQ,IAAO,eAAgB,MAAS,KAClD,CAAC,MAAS,OAAQ,IAAO,eAAgB,MAAS,KAClD,CAAC,MAAS,OAAQ,IAAO,cAAe,MAAS,IACjD,CAAC,MAAS,OAAQ,IAAO,aAAc,MAAS,IAChD,CAAC,MAAS,OAAQ,IAAO,aAAc,MAAS,IAChD,CAAC,MAAS,OAAQ,IAAO,aAAc,MAAS,IAChD,CAAC,MAAS,OAAQ,IAAO,MAAO,MAAS,KAG7CE,GAAI,CACF7W,MAAO,wDACPjB,MAAO,KACPb,KAAM,kCACNyY,OAAQ,CACN,CAAC,MAAS,OAAQ,IAAO,MAAO,MAAS,GACzC,CAAC,MAAS,OAAQ,IAAO,aAAc,MAAS,KAChD,CAAC,MAAS,OAAQ,IAAO,eAAgB,MAAS,KAClD,CAAC,MAAS,OAAQ,IAAO,YAAa,MAAS,SAC/C,CAAC,MAAS,OAAQ,IAAO,MAAO,MAAS,KAG7CG,KAAM,CACJ9W,MAAO,qEACPjB,MAAO,eACPb,KAAM,+CACNyY,OAAQ,CACN,CAAC,MAAS,UAAW,IAAO,OAAQ,MAAS,IAC7C,CAAC,MAAS,UAAW,IAAO,aAAc,MAAS,IACnD,CAAC,MAAS,UAAW,IAAO,aAAc,MAAS,IACnD,CAAC,MAAS,UAAW,IAAO,aAAc,MAAS,IACnD,CAAC,MAAS,UAAW,IAAO,aAAc,MAAS,IACnD,CAAC,MAAS,UAAW,IAAO,OAAQ,MAAS,KAGjDI,OAAQ,CACN/W,MAAO,qDACPjB,MAAO,UACPb,KAAM,+BACNyY,OAAQ,CACN,CAAC,MAAS,UAAW,IAAO,QAAS,MAAS,IAC9C,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,IACrD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,IACrD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,IACrD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,IACrD,CAAC,MAAS,UAAW,IAAO,cAAe,MAAS,GACpD,CAAC,MAAS,UAAW,IAAO,aAAc,MAAS,GACnD,CAAC,MAAS,UAAW,IAAO,aAAc,MAAS,GACnD,CAAC,MAAS,UAAW,IAAO,MAAO,MAAS,KAGhDK,QAAS,CACPhX,MAAO,uDACPjB,MAAO,WACPb,KAAM,iCACNyY,OAAQ,CACN,CAAC,MAAS,UAAW,IAAO,SAAU,MAAS,KAC/C,CAAC,MAAS,UAAW,IAAO,gBAAiB,MAAS,KACtD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,KACrD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,KACrD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,KACrD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,KACrD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,KACrD,CAAC,MAAS,UAAW,IAAO,eAAgB,MAAS,KACrD,CAAC,MAAS,UAAW,IAAO,OAAQ,MAAS,MAInDM,KAAM,CACJC,QAAS,CACPC,IAAKvB,GACLwB,OAAQ,CACNV,KAAWV,GACXY,UAAWV,GACXW,GAAWZ,GACXa,KAAWhB,GACXiB,OAAWhB,GACXiB,QAAWb,KAGfkB,SAAU,CACRF,IAAKtB,GACLuB,OAAQ,CACNV,KAAWJ,GACXM,UAvHe,UAAMlB,GAAN,oCAwHfmB,GAAWN,GACXO,KAAWV,GACXW,OAAWV,GACXW,QA1Ha,UAAQtB,GAAR,sCCjBf4B,G,4MAEJpZ,KAAO,kB,EACPoW,SAAWkC,GAAcb,K,EAMzBxB,iBAAkB,E,EAClBC,mBAAqB,QAAQC,MAAM,K,EAGnCI,c,wBAAgB,uCAAAC,EAAA,qEAEE4C,EAAeC,SAFjB,yDAENN,EAFM,uBAGKK,EAAeF,OAAOH,IAH3B,gEAGJhY,EAHI,kBAOJ+U,GAAMD,WAAYyC,GAAcS,KAAKA,GAAMG,OAAOnY,IAP9C,2W,EA4BhB0W,KAAO,SAACjC,GAAD,OAAcM,GAAMtK,MAAO8M,GAAcb,KAAMjC,I,EACtD7E,KAAO,SAACoI,EAAMG,EAAQ1D,GAAf,OAA4BM,GAAMtK,MAAO8M,GAAcS,KAAKA,GAAMG,OAAOA,GAAS1D,I,YA1C9DQ,IAAvBoD,GA4BGC,MAAS,kBAAUnL,OAAOC,KAAKmK,GAAcS,OA5BhDK,GA6BGF,OAAS,SAACH,GAAD,OAAU7K,OAAOC,KAAKmK,GAAcS,KAAKA,GAAMG,SA7B3DE,GA8BGH,IAAS,SAACF,GAAD,OAAUT,GAAcS,KAAKA,GAAME,KA9B/CG,GAgCGb,SAAW,SAACW,EAAQI,GAAT,OAAkBhB,GAAcC,SAASW,GAAQI,IAhC/DF,GAiCGG,WAAa,SAACL,GAAD,OAAYE,GAAeb,SAASW,EAAQ,WAjC5DE,GAkCGI,UAAa,SAACN,GAAD,OAAYE,GAAeb,SAASW,EAAQ,UAlC5DE,GAmCGK,UAAa,SAACP,GAAD,OAAYE,GAAeb,SAASW,EAAQ,UAnC5DE,GAoCGM,SAAa,SAACR,GAAD,OAAYE,GAAeb,SAASW,EAAQ,SASnDE,U,wCC/BAO,GAXHC,aAAOC,KAAPD,EAAqB,gBAAEtW,EAAF,EAAEA,MAAOoD,EAAT,EAASA,MAAT,oBAC/Bf,MAAOrC,EAAMgD,QAAQ,GACrBgJ,OAAQhM,EAAMgD,QAAQ,GACtBwT,YAAaxW,EAAMgD,QAAQ,IACxBhD,EAAMyW,MAJsB,CAK/BC,YAAa,EACbC,YAAa,QACbC,YAAa5W,EAAM6W,QAAQC,KAAKC,KAChCC,gBAAiB5T,OCSJ6T,GApBO,SAAC,GAA6B,IAA5BxZ,EAA2B,EAA3BA,MAAO2F,EAAoB,EAApBA,MAAUkE,EAAU,iCACjD,OACE,kBAAC4P,GAAA,EAAD,eACEC,WAAS,EACTC,UAAU,MACVtV,WAAW,SACXuV,KAAK,UACA/P,GAEL,kBAAC4P,GAAA,EAAD,CAAMI,MAAI,GAAC,kBAAC,GAAD,CAAKlU,MAAQA,KACxB,kBAAC8T,GAAA,EAAD,CAAMI,MAAI,GAAG7Z,KCHb8Z,I,OAAqBjB,aAAOkB,KAAPlB,EAAsB,gBAAEtW,EAAF,EAAEA,MAAF,oBAC/CgX,gBAAgB,GAAD,OAAKhX,EAAM6W,QAAQY,WAAWC,QAA9B,eACftU,MAAM,GAAD,OAAKpD,EAAM6W,QAAQC,KAAK/Y,QAAxB,eACL4Z,QAAS,eACTf,YAAY,GAAD,OAAK5W,EAAM6W,QAAQC,KAAKC,KAAxB,gBACR/W,EAAMyW,MALsC,CAM/CmB,WAAY5X,EAAM6X,WAAWD,WAC7BlZ,SAAUsB,EAAM6X,WAAWnZ,SAC3B,WAAY,CACVoZ,eAAe,GAAD,OAAK9X,EAAM6W,QAAQC,KAAKC,KAAxB,gBAEhB,UAAW,CACTe,eAAe,GAAD,OAAK9X,EAAM6W,QAAQY,WAAWC,QAA9B,sBAKZK,GAAS,kBAAM,yCACf/J,GAAQ,kBAAM,kBAAC,EAAD,OAWdgK,G,4MAEJrC,IAAM,K,EACN/a,MAAQ,CAENqd,UAAW,M,EAKbC,eAAiB/b,IAAMgc,Y,EAGvBC,OAAS,kBAAM,EAAKF,eAAeG,QAAQC,WAAWC,cAAvC,Q,EAEfC,aAAe,WACb,OAAO,EAAKN,gBACV,YAAa,EAAKA,gBAClB,EAAKA,eAAeG,SACpB,eAAgB,EAAKH,eAAeG,SACpC,EAAKH,eAAeG,QAAQC,YAC5B,kBAAmB,EAAKJ,eAAeG,QAAQC,YAC/C,EAAKF,U,EAITK,eAAiB,SAACC,GAChB,IAAMtV,EAAQ,EAAK9I,MAAM6a,OACtBtU,MAAM,SAAA8X,GAAC,OAAID,GAASC,EAAED,SACzB,OAAOtV,EAAQA,EAAMA,MAAQ,O,EAI/BwV,mBAAqB,SAACnb,EAAO8B,GAC3B,EAAKsZ,YAAYtZ,GAAI9D,MAAMqd,KAAO,EAAKL,eAAehb,I,EAIxDsb,cAAgB,SAACze,GACf,IAAMsb,EAAStb,EAAMsb,OAAQtb,EAAMmS,cAAiB,GAEpD7B,OAAOC,KAAK+K,GAAQzE,SADO,SAAA5R,GAAE,OAAI,EAAKqZ,mBAAmBhD,EAAOrW,GAAKA,O,EAKvEyZ,eAAiB,SAACC,GAChB,IAAMC,EAAO,eAAW,EAAK5e,MAAMiF,IACnC0Z,EAAQE,aAAa,WAAYF,EAAQ1Z,IACzC0Z,EAAQE,aAAa,WAAYD,I,EAInCE,kBAAoB,SAACzD,GACnB,EAAKkD,YACHQ,MAAMC,UAAU9I,OAAO+I,KACrB,EAAK5D,IAAI6D,iBAAT,cACA,SAAC1I,EAAQuH,GAGP,OAFAvH,EAAOuH,EAAQ9Y,IAAM8Y,EACrB,EAAKW,eAAeX,GACbvH,IAET,K,EAKN2I,gBAAkB,SAAC9D,GACjB,EAAKA,IAAMA,EACX,EAAKyD,oBACL,EAAKL,cAAc,EAAKze,OACxB,EAAKa,SAAS,CAAC8c,UAAW,qB,EAI5ByB,eAAiB,SAACze,EAAO0a,GACvB,GAAI1a,EACF,MAAM6U,MAAM7U,GAIduc,KAAamC,UACb,EAAKhE,IAAMA,EACX,EAAKoD,cAAc,EAAKze,OACxB,EAAKa,SAAS,CAAC8c,UAAW,oB,EAI5B2B,uBAAyB,SAACtf,GACnB,EAAKke,gBAAkB,EAAK7C,KAC/B,EAAKoD,cAAcze,I,EA2CvBuf,aAAe,SAAAxe,GAAK,OAAI,EAAKF,SAAS,CAAE2e,YAAaze,EAAM0e,OAAOxa,M,EAClEya,aAAe,SAAA3e,GAAK,OAAI,EAAKF,SAAS,CAAE2e,aAAa,K,EACrDG,cAAgB,SAAA1a,GACd,GAAKA,EAAK,CAAC,IAAD,EAC6B,EAAKjF,MAAnCsb,EADC,EACDA,OAAQnJ,EADP,EACOA,YAAalP,EADpB,EACoBA,MACtB2c,EAAYtE,EAAQnJ,GACpBwM,EAAU,EAAKJ,YAAYtZ,GAC3B6D,EAAQ,EAAKqV,eAAeyB,EAAU3a,IACtC9B,EAAK,UAAOF,EAAP,aAAmB2c,EAAYA,EAAU3a,GAAM,IAC1D,IAAK0Z,EACH,MAAO,GAET,IAAMkB,EAAelB,EAAQmB,aAAa,SAC1C,OACE,oCACE,4BAAMD,GACN,kBAAC,GAAD,cAAoB,CAAC1c,QAAO2F,SAA5B,CAAqCiX,QAAQ,aAKnD,MAAO,I,iEA5DUzT,EAAWC,GACxB3L,KAAKZ,MAAMggB,SAAW1T,EAAU0T,QAClCpf,KAAKC,SAAS,CAAC8c,UAAW,eAE5B/c,KAAK0e,uBAAuB1e,KAAKZ,S,0CAIjCY,KAAK0e,uBAAuB1e,KAAKZ,OACjCY,KAAKC,SAAS,CAAC8c,UAAW,c,oDAKnB/c,KAAK2d,mBACL3d,KAAKya,M,4CAOQ4E,EAAWC,GAS/B,OARItf,KAAKZ,MAAMmS,cAAgB8N,EAAU9N,cACvCvR,KAAK0e,uBAAuBW,GACxBrf,KAAKN,MAAMkf,aAGbtC,KAAaiD,KAAKvf,KAAK2d,YAAa3d,KAAKN,MAAMkf,eAG/C5e,KAAKZ,MAAMggB,SAAcC,EAAUD,QACnCpf,KAAKN,MAAMqd,YAAcuC,EAAUvC,Y,+BA+B/B,IAAD,EACqB/c,KAAKZ,MAA1BggB,EADA,EACAA,OAAQ9b,EADR,EACQA,MAAOe,EADf,EACeA,GACtB,OACE,oCACE,kBAAC,KAAD,CACEwO,IAAMuM,EACNjc,IAAMnD,KAAKgd,eACXwC,KAAK,MACLlX,aAAahF,EACbib,gBAAkBve,KAAKue,gBACvBC,eAAiBxe,KAAKwe,eACtBiB,YAAY,QACZ5C,SAAWA,GACX/J,QAAUA,GACV4M,uBAAwB,IAE1B,kBAACrD,GAAD,CACEhY,GAAE,eAAWA,GACbsb,WAAa3f,KAAK+e,cAClBa,UAAY5f,KAAK2e,aACjBkB,UAAY7f,KAAK8e,aACjBgB,QAAS,S,GAjLI7e,IAAMsF,WAwL7BuW,GAAS3b,aAAe,CACtBuZ,OAAQ,GACRnJ,YAAa,EACblP,MAAO,QACPiB,MAAO,OAgBMwZ,U,kDCxOTtW,GAAYC,aAAW,SAAC3B,GAAD,MAAY,CACvCib,YAAa,CACXC,SAAU,KAEZC,YAAa,CACXC,UAAWpb,EAAMgD,QAAQ,QAMvBqY,GAAW,SAAC/gB,GAChB,IAAMgJ,EAAU5B,KACRnE,EAA2CjD,EAA3CiD,MAAO+d,EAAoChhB,EAApCghB,KAAM/b,EAA8BjF,EAA9BiF,GAAIuK,EAA0BxP,EAA1BwP,QAAYC,EAFX,YAEyBzP,EAFzB,iCAG1B,OACE,yBAAKmB,MAAO,CACVI,OAAQ,SACRgG,QAAS,UAET,kBAAC0Z,GAAA,EAAD,CAAaC,UAAQ,EAAClc,UAAYgE,EAAQ2X,aACxC,kBAACQ,GAAA,EAAD,CAAYC,QAAUnc,GAAOhC,GAC7B,kBAACoe,GAAA,EAAD,eACEC,QAAM,GACD7R,EAFP,CAGE/C,mBAAA,sBAAkCzH,GAClCsc,WAAY,CACVnf,KAAMa,EACNgC,GAAIA,KAGJuK,EAAQiB,KAAK,SAAArB,GAAM,OACnB,4BAAQpM,IAAG,YAAQoM,EAAOjM,OAAUA,MAAQiM,EAAOjM,OAAUiM,EAAOnM,WAGtE+d,EACE,kBAACQ,GAAA,EAAD,CAAgBvc,GAAE,sBAAkBA,IAChC+b,GAEF,QAQRS,GAAqBC,GAAQjG,QAChChL,KAAK,SAAA0K,GAAI,MAAK,CAAEhY,MAAOgY,EAAMlY,MAAOkY,MACjCwG,GAAc3f,oBAAU,kBAAVA,EAA6B,SAAChC,GAAW,IACnDiB,EAAoBjB,EAApBiB,EAAMwO,EAD4C,YAC9BzP,EAD8B,OAE1D,OACE,kBAAC,GAAD,eACEwP,QAAUiS,GACVxe,MAAQhC,EAAE,QACV+f,KAAO/f,EAAE,oCACJwO,OAMLmS,GAA0BF,GAAQjG,QACrCvF,QAAQ,SAAC1G,EAAS2L,GAGjB,OAFA3L,EAAQ2L,GAAQuG,GAAQpG,OAAOH,GAC5B1K,KAAK,SAAA6K,GAAM,MAAK,CAAEnY,MAAOmY,EAAQrY,MAAOye,GAAQ5F,SAASR,OACrD9L,IACN,IACCqS,GAAmB7f,oBAAU,kBAAVA,EAA6B,SAAChC,GAAW,IACxDmb,EAA0Bnb,EAA1Bmb,KAAMla,EAAoBjB,EAApBiB,EAAMwO,EAD2C,YAC7BzP,EAD6B,cAE/D,OACE,kBAAC,GAAD,eACEiD,MAAQhC,EAAE,UACV+f,KAAO/f,EAAE,0BACTuO,QAAUoS,GAAwBzG,IAC7B1L,OAwCIqS,G,4MA9BbC,gBAAkB,SAAChhB,GAAD,OAAW,EAAKf,MAAM+hB,gBAAgBhhB,EAAM0e,OAAOtc,Q,EACrE6e,iBAAmB,SAACjhB,GAAD,OAAW,EAAKf,MAAMgiB,iBAAiBjhB,EAAM0e,OAAOtc,Q,uDAE7D,IAAD,EACuBvC,KAAKZ,MAA3BiiB,EADD,EACCA,QAASC,EADV,EACUA,SAEjB,OACE,yBAAK/gB,MAAO,CAAEK,UAAW,SACvB,kBAACmgB,GAAD,CACExe,MAAQ8e,EACRE,SAAWvhB,KAAKmhB,kBAElB,kBAACK,GAAA,EAAD,CAASjhB,MAAO,CAAEI,OAAQ,WAC1B,kBAACsgB,GAAD,CACE1G,KAAO8G,EACP9e,MAAQ+e,EACRC,SAAWvhB,KAAKohB,wB,GAlBPngB,IAAMC,eC/EnBugB,GAAU,SAAC,GAAyC,IAAxCC,EAAuC,EAAvCA,WAAYC,EAA2B,EAA3BA,SAAUzZ,EAAiB,EAAjBA,MAAO0Z,EAAU,EAAVA,KACvCC,EAAW,SAACtf,GAAD,gBAAcA,GAAd,YAAgCuI,IAAVvI,GAAuBqf,EAAOA,EAAO,KACtErf,EAAQmf,GAA2B,OAAbC,EAAd,UACPE,EAASH,GADF,cACmBG,EAASF,IACzB,OAAbA,EAAA,YACOE,EAASF,IADhB,YAEOE,EAASH,IACpB,OAAO,kBAAC,GAAD,eAAevC,QAAQ,YAAgB,CAAC5c,QAAO2F,YAYlD4Z,GAAqB,SAAC,GAAD,IAAExe,EAAF,EAAEA,MAAOxC,EAAT,EAASA,SAAasL,EAAtB,2CACzB9I,GAASA,EAAM+H,OACb,kBAAC6I,GAAA,EAAD,eACE6N,OAAK,EACLC,UAAU,MACV1e,MAAQA,GACH8I,GAEHtL,GAEFA,GAoCSmhB,GAhCA,SAAC,GAAD,IAAEhI,EAAF,EAAEA,OAAF,OACb,kBAAC+B,GAAA,EAAD,CACEC,WAAS,EACTC,UAAU,SACViD,QAAQ,SACRvY,WAAW,aACXsb,aAAa,UAEXjI,EAAOpK,KAAK,SAAC3H,EAAOuO,GAAR,OACV,kBAAC,GAAD,CAAoBrU,IAAMqU,EAAQnT,MAAQ4E,EAAMia,KAC9C,kBAACnG,GAAA,EAAD,CAAMI,MAAI,GACR,kBAAC,GAAD,CACEsF,WAAaxZ,EAAMsV,MACnBmE,SAAqB,IAAVlL,EAAc,KAAOwD,EAAOxD,EAAQ,GAAG+G,MAClDtV,MAAQA,EAAMA,eC/CtBka,GAAarR,EAAW,CAE5BO,KAAM,CACJ7Q,KAAM,kBAAC,IAAD,CAAiBA,KAAO4hB,MAC9BhgB,MAAO,mBAAWhC,EAAX,EAAGA,GAAU,SACpBiD,MAAO,SAAClE,GAAD,OAAWA,EAAMoC,MACxBwK,OAAQ,gBAAE3L,EAAF,EAAEA,EAAGghB,EAAL,EAAKA,QAAShf,EAAd,EAAcA,MAAOigB,EAArB,EAAqBA,QAAS/Q,EAA9B,EAA8BA,YAAa0I,EAA3C,EAA2CA,OAAQ5V,EAAnD,EAAmDA,GAAnD,OACN,oCACKie,GAAaA,EAAQC,OAGpB,kBAAC,GAAD,CACEjf,MAAK,UAAMjD,EAAE,OAAR,wBAA8BA,EAAEghB,IACrChf,MAAQA,EACRqY,OAAS4H,EAAQC,OACjBnD,OAAS0B,GAAQrG,IAAI4G,GACrB9P,YAAcA,EACd0I,OAASA,EACT5V,GAAKA,IATP,kBAAC,EAAD,SAiBVme,KAAM,CACJ/hB,KAAM,kBAAC,IAAD,CAAiBA,KAAOgiB,MAC9BpgB,MAAO,mBAAWhC,EAAX,EAAGA,GAAU,SACpBiD,MAAO,mBAAWjD,EAAX,EAAGA,GAAU,wBACpB2L,OAAQ,SAAC5M,GAAD,OACN,kBAAC,GAAD,CACEiiB,QAAUjiB,EAAMiiB,QAChBC,SAAWliB,EAAMkiB,SACjBH,gBAAkB/hB,EAAM+hB,gBACxBC,iBAAmBhiB,EAAMgiB,qBAK/BsB,OAAQ,CACNjiB,KAAM,kBAAC,IAAD,CAAiBA,KAAOkiB,MAC9BtgB,MAAO,mBAAWhC,EAAX,EAAGA,GAAU,WACpBiD,MAAO,SAAClE,GAAD,OAAWA,EAAMkE,OACxB0I,OAAQ,SAAC5M,GAAD,OACN,kBAAC,GAAD,CACE6a,OAAS7a,EAAM6a,OACftI,SAAWvS,EAAM6Z,KAAM7Z,EAAMmS,mBAS/BqJ,G,kDAEJ,WAAYxb,GAAQ,IAAD,uBACjB,cAAMA,IAmBRwjB,QAAU,SAACtB,GAAD,MAAe,CACvBrH,OAAQ6G,GAAQ/F,WAAWuG,GAC3Bhe,MAAOwd,GAAQ9F,UAAUsG,GACzBjf,MAAOye,GAAQ7F,UAAUqG,GACzB9f,KAAMsf,GAAQ7F,UAAUqG,KAxBP,EA4BnBuB,WAAa,WAAO,IAAD,EACa,EAAKzjB,MAA3BiiB,EADS,EACTA,QAASC,EADA,EACAA,SAGb,EAAKwB,kBACP,EAAKA,mBAGP,EAAKA,iBAAmB,EAAKhC,QAAQ3O,KAAKkP,EAASC,GAAU,SAAAgB,GAEvDjB,IAAY,EAAKjiB,MAAMiiB,SAAWC,IAAa,EAAKliB,MAAMkiB,UAC5D,EAAKrhB,SAAS,CAAEqiB,gBAvCH,EAkEnBnB,gBAAkB,SAACE,GAAa,IACtBC,EAAa,EAAKliB,MAAlBkiB,SACR,EAAKrhB,SAAS,CACZqiB,QAAS,OAEX,EAAKljB,MAAMiT,aACT,EAAKjT,MAAMiF,GACX,CACEgd,UACAC,cA3Ea,EAiFnBF,iBAAmB,SAACE,GAAc,IACxBD,EAAY,EAAKjiB,MAAjBiiB,QACR,EAAKphB,SAAL,aACEqiB,QAAS,MACN,EAAKM,QAAQtB,KAElB,EAAKliB,MAAMiT,aACT,EAAKjT,MAAMiF,GACX,CACEgd,UACAC,cAvFJ,EAAKR,QAAU,IAAIA,GACnB,EAAKgC,kBAAmB,EALP,IASTzB,EAAsBjiB,EAAtBiiB,QAASC,EAAaliB,EAAbkiB,SATA,OAWjB,EAAK5hB,MAAL,aACE4iB,QAAS,KACTS,eAAgB1B,EAChB2B,gBAAiB1B,GACd,EAAKsB,QAAQtB,IAfD,E,gEA8CjBthB,KAAK6iB,e,yCAGYnX,EAAWC,GAExBA,EAAU2W,UAAYtiB,KAAKN,MAAM4iB,SACV,OAAvBtiB,KAAKN,MAAM4iB,QACbtiB,KAAK6iB,aAIL7iB,KAAKZ,MAAMiiB,UAAY3V,EAAU2V,SACjCrhB,KAAKZ,MAAMkiB,WAAa5V,EAAU4V,UAClCthB,KAAKC,SAAS,CACZqiB,QAAS,S,+BAmCL,IAAD,EAC8CtiB,KAAKZ,MAAlD6Z,EADD,EACCA,KAAM1H,EADP,EACOA,YAAalN,EADpB,EACoBA,GAAIgd,EADxB,EACwBA,QAASC,EADjC,EACiCA,SADjC,EAKHthB,KAAKN,MAFP4iB,EAHK,EAGLA,QAASS,EAHJ,EAGIA,eAAgBC,EAHpB,EAGoBA,gBACzB/I,EAJK,EAILA,OAAQ3W,EAJH,EAIGA,MAAOjB,EAJV,EAIUA,MAAOb,EAJjB,EAIiBA,KAGxB,OACE,yBAAKjB,MAAO,CACVyf,SAAU,QACVlP,OAAQ,OACRmS,WAAY,OACZC,KAAM,YAEN,kBAACd,GAAD,CACE/d,GAAKA,EACLgd,QAAUA,EACVC,SAAWA,EACXyB,eAAiBA,EACjBC,gBAAkBA,EAClB7B,gBAAkBnhB,KAAKmhB,gBACvBC,iBAAmBphB,KAAKohB,iBACxBjQ,SAAWnR,KAAKZ,MAAM+R,SACtBmR,QAAUA,EACV/Q,YAAcA,EACd0H,KAAOA,EACPgB,OAASA,EACT3W,MAAQA,EACRjB,MAAQA,EACRb,KAAOA,S,GA9HYP,IAAMsF,WAsI7B8a,GAAUP,GAAQjG,QAAQ,GAC1ByG,GAAWR,GAAQpG,OAAO2G,IAAS,GAEzCzG,GAAezZ,aAAe,CAC5BkgB,WACAC,YACAjP,aAAc,aACdlB,SAAU,cAaGyJ,IClOAzY,GDkOAyY,GEjOTuI,IAAkBha,2FAClBia,GAAkB,UAAMD,GAAN,eAClBE,GAAa,UAAMF,GAAN,eA8HJG,G,kDA5Gb,WAAY7M,GAAQ,IAAD,8BACjB,gBAZFjV,KAAO,oBAWY,EAVnBoW,SAAWwL,GAUQ,EALnBG,UAAY,GAKO,EAJnBC,YAAc,GAIK,EAYnBzL,cAZmB,wBAYH,iCAAAC,EAAA,qEACI,EAAKyL,QADT,gEACH/N,EADG,iBAMN4B,GAAMD,WAAN,UAAqBgM,GAArB,YAAsC3N,IANhC,sMAZG,EAyBnBgO,UAAY,GAzBO,EA0BnBjN,MAAQ,SAACO,GACP,OAAOM,GAAMtK,MAAOoW,GAAoBpM,IA3BvB,EA8BnB2M,WAAa,SAAClN,GAEZ,EAAK8M,UAAL,YAAqB,IAAIK,IAAKnN,EAAM5G,KAAK,qBAAEgU,eAC3C,EAAKL,YAAL,YAAuB,IAAII,IAAKnN,EAAM5G,KAAK,qBAAEiU,cAG7C,EAAKJ,UAAYjN,GApCA,EAwCnBgN,OAAS,GAxCU,EA2CnBM,eAAiB,SAACC,EAAMzhB,GAAsD,IAA/C0hB,EAA8C,uDAApC,SAACD,EAAMtO,GAAP,OAAesO,EAAKtO,MAAQA,GACnE,GAAIuO,EAAQD,EAAMzhB,GAChB,MAAO,CAACyhB,GAEL,GAAI,aAAcA,EAAM,CAAC,IAAD,iBACPA,EAAKljB,UADE,IAC3B,2BAAmC,CAAC,IAAzBojB,EAAwB,QAC3B1N,EAAQ,EAAKuN,eAAeG,EAAO3hB,EAAO0hB,GAChD,GAAIzN,EAAMnL,OACR,MAAM,GAAN,mBAAWmL,GAAX,CAAkBwN,KAJK,+BAQ7B,MAAO,IAvDU,EA2DnBG,UAAY,SAACH,EAAMzhB,EAAO0hB,GACxB,IAAMG,EAAO,EAAKL,eAAeC,EAAMzhB,EAAO0hB,GAC9C,GAAIG,EAAK/Y,OACP,OAAO+Y,EAAK,IA9DG,EAmEnBC,gBAAkB,SAACC,EAAUC,GAC3B,OAAO,EAAKb,UAAU/d,MACpB,SAAC6e,GAAD,OACEA,EAAKX,YAAcS,GACnBE,EAAKV,WAAaS,MAvEL,EA4EnBpS,KAAO,SAACmS,EAAUC,EAAY7O,EAAKsB,GAEjC,IAAMyN,EAAc,EAAKJ,gBAAgBC,EAAUC,GAGnD,GAAIE,EAAa,CAGf,IAAMjO,EAAQ,EAAK2N,UAAUM,EAAa/O,GAG1C,OAAKc,GAOE,EAAKiN,OAAOiB,SAASlO,EAAMd,MAChC,EAAK+N,OAAOnZ,KAAKkM,EAAMd,KAIlB4B,GAAMtK,MAAN,UAAeqW,GAAf,cAAkC7M,EAAMd,KAAOsB,KAXpDnJ,QAAQoK,KAAR,wCAA8CqM,EAA9C,YAA0DC,EAA1D,YAAwE7O,GAAO,CAAC+O,cAAahO,MAAO,EAAKiN,YACzG1M,GAAS,GACF,cAcX,OAFAnJ,QAAQoK,KAAR,gDAAsDqM,EAAtD,YAAkEC,EAAlE,YAAgF7O,GAAO,CAAC+O,cAAahO,MAAO,EAAKiN,YACjH1M,GAAS,GACF,cArGHP,EACF,EAAKkN,WAAWlN,GAGhB,EAAKA,MAAO,EAAKkN,YAPF,E,UAdUnM,I,SCDzBhR,GAAYC,aAAY,SAAA3B,GAAK,MAAK,CACtC6f,QAAQ,aACN7I,gBAAiBhX,EAAM6W,QAAQY,WAAWC,QAC1ChB,YAAa,EACbC,YAAa,QACbC,YAAa5W,EAAM6W,QAAQC,KAAKC,MAC7B/W,EAAMyW,MALJ,CAMLmB,WAAY5X,EAAM6X,WAAWD,WAC7BlZ,SAAUsB,EAAM6X,WAAWnZ,SAC3BhD,QAASsE,EAAMgD,QAAQ,KAEzB4a,OAAQ,CACNhG,WAAY5X,EAAM6X,WAAWD,WAC7BlZ,SAAUsB,EAAM6X,WAAWnZ,SAC3BhD,QAAS,EACT0f,UAAWpb,EAAMgD,QAAQ,IAE3B8c,cAAe,CACbC,aAAc/f,EAAMgD,QAAQ,IAE9BzF,MAAM,eACDyC,EAAM6X,WAAWmI,eAIlBrD,GAAU,SAAC,GAA6C,IAA5CjgB,EAA2C,EAA3CA,KAAMe,EAAqC,EAArCA,MAAO2F,EAA8B,EAA9BA,MAAO0Z,EAAuB,EAAvBA,KAAMmD,EAAiB,EAAjBA,YAEpCC,EAAa,UAAOxjB,EAAP,aADF,SAACe,GAAD,uBAAcA,QAAd,IAAcA,IAAO,IAArB,YAAoCuI,IAAVvI,GAAuBqf,EAAOA,EAAO,IAC5CC,CAAStf,IAC7C,OACE,kBAACyZ,GAAA,EAAD,eAAMI,MAAI,GAAM2I,GACd,kBAAC,GAAD,CACE5F,QAAQ,aACRjX,MAAQA,EACR3F,MAAQyiB,MAcVC,GAAO,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACb,OACE,kBAAClJ,GAAA,EAAD,CACEC,WAAS,EACTC,UAAU,SACViD,QAAQ,SACRvY,WAAW,eAERse,GAAS,IAAIrV,KAAK,SAACsV,EAAI1O,GAAL,OAAe,kBAAC,GAAD,eAASrU,IAAMqU,GAAa0O,SAKhEC,GAAc,SAAChmB,GAAW,IACvB8lB,EAAsC9lB,EAAtC8lB,QAAS/S,EAA6B/S,EAA7B+S,KAAMZ,EAAuBnS,EAAvBmS,YAAa0I,EAAU7a,EAAV6a,OAC7B7R,EAAU5B,KACV6e,EAAkBpkB,IAAM+B,SAC5B,kBAAQkiB,GAAS,IAAIrV,KAAK,SAACyV,EAAM7O,GAAP,8BACrB6O,EADqB,CAExB1D,KAAI,UAAE0D,EAAKC,cAAP,aAAE,EAAalgB,QAAQ,aAAa,IAAImgB,OAC5Ctd,MAAK,UAAEod,EAAKpd,aAAP,QAAgB+R,EAAOxD,GAC5BlU,WAA6BuI,IAAtBqH,EAAKZ,GACRY,EAAKZ,GAAL,WAAuBkF,SACvB3L,SAEN,CAACoa,EAAS/S,EAAMZ,EAAa0I,IAO/B,OACE,kBAAC+B,GAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAAStV,WAAW,YAC5C,kBAACoV,GAAA,EAAD,CACEI,MAAI,EACJqJ,GAAI,GACJxJ,WAAS,EACTC,UAAU,MACViD,QAAQ,aACRvY,WAAW,SACXxC,UAAYgE,EAAQsa,QAElB2C,EAAgBxV,KAAK,SAACsV,EAAI1O,GAAL,OACrB,kBAAC,GAAD,eACErU,IAAMqU,EACNsO,YAAa,CACXU,GAAIJ,EAAgBha,OAAS,EAAI,EAAI,GACrCjH,UAAWgE,EAAQwc,gBAEhBO,UAOjBC,GAAYjkB,aAAe,CACzBkB,MAAO,GACP6iB,QAAS,GACT/S,KAAM,IAWR,IAAMuT,GAAe,SAAC,GAA8B,IAA7BjC,EAA4B,EAA5BA,OAAQyB,EAAoB,EAApBA,QAAS7iB,EAAW,EAAXA,MAChC+F,EAAU5B,KAChB,OAAOid,EACL,yBAAKrf,UAAYgE,EAAQuc,SACvB,uBAAGvgB,UAAYgE,EAAQ/F,OAAUA,GACjC,kBAAC,GAAD,CAAM6iB,QAASA,KAEf,MAGNQ,GAAavkB,aAAe,CAC1BkB,MAAO,GACP6iB,QAAS,IAcIQ,UCrITC,GAAgB,CACpB,UAAW,UAAW,UAAW,UACjC,UAAW,UAAW,UAAW,UACjC,UAAW,UAAW,UAAW,UACjC,UAAW,UAAW,UAAW,UACjC,UAAW,UAAW,UAAW,WAmH7BC,GAAc3kB,IAAM+S,MAAK,SAAC5U,GAAW,IACjC+S,EAA6D/S,EAA7D+S,KAAM0T,EAAuDzmB,EAAvDymB,MAAO5L,EAAgD7a,EAAhD6a,OAAQ6L,EAAwC1mB,EAAxC0mB,WAAYC,EAA4B3mB,EAA5B2mB,MAAOjlB,EAAqB1B,EAArB0B,SAAUklB,EAAW5mB,EAAX4mB,OACpDC,EAAUrd,cAChB,OACE,kBAAC,KAAD,CAAqBzB,MAAM,OAAO2J,OAAQ,KACxC,kBAAC,KAAD,CAAeqB,KAAMA,EAAMxR,OAAQ,CAAEulB,MAAO,GAAIC,KAAM,GAAKH,OAASA,GAEhEllB,EAEA+kB,EACGhW,KAAK,SAACyV,EAAM7O,GAAW,IAAD,QACf2P,EAAQ,CAACd,KAAMe,KAAMC,KAAMC,MAC3BhgB,EAAY+e,EAAK9b,MAAQkG,OAAOC,KAAKyW,GAAO1B,SAASY,EAAK9b,MAC5D4c,EAAMd,EAAK9b,MACX6c,KACJ,OACE,kBAAC9f,EAAD,CACEnE,IAAMqU,EACNjN,KAAK,WACLgd,QAAO,WAAO/P,GACdgQ,IAAM,KACNC,cAAY,EACZllB,KAAO8jB,EAAK9jB,KACZmlB,YAAW,UAAGrB,EAAKne,aAAR,QAAiB,EAC5Byf,OAAM,UAAGtB,EAAKpd,aAAR,QAAiB+R,EAAOxD,GAC9BmH,KAAI,UAAG0H,EAAKpd,aAAR,QAAiB+R,EAAOxD,GAC5BmL,KAAI,UAAG0D,EAAKC,cAAR,aAAG,EAAalgB,QAAQ,aAAa,IAAImgB,YAMvD,kBAAC,KAAD,CAAeoB,OAASX,EAAQtK,QAAQC,KAAKC,OAC7C,kBAAC,KAAD,CACEkK,MAAOA,EACPa,OAASX,EAAQtK,QAAQC,KAAKC,KAC9BxZ,MAAO,CACLub,KAAMqI,EAAQtK,QAAQC,KAAK/Y,QACzBN,MAAOujB,EACPe,OAAQ,GACRC,OAAQ,GACR5f,SAAU,sBAGhB,kBAAC,KAAD,CACEsf,QAAQ,IACRO,SAAS,mBACTH,OAASX,EAAQtK,QAAQC,KAAKC,KAC9BgL,OAAQ,GACRG,IAAK,EACLC,GAAI,GACJnW,OAAQ,KAEV,kBAAC,KAAD,CAASoW,QAAS,kBAAC,GAAD,QAChBrB,EAAMsB,KACF,kBAAC,KAAD,CAA2BX,QAAQ,IAAI1V,OAAQ,GAAI8V,OAAO,YAC1D,UA0ECQ,GAhED,SAAChoB,GAAW,IAAD,EACVymB,EAA+DzmB,EAArE+S,KAAmBkV,EAAkDjoB,EAAxDkoB,KAAgB/V,EAAwCnS,EAAxCmS,YAAagW,EAA2BnoB,EAA3BmoB,MAAOzmB,EAAoB1B,EAApB0B,SAAUklB,EAAU5mB,EAAV4mB,OAC5DC,EAAUrd,cAFO,EAGqB3H,IAAM+B,SAAQ,kBAhL1C,SAAC6iB,EAAOyB,GAGxB,IAAME,EAAe,SAACC,GAAD,IAAUC,EAAV,uDAAc,IAAd,OAAsBD,EAAQ9P,MAAM+P,GAAK7X,KAAK,SAAA8X,GAAC,OAAIC,OAAOD,OACzEE,EAAY,SAAC,GAAD,uBAAEC,EAAF,KAAQC,EAAR,KAAeC,EAAf,YAAwB,IAAIjR,KAAK+Q,EAAMC,EAAQ,EAAGC,IAK9DC,EAAe,SAAC7Q,GAAkC,IAA5BsQ,EAA2B,uDAAvB,IAAKQ,EAAkB,wDAC/CC,EAAO,SAACC,GAAD,MAAS,UAAGA,GAAMC,SAAS,EAAG,MACrC9U,EAAS,CACb4U,EAAM/Q,EAAK2B,WACXoP,EAAM/Q,EAAK0B,WAAa,GACxB1B,EAAKyB,eAGP,OACEqP,EACI3U,EAAO2U,UACP3U,GACF+U,KAAKZ,IAsCLzO,EAjCW,SAACsP,EAAOC,GAyBvB,IArBA,IAUMC,EAAW,SAACrR,GAChB,IAAMsR,EAAO,IAAI3R,KAAKK,EAAKuR,WAE3B,OADAD,EAAKE,QAAQF,EAAK3P,UAAY,GACvB2P,GAjByB,EAIjB,SAACH,EAAOC,GACvB,IAAMK,EAAUN,EAAM1Y,KAAM,SAAAuH,GAAI,OAAIyQ,EAAWL,EAAcpQ,EAAM,SAC7D0R,EAAUN,EAAO3Y,KAAK,SAAAuH,GAAI,OAAIyQ,EAAWL,EAAcpQ,GAAY8Q,cACzE,MAAO,CACLW,EAAO,GAAKC,EAAQ,GAAKD,EAAO,GAAKC,EAAQ,GAC7CD,EAAO,GAAKC,EAAQ,GAAKD,EAAO,GAAKC,EAAQ,IAYpBC,CAAUR,EAAOC,GArBZ,mBAqB3BQ,EArB2B,KAqBhBC,EArBgB,KAwB5BrT,EAAS,GACNsT,EAAIF,EAAWE,GAAKD,EAASC,EAAIT,EAASS,GACjDtT,EAAOtL,KAAM4e,GAGf,OAAOtT,EAIIuT,CAAStD,EAAM,GAAG0C,MAAO,CAACjB,EAAK,GAAIA,EAAKA,EAAKjc,OAAO,KAE3D+d,EAAW1Z,OAAO2Z,YACpBpQ,EAAKpJ,KAAK,SAACuH,EAAMX,GAAP,MAAiB,CAACwR,EAAa7Q,EAAM,KAAK,GAAO,CAACA,OAAMX,cAIhE6S,EAAc,YAAIzD,GACrB0D,MAAM,SAACC,EAAOC,GAAR,YAAkC3e,IAAhB0e,EAAME,MAAsBF,EAAME,MAAQD,EAAMC,MAAQ,KAEhF9Z,QAAQ,SAAC0V,EAAM7O,GAAP,OAAiBA,EA1EF,KA6E1B6S,EAAYrT,SAAS,SAACqP,EAAM7O,GAAP,OACnB6O,EAAKqE,MAAM1T,SAAS,SAACmB,EAAMwS,GAAP,OAClBR,EAAShS,GAAT,WAAmBX,IAAW6O,EAAKnT,KAAKyX,SAI5C,IAAMC,EAAchC,EAAWL,EAAc3B,EAAM,GAAG0C,MAAM,GAAI,MAEhE,MAAO,CAELpW,KAAM8G,EAAK3D,QAAQ,SAACM,EAAQwB,EAAMX,GAChC,IAAMqT,EAAOrT,EAAQ,EAAIb,EAAOa,EAAM,GAAK,GAM3C,OALAb,EAAOtL,KAAP,eACMuf,GAAezS,EAAO0S,EAAO,GADnC,GAEKV,EAASnB,EAAa7Q,EAAM,KAAK,IAFtC,CAGE2S,EAAG9B,EAAa7Q,MAEXxB,IACN,IACH0R,KAAMrO,EAAKpJ,KAAI,SAAAmY,GAAG,OAAIC,EAAaD,MACnCoB,WACAE,eAmF8DU,CAAUnE,EAAOwB,KAAW,CAACxB,EAAOwB,IAA7FlV,EAHgB,EAGhBA,KAAMmV,EAHU,EAGVA,KAAM8B,EAHI,EAGJA,SAAUE,EAHN,EAGMA,YACvBW,EA/EmB,SAAC5C,EAAU+B,EAAU7X,GAK9C,OAAO6X,EAJS/B,EAAS9V,GACtBoG,MAAM,KACNuQ,UACAI,KAAK,MACmB7R,MA0EHyT,CAAmB7C,EAAU+B,EAAU7X,GAEzD0I,GAAS,UAAA7a,EAAM0F,aAAN,eAAamV,SAAU0L,GAChCG,GAAkB,OAALyB,QAAK,IAALA,OAAA,EAAAA,EAAOllB,QAAS,GAC7B0jB,GAAa,OAALwB,QAAK,IAALA,OAAA,EAAAA,EAAOxB,OACA,eAAhBwB,EAAMxB,MAAyB,MAAQwB,EAAMxB,MAC9C,SAEJ,OACE,yBAAKxlB,MAAO,CAAC2G,SAAU,aAGrB,yBAAK3G,MAAO,CAAE2G,SAAU,WAAYC,MAAO,SACzC,kBAAC,KAAD,CAAqBA,MAAM,OAAO2J,OAAQ,KACxC,kBAAC,KAAD,CAAeqB,KAAMA,EAAMxR,OAAQ,CAAEulB,MAAO,GAAIC,KAAM,IACpD,kBAAC,KAAD,CACE4D,EAAIzC,EAAK2C,GACTrD,OAASX,EAAQtK,QAAQC,KAAKC,KAC9BsO,gBAAgB,QAGlB,kBAAC,KAAD,CACEvD,OAAO,YACPb,MAAOA,EACP1jB,MAAO,CACLE,MAAOujB,EACPe,OAAQ,GACRC,OAAQ,GACR5f,SAAU,sBAGd,kBAAC,KAAD,CACE0f,OAAO,YACPJ,QAAQ,IACRO,SAAS,mBACTF,OAAQ,GACRG,IAAK,EACLC,GAAI,GACJnW,OAAQ,QAOhB,kBAAC8U,GACM,CAAEzT,OAAM0T,MAAOyD,EAAaxoB,WAAUmZ,SAAQ6L,aAAYC,QAAOC,WAIxE,kBAAC,GAAgB,CACf7T,OACA8H,SACA1I,YAAa0Y,EACb/E,QAASoE,MCjQXc,GAAgB,SAAC9C,EAAMzB,GAA4B,IAArBwE,EAAoB,uDAAP,GACzCC,EAAe,SAAClT,GAAD,OAAUA,EAC5BO,MAAM,KACNuQ,UACAI,KAAK,MACFC,EAAQ,CACZjB,EAAK,GACLA,EAAKA,EAAKjc,OAAS,IACnBwE,IAAKya,GACDX,EAAQrC,EAAKzX,IAAKya,GAExB,OAAOzE,EAAM1T,KACVtC,KAAK,WAAgB4G,GAAhB,MAAEtE,EAAF,EAAEA,KAAM9P,EAAR,EAAQA,MAAR,oBACJ8P,OACA3Q,KAAMa,EACNkmB,QACAoB,SAJI,UAKAU,EAAa5T,UALb,QAKuB,QAI3B8T,GAAmB,CACvB,CAAC/gB,KAAM,OAAQtB,MAAO,UAAWf,MAAO,IAkCpCqjB,GAAuB,CAC3B,CAAChhB,KAAM,OAAQkgB,MAAO,EAAGxhB,MAAO,UAAWf,MAAO,GAClD,CAACqC,KAAM,OAAQkgB,MAAO,EAAGxhB,MAAO,UAAWf,MAAO,GAClD,CAACqC,KAAM,OAAQkgB,MAAO,EAAGxhB,MAAO,UAAWf,MAAO,IAkB9CsjB,GAAmB,CACvBC,iBArDgB,SAACtrB,GAAW,IACpBymB,EAA4BzmB,EAA5BymB,MAAOyB,EAAqBloB,EAArBkoB,KAAM/V,EAAenS,EAAfmS,YADM,EAEAtQ,IAAM+B,SAC/B,iBAAO,CACLmP,KAAMiY,GAAc9C,EAAMzB,EAAO0E,IACjCI,WAAY,CACV,CAACC,EAAG,GAAI1iB,MAAO,QACf,CAAC0iB,EAAG,GAAI1iB,MAAO,QACf,CAAC0iB,EAAG,IAAK1iB,MAAO,SAChB2H,KAAK,WAAazN,GAAb,IAAEwoB,EAAF,EAAEA,EAAG1iB,EAAL,EAAKA,MAAL,OACL,kBAAC,KAAD,CACE9F,IAAKA,EACLwoB,EAAGA,EACHhE,OAAQ1e,EACRiiB,gBAAgB,MAChBU,WAAW,uBAGjB,CAAChF,EAAMyB,IAhBFnV,EAFoB,EAEpBA,KAAMwY,EAFc,EAEdA,WAmBb,OACE,kBAAC,GAAD,eACE3E,OAAO,UACF,CAACsB,OAAM/V,cAAaY,SAEvBwY,IA4BNG,gBAjBoB,SAAC1rB,GAAW,IACxBymB,EAA4BzmB,EAA5BymB,MAAOyB,EAAqBloB,EAArBkoB,KAAM/V,EAAenS,EAAfmS,YACfY,EAAOlR,IAAM+B,SACjB,kBAAMonB,GAAc9C,EAAMzB,EAAO2E,MACjC,CAAC3E,EAAMyB,IAGT,OACE,kBAAC,GAAD,eACEtB,OAAO,UACF,CAACsB,OAAM/V,cAAaY,YAgBhBiV,GAND,SAAChoB,GAAW,IAChB2rB,EAAkC3rB,EAAlC2rB,QAASxI,EAAyBnjB,EAAzBmjB,OAAW1T,EADL,YACmBzP,EADnB,sBAEjB4rB,EAAeP,GAAiBM,GACtC,OAAO,kBAACC,EAAD,eAAcnF,MAAQtD,EAAOwI,IAAelc,K,8DC/E/CrI,GAAYC,YAAW,CAC3BoK,KAAM,CACJC,OAAQ,IACR9J,SAAU,EACVikB,SAAU,OA0CCC,GAtCW,SAAC9rB,GACzB,IAAMgJ,EAAU5B,KACR2kB,EAAqE/rB,EAArE+rB,YAAa7G,EAAwDllB,EAAxDklB,SAAUC,EAA8CnlB,EAA9CmlB,WAAYhiB,EAAkCnD,EAAlCmD,MAAOgf,EAA2BniB,EAA3BmiB,SAAa1S,EAF5B,YAE0CzP,EAF1C,8DAYN6B,IAAM+B,SACjC,WACE,IAAMooB,EAAY,IAAIC,GAAUF,GAC1BG,EAAcF,EAAU/G,gBAAgBC,EAAUC,GAGxD,MAAO,CAAC+G,cAAa9U,MAFP4U,EAAUrH,eAAeuH,EAAa/oB,GAAOsN,KAAI,SAAA2U,GAAI,gBAAOA,EAAK9O,WAIjF,CAAC4O,EAASC,EAAWhiB,EAAM4oB,IARtBG,EAZ4B,EAY5BA,YAAa9U,EAZe,EAYfA,MAWpB,OACE,kBAAC+U,GAAA,EAAD,eACEnnB,UAAWgE,EAAQyI,KACnB2a,oBAAqB,kBAAC,KAAD,MACrBC,kBAAmB,kBAAC,KAAD,MACnBC,SAAWlV,EACXmV,SAAQ,UAAMppB,GACdqpB,aA1BiB,SAACzrB,EAAOoC,GAAR,OAAkBgf,EAASqG,OAAOrlB,MA2B9CsM,GAzBU,SAAbgd,EAAcC,GAAD,OACjB,kBAACC,GAAA,EAAD,CAAU3pB,IAAK0pB,EAAMpW,IAAKsW,OAAM,UAAKF,EAAMpW,KAAOrT,MAAOypB,EAAMtqB,MAC5D2c,MAAM8N,QAAQH,EAAMhrB,UAAYgrB,EAAMhrB,SAAS+O,KAAI,SAACmU,GAAD,OAAU6H,EAAW7H,MAAS,MAyBjF6H,CAAWP,KCtCZ9kB,GAAYC,aAAW,SAAC3B,GAAD,MAAY,CACvCib,YAAa,CACXC,SAAU,KAEZC,YAAa,CACXC,UAAWpb,EAAMgD,QAAQ,IAE3BokB,WAAY,CACVhlB,SAAU,UACVilB,UAAW,QACXC,aAActnB,EAAMgD,QAAQ,QAI1BukB,GAAiB,SAACjtB,GACtB,IAAMgJ,EAAU5B,KACRnE,EAAuCjD,EAAvCiD,MAAO+d,EAAgChhB,EAAhCghB,KAAM/b,EAA0BjF,EAA1BiF,GAAIvD,EAAsB1B,EAAtB0B,SAAUwrB,EAAYltB,EAAZktB,QACnC,OACE,yBAAK/rB,MAAO,CACVI,OAAQ,SACRgG,QAAS,UAET,kBAAC0Z,GAAA,EAAD,CAAaC,UAAQ,EAAClc,UAAYgE,EAAQ2X,aACxC,kBAACQ,GAAA,EAAD,CAAYnc,UAAYkoB,EAAUlkB,EAAQ8jB,WAAa,KAAO1L,QAAUnc,GAAOhC,GAC7EvB,EACAsf,EACE,kBAACQ,GAAA,EAAD,CAAgBvc,GAAE,sBAAkBA,IAChC+b,GAEF,QAQRD,GAAW,SAAC/gB,GAAW,IACnBiD,EAA2CjD,EAA3CiD,MAAO+d,EAAoChhB,EAApCghB,KAAM/b,EAA8BjF,EAA9BiF,GAAIuK,EAA0BxP,EAA1BwP,QAAYC,EADX,YACyBzP,EADzB,iCAE1B,OACE,kBAAC,GAAD,CACEiF,GAAKA,EACLhC,MAAQA,EACR+d,KAAOA,GAEP,kBAACK,GAAA,EAAD,eACEC,QAAM,GACD7R,EAFP,CAGE/C,mBAAA,sBAAkCzH,GAClCsc,WAAY,CACVnf,KAAMa,EACNgC,GAAIA,KAGJuK,EAAQiB,KAAK,SAAArB,GAAM,OACnB,4BAAQpM,IAAG,YAAQoM,EAAOjM,OAAUA,MAAQiM,EAAOjM,OAAUiM,EAAOnM,aAQxEkqB,GAAwBnrB,oBAAU,oBAAVA,EAA+B,SAAChC,GAAW,IAC/DiB,EAA+BjB,EAA/BiB,EAAGkjB,EAA4BnkB,EAA5BmkB,UAAc1U,EAD6C,YAC/BzP,EAD+B,mBAEhEotB,EAA+BvrB,IAAM+B,SACzC,kBAAMugB,EACG1T,KAAK,SAAA0K,GAAI,MAAK,CAAEhY,MAAOgY,EAAMlY,MAAOkY,QAC7C,CAACgJ,IAEH,OACE,kBAAC,GAAD,eACE3U,QAAU4d,EACVnqB,MAAQhC,EAAE,YACV+f,KAAO/f,EAAE,qCACJwO,OAML4d,GAA0BrrB,oBAAU,oBAAVA,EAA+B,SAAChC,GAAW,IACjEiB,EAAiCjB,EAAjCiB,EAAGmjB,EAA8BpkB,EAA9BokB,YAAgB3U,EAD6C,YAC/BzP,EAD+B,qBAElEstB,EAAiCzrB,IAAM+B,SAC3C,kBAAMwgB,EACG3T,KAAK,SAAA0K,GAAI,MAAK,CAAEhY,MAAOgY,EAAMlY,MAAOkY,QAC7C,CAACiJ,IAEH,OACE,kBAAC,GAAD,eACEnhB,MAAQhC,EAAE,cACV+f,KAAO/f,EAAE,yBACTuO,QAAU8d,GACL7d,OAML8d,GAAuBvrB,oBAAU,oBAAVA,EAA+B,SAAChC,GAAW,IAC9DiB,EAAoBjB,EAApBiB,EAAMwO,EADuD,YACzCzP,EADyC,OAE/DwtB,EAA8B3rB,IAAM+B,SACxC,iBAAM,CACJ,CAACT,MAAO,kBAAmBF,MAAOhC,EAAE,gBACpC,CAACkC,MAAO,mBAAoBF,MAAOhC,EAAE,iBAEvC,CAACA,IAEH,OACE,kBAAC,GAAD,eACEgC,MAAQhC,EAAE,WACV+f,KAAO/f,EAAE,sBACTuO,QAAUge,GACL/d,OAQLqS,G,4MAEJ2L,sBAAwB,SAAC1sB,GAAD,OAAW,EAAKf,MAAMytB,sBAAsB1sB,EAAM0e,OAAOtc,Q,EACjFuqB,wBAA0B,SAAC3sB,GAAD,OAAW,EAAKf,MAAM0tB,wBAAwB3sB,EAAM0e,OAAOtc,Q,EACrFwqB,qBAAuB,SAAC5sB,GAAD,OAAW,EAAKf,MAAM2tB,qBAAqB5sB,EAAM0e,OAAOtc,Q,EAC/EyqB,oBAAsB,SAACzqB,GAAD,OAAW,EAAKnD,MAAM4tB,oBAAoBzqB,I,uDAEtD,IAAD,EAUHvC,KAAKZ,MARP6tB,EAFK,EAELA,cACAC,EAHK,EAGLA,gBACAC,EAJK,EAILA,aACAC,EALK,EAKLA,YACA7J,EANK,EAMLA,UACAC,EAPK,EAOLA,YACA2H,EARK,EAQLA,YACA9qB,EATK,EASLA,EAGF,OACE,yBAAKE,MAAO,CAAEK,UAAW,SACvB,kBAAC2rB,GAAD,CACEhJ,UAAYA,EACZhhB,MAAQ0qB,EACR1L,SAAWvhB,KAAK6sB,wBAElB,kBAACrL,GAAA,EAAD,CAASjhB,MAAO,CAAEI,OAAQ,WAC1B,kBAAC8rB,GAAD,CACEjJ,YAAcA,EACdjhB,MAAQ2qB,EACR3L,SAAWvhB,KAAK8sB,0BAElB,kBAACtL,GAAA,EAAD,CAASjhB,MAAO,CAAEI,OAAQ,WAC1B,kBAACgsB,GAAD,CACEpqB,MAAQ4qB,EACR5L,SAAWvhB,KAAK+sB,uBAGlB,kBAACvL,GAAA,EAAD,CAASjhB,MAAO,CAAEI,OAAQ,WAC1B,kBAAC,GAAD,CACE0D,GAAK,eACLhC,MAAQhC,EAAE,UACVisB,SAAO,GAEP,kBAAC,GAAD,CACEjoB,GAAK,eACL8mB,YAAcA,EACd7G,SAAW2I,EACX1I,WAAa2I,EACb3qB,MAAQ6qB,EACR7L,SAAWvhB,KAAKgtB,4B,GAlDT/rB,IAAMC,eAwEVE,uBAAU,oBAAVA,CAA+B8f,IChMxCmM,GAAetc,EAAW,CAE9BO,KAAM,CACJ7Q,KAAM,kBAAC,IAAD,CAAiBA,KAAO6sB,MAC9BjrB,MAAO,mBAAWhC,EAAX,EAAGA,GAAU,SACpBiD,MAAO,SAAClE,GAAD,OAAWA,EAAMkE,OACxB0I,OAAQ,SAAC5M,GAAD,OACN,oCACKA,EAAMgsB,UAGL,kBAAC,GAAD,CACE9D,KAAOloB,EAAM6Z,KACbsJ,OAASnjB,EAAMgsB,UACfL,QAAU3rB,EAAM+tB,aAChB5b,YAAcnS,EAAMmS,YACpBlN,GAAKjF,EAAMiF,KAPb,kBAAC,EAAD,SAeVme,KAAM,CACJ/hB,KAAM,kBAAC,IAAD,CAAiBA,KAAOgiB,MAC9BpgB,MAAO,mBAAWhC,EAAX,EAAGA,GAAU,SACpBiD,MAAO,mBAAWjD,EAAX,EAAGA,GAAU,0BACpB2L,OAAQ,SAAC5M,GAAD,OAAW,kBAAC,GAASA,OAO3BkkB,G,kDAEJ,WAAYlkB,GAAQ,IAAD,uBACjB,cAAMA,IAgBRwjB,QAAU,SAACqK,EAAeC,EAAiBE,EAAaD,EAAc/B,GACpE,OAAMA,EAMC,CACL9nB,MAAO8nB,EAAU+B,GAAc7pB,MAC/B9B,KAAM4pB,EAAU+B,GAAc7pB,OAPvB,CACLA,MAAO,MACP9B,KAAM,QArBO,EA+BnBqhB,WAAa,WAAO,IAAD,EACuC,EAAKzjB,MAArD6tB,EADS,EACTA,cAAeC,EADN,EACMA,gBAAiBE,EADvB,EACuBA,YAGpC,EAAKtK,kBACP,EAAKA,mBAIP,EAAKA,iBAAmB,EAAKuI,UAAUlZ,KACrC8a,EACAC,EACAE,GACA,SAAChC,GAEM6B,IAAkB,EAAK7tB,MAAM6tB,eAC7BC,IAAoB,EAAK9tB,MAAM8tB,iBAC/BE,IAAgB,EAAKhuB,MAAMguB,aAC9B,EAAKntB,SAAL,aACEmrB,aACG,EAAKxI,QAAQqK,EAAeC,EAAiBE,EAAa,EAAKhuB,MAAM+tB,aAAc/B,SAnD7E,EAwFnBmC,WAAa,SAACjJ,EAAUC,EAAYiJ,GAAY,IACvCrC,EAAe,EAAK/rB,MAApB+rB,YACDG,EAAc,EAAKD,UAAUhH,gBAAgBC,EAAUC,GACvD/N,EAAQ,EAAK6U,UAAUlH,UAAUmH,EAAakC,GAEpD,IAAMhX,EAAQ,CAEZ,IAFY,EAENsV,EAAQX,EAAYvb,QAAQ,SAACoU,GAAD,OAChCM,IAAaN,EAAKH,WAClBU,IAAeP,EAAKF,YAJV,eAMOgI,GANP,IAMZ,2BAA2B,CAAC,IAAjB9H,EAAgB,QAEnByJ,EAAK,EAAKpC,UAAUlH,UAAUH,EAAMwJ,GAEpCE,EAAKD,GAAM,EAAKpC,UAAUlH,UAC9BmH,EACAmC,EAAGjsB,MACH,SAACwiB,EAAMxiB,GAAP,OAAgBwiB,EAAKxiB,OAASA,KAEhC,GAAIksB,EACF,OAAOA,GAhBC,8BAqBZ,OAAOpC,EAIT,OAAO9U,GAtHU,EA2HnBmX,cAAgB,SAACV,EAAeC,EAAiBE,EAAaD,EAAc/B,GAC1E,EAAKnrB,SAAL,eACMmrB,IAAc,EAAK1rB,MAAM0rB,UAAY,CAACA,aAAa,GADzD,GAEK,EAAKxI,QAAQqK,EAAeC,EAAiBE,EAAaD,EAAc/B,KAE7E,IAAMoC,EAAS,EAAKD,WAAWN,EAAeC,EAAiBE,GAC/D,EAAKhuB,MAAMiT,aACT,EAAKjT,MAAMiF,GACX,CACE4oB,gBACAC,kBACAC,eACAC,YAAaI,EAAO9X,OAvIP,EA4InBmX,sBAAwB,SAACI,GAAmB,IAAD,EACc,EAAK7tB,MAApD8tB,EADiC,EACjCA,gBAAiBE,EADgB,EAChBA,YAAaD,EADG,EACHA,aACtC,EAAKQ,cAAcV,EAAeC,EAAiBE,EAAaD,EAAc,OA9I7D,EAkJnBL,wBAA0B,SAACI,GAAqB,IAAD,EACQ,EAAK9tB,MAAlD6tB,EADqC,EACrCA,cAAeG,EADsB,EACtBA,YAAaD,EADS,EACTA,aACpC,EAAKQ,cAAcV,EAAeC,EAAiBE,EAAaD,EAAc,OApJ7D,EAwJnBH,oBAAsB,SAACI,GAAiB,IAAD,EACoB,EAAKhuB,MAAtD6tB,EAD6B,EAC7BA,cAAeC,EADc,EACdA,gBAAiBC,EADH,EACGA,aACxC,EAAKQ,cAAcV,EAAeC,EAAiBE,EAAaD,EAAc,OA1J7D,EA8JnBJ,qBAAuB,SAACI,GAAkB,IAAD,EACiB,EAAK/tB,MAArD6tB,EAD+B,EAC/BA,cAAeC,EADgB,EAChBA,gBAAiBE,EADD,EACCA,YAChChC,EAAc,EAAK1rB,MAAnB0rB,UACR,EAAKuC,cAAcV,EAAeC,EAAiBE,EAAaD,EAAc/B,IAjK7D,IAIT6B,EAA6D7tB,EAA7D6tB,cAAeC,EAA8C9tB,EAA9C8tB,gBAAiBE,EAA6BhuB,EAA7BguB,YAAajC,EAAgB/rB,EAAhB+rB,YAJpC,OAOjB,EAAKE,UAAY,IAAIA,GAAUF,GAC/B,EAAKrI,kBAAmB,EAExB,EAAKpjB,MAAL,aACE0rB,UAAW,MACR,EAAKxI,QAAQqK,EAAeC,EAAiBE,EAAaD,GAAc,OAZ5D,E,gEA2DjBntB,KAAK6iB,e,yCAGYnX,EAAWC,GAExBA,EAAUyf,YAAcprB,KAAKN,MAAM0rB,WACV,OAAzBprB,KAAKN,MAAM0rB,UACbprB,KAAK6iB,aAIL7iB,KAAKZ,MAAM6tB,gBAAkBvhB,EAAUuhB,eACvCjtB,KAAKZ,MAAM8tB,kBAAoBxhB,EAAUwhB,iBACzCltB,KAAKZ,MAAMguB,cAAgB1hB,EAAU0hB,YACrCptB,KAAKC,SAAS,CACZmrB,UAAW,OAGLprB,KAAKZ,MAAM+rB,cAAgBzf,EAAUyf,cAE7CnrB,KAAKqrB,UAAY,IAAIA,GAAUrrB,KAAKZ,MAAM+rB,aAC1CnrB,KAAKC,SAAS,CACZmrB,UAAW,U,+BAmFP,IAAD,EAUHprB,KAAKZ,MARP6Z,EAFK,EAELA,KACA1H,EAHK,EAGLA,YACAlN,EAJK,EAILA,GACA4oB,EALK,EAKLA,cACAC,EANK,EAMLA,gBACAC,EAPK,EAOLA,aACAC,EARK,EAQLA,YACAjC,EATK,EASLA,YATK,EAaHnrB,KAAKN,MADP0rB,EAZK,EAYLA,UAAW9nB,EAZN,EAYMA,MAAO9B,EAZb,EAYaA,KAGpB,OACE,yBAAKjB,MAAO,CACVyf,SAAU,QACVlP,OAAQ,OACRmS,WAAY,OACZC,KAAM,YAEN,kBAACmK,GAAD,CACEhpB,GAAKA,EACL4oB,cAAgBA,EAChBC,gBAAkBA,EAClBC,aAAeA,EACfC,YAAcA,EACdjC,YAAcA,EACdC,UAAYA,EACZ7H,UAAYvjB,KAAKqrB,UAAU9H,UAC3BC,YAAcxjB,KAAKqrB,UAAU7H,YAC7BqJ,sBAAwB7sB,KAAK6sB,sBAC7BC,wBAA0B9sB,KAAK8sB,wBAC/BC,qBAAuB/sB,KAAK+sB,qBAC5BC,oBAAsBhtB,KAAKgtB,oBAC3B7b,SAAWnR,KAAKZ,MAAM+R,SACtBI,YAAcA,EACd0H,KAAOA,EACP3V,MAAQA,EACR9B,KAAOA,S,GA9McP,IAAMsF,WAyN/B4mB,GAAe,kBAErB7J,GAAiBniB,aAAe,CAC9B8rB,cANoB,eAOpBC,gBANsB,oBAOtBE,YANkB,EAOlBD,gBACA9a,aAAc,aACdlB,SAAU,cAkBGmS,ICpSAnhB,GDoSAmhB,G,UEtSf,SAASsK,KAA2Q,OAA9PA,GAAWle,OAAO8C,QAAU,SAAUqM,GAAU,IAAK,IAAIqK,EAAI,EAAGA,EAAI2E,UAAUxiB,OAAQ6d,IAAK,CAAE,IAAI4E,EAASD,UAAU3E,GAAI,IAAK,IAAI9mB,KAAO0rB,EAAcpe,OAAO0O,UAAU2P,eAAe1P,KAAKyP,EAAQ1rB,KAAQyc,EAAOzc,GAAO0rB,EAAO1rB,IAAY,OAAOyc,IAA2BmP,MAAMhuB,KAAM6tB,WAEhT,SAASI,GAAyBH,EAAQI,GAAY,GAAc,MAAVJ,EAAgB,MAAO,GAAI,IAAkE1rB,EAAK8mB,EAAnErK,EAEzF,SAAuCiP,EAAQI,GAAY,GAAc,MAAVJ,EAAgB,MAAO,GAAI,IAA2D1rB,EAAK8mB,EAA5DrK,EAAS,GAAQsP,EAAaze,OAAOC,KAAKme,GAAqB,IAAK5E,EAAI,EAAGA,EAAIiF,EAAW9iB,OAAQ6d,IAAO9mB,EAAM+rB,EAAWjF,GAAQgF,EAAS3gB,QAAQnL,IAAQ,IAAayc,EAAOzc,GAAO0rB,EAAO1rB,IAAQ,OAAOyc,EAFxMuP,CAA8BN,EAAQI,GAAuB,GAAIxe,OAAO2e,sBAAuB,CAAE,IAAIC,EAAmB5e,OAAO2e,sBAAsBP,GAAS,IAAK5E,EAAI,EAAGA,EAAIoF,EAAiBjjB,OAAQ6d,IAAO9mB,EAAMksB,EAAiBpF,GAAQgF,EAAS3gB,QAAQnL,IAAQ,GAAkBsN,OAAO0O,UAAUmQ,qBAAqBlQ,KAAKyP,EAAQ1rB,KAAgByc,EAAOzc,GAAO0rB,EAAO1rB,IAAU,OAAOyc,EAMne,I,GAAI,GAAqB,IAAM2P,cAAc,OAAQ,CACnD7G,EAAG,uxLACH/J,KAAM,eACN+I,YAAa,SAGX,GAAS,SAAgB8H,GAC3B,IAAIC,EAASD,EAAKC,OACdprB,EAAQmrB,EAAKnrB,MACblE,EAAQ6uB,GAAyBQ,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAMD,cAAc,MAAOZ,GAAS,CACtDe,QAAS,oBACTxrB,IAAKurB,GACJtvB,GAAQkE,EAAqB,IAAMkrB,cAAc,QAAS,KAAMlrB,GAAS,KAAM,KAGhFsrB,GAAa,IAAM3rB,YAAW,SAAU7D,EAAO+D,GACjD,OAAoB,IAAMqrB,cAAc,GAAQZ,GAAS,CACvDc,OAAQvrB,GACP/D,OCtBCyvB,IDwBS,ICxBF,SAACzvB,GAAD,OAAW,wBAAUA,EAAS,kBAAC,GAAD,SAG5B0vB,GAFC,SAAC1vB,GAAD,OAAW,kBAAC2vB,GAAA,EAAD,eAAS1rB,UAAYwrB,IAAYzvB,KCJtD4vB,GAAa,WAAG7lB,uQAAY8lB,iCAAf,UAA4C,0CACzDC,GAAgB,UAAMF,GAAN,eA6GPG,G,kDAlGb,WAAY1Y,GAAQ,IAAD,8BACjB,gBANFjV,KAAO,uBAKY,EAJnBoW,SAAWsX,GAIQ,EAYnBnX,cAZmB,wBAYH,iCAAAC,EAAA,qEACI,EAAKyL,QADT,gEACH/N,EADG,iBAMN4B,GAAMD,WAAN,UAAqB2X,GAArB,YAAsCtZ,IANhC,sMAZG,EAyBnBgO,UAAY,GAzBO,EA0BnBjN,MAAQ,SAACO,GACP,OAAOM,GAAMtK,MAAOkiB,GAAkBlY,IA3BrB,EA8BnB2M,WAAa,SAAClN,GAEZ,EAAKiN,UAAYjN,GAhCA,EAoCnBgN,OAAS,GApCU,EAuCnBM,eAAiB,SAACC,EAAMzhB,GAAwD,IAAjD0hB,EAAgD,uDAAtC,WAAS1hB,GAAT,SAAE6sB,OAA0B7sB,GAInE,GAHa,OAATyhB,IACFA,EAAO,CAAChU,SAAU,EAAK0T,YAEpBO,EAAQD,EAAMzhB,GACjB,MAAO,CAACyhB,GAEL,GAAI,aAAcA,EAAM,CAAC,IAAD,iBACPA,EAAKhU,UADE,IAC3B,2BAAmC,CAAC,IAAzBkU,EAAwB,QAC3B1N,EAAQ,EAAKuN,eAAeG,EAAO3hB,EAAO0hB,GAChD,GAAIzN,EAAMnL,OACR,MAAM,GAAN,mBAAWmL,GAAX,CAAkBwN,KAJK,+BAQ7B,MAAO,IAtDU,EA0DnBG,UAAY,SAACH,EAAMzhB,EAAO0hB,GACxB,IAAMG,EAAO,EAAKL,eAAeC,EAAMzhB,EAAO0hB,GAC9C,GAAIG,EAAK/Y,OACP,OAAO+Y,EAAK,IA7DG,EAkEnBC,gBAAkB,SAAC0G,GACjB,OAAO,EAAKrH,UAAU/d,MAAM,qBAAEypB,OAAmBrE,MAnEhC,EAuEnBtH,OAAS,GAvEU,EA0EnBtR,KAAO,SAAC4Y,EAAS/T,GAGf,IAAMR,EAAQ,EAAK2N,UAAU,KAAM4G,GAGnC,OAAKvU,GASE,EAAKiN,OAAOiB,SAASlO,EAAMkE,SAChC,EAAK+I,OAAOnZ,KAAKkM,EAAMkE,QAIlBpD,GAAMtK,MAAN,UAAgBgiB,GAAhB,YAAiCxY,EAAMkE,QAAU1D,KAbtDnJ,QAAQoK,KAAR,wCAA8C8S,GAAW,CACvDtU,MAAO,EAAKiN,YAEd1M,GAAS,GACF,eAlFLP,EACF,EAAKkN,WAAWlN,GAGhB,EAAKA,MAAO,EAAKkN,YAPF,E,UARQnM,ICGvBhR,GAAYC,aAAW,SAAC3B,GAAD,MAAY,CACvCib,YAAa,CACXC,SAAU,KAEZC,YAAa,CACXC,UAAWpb,EAAMgD,QAAQ,IAE3BokB,WAAY,CACVhlB,SAAU,UACVilB,UAAW,QACXC,aAActnB,EAAMgD,QAAQ,QAiCjBukB,GA7BQ,SAACjtB,GACtB,IAAMgJ,EAAU5B,KACRnE,EAAuCjD,EAAvCiD,MAAO+d,EAAgChhB,EAAhCghB,KAAM/b,EAA0BjF,EAA1BiF,GAAIvD,EAAsB1B,EAAtB0B,SAAUwrB,EAAYltB,EAAZktB,QACnC,OACE,yBAAK/rB,MAAO,CACVI,OAAQ,SACRgG,QAAS,UAET,kBAAC0Z,GAAA,EAAD,CAAaC,UAAQ,EAAClc,UAAYgE,EAAQ2X,aACxC,kBAACQ,GAAA,EAAD,CAAYnc,UAAYkoB,EAAUlkB,EAAQ8jB,WAAa,KAAO1L,QAAUnc,GAAOhC,GAC7EvB,EACAsf,EACE,kBAACQ,GAAA,EAAD,CAAgBvc,GAAE,sBAAkBA,IAChC+b,GAEF,QCpBRiP,GAAO,SAAPA,EAAQjwB,GAAW,IAChB4kB,EAAQ5kB,EAAR4kB,KACP,OACE,kBAAC+H,GAAA,EAAD,CAAU3pB,IAAK4hB,EAAKoL,KAAMpD,OAAM,UAAO,WAAYhI,EAAsB,GAAd,aAA3B,OAA8CA,EAAKoL,MAAQ/sB,MAAO2hB,EAAK1gB,OACpG6a,MAAM8N,QAAQjI,EAAKhU,UAAYgU,EAAKhU,SAASH,KAAK,SAAAmU,GAAI,OAAI,kBAACqL,EAAD,CAAMrL,KAAMA,OAAY,OAKnFkH,G,4MAEJxrB,MAAQ,CACN4vB,WAAY,I,EAGd1D,aAAe,SAACzrB,EAAOoC,GAEhB,aAAa8G,KAAK9G,IACrB,EAAKnD,MAAMmiB,SAAShf,I,EAIxBgtB,mBAAqB,WACnB,IAAMC,EAAU,IAAIC,GAAQ,EAAKrwB,MAAMswB,UAChCntB,EAAS,EAAKnD,MAAdmD,MACP,EAAKtC,SAAS,CACZsC,QACA+sB,WAAYE,EACTzL,eAAe,KAAM,EAAK3kB,MAAMmD,OAChCsN,KAAI,SAAAmU,GAAI,gBAAS,WAAYA,EAAsB,GAAd,aAA7B,OAAgDA,EAAKoL,Y,EAIpEpjB,OAAS,SAAC5M,GAAW,IAAD,EAC0B,EAAKA,MAAzCgJ,EADU,EACVA,QAASsnB,EADC,EACDA,SAAa7gB,EADZ,wCAEY,EAAKnP,MAA3B4vB,EAFU,EAEVA,WAAY/sB,EAFF,EAEEA,MAEpB,OACE,kBAACgpB,GAAA,EAAD,eACEnnB,UAAWgE,EAAQyI,KACnB2a,oBAAqB,kBAAC,KAAD,MACrBC,kBAAmB,kBAAC,KAAD,MACnBkE,gBAAkBL,EAClBM,gBAAkBrtB,EAClBqpB,aAAe,EAAKA,cACf/c,GAEH6gB,EACG9f,QAAQ,SAAAigB,GAAO,MAAI,CAAC,QAAQ,SAASnL,SAASmL,EAAQrmB,SACtDqG,KAAK,SAAAggB,GAAO,OAAI,kBAAC,GAAD,CAAMztB,IAAKytB,EAAQT,KAAMpL,KAAM6L,S,YAxC5B5uB,IAAMsF,WA8CvBupB,gBA9DA,CACbjf,KAAM,CACJ7J,SAAU,EACVikB,SAAU,MA2DC6E,CAAmB5E,IC7D5BhK,G,4MAEJ6O,gBAAkB,SAACxtB,GAAD,OAAW,EAAKnD,MAAM2wB,gBAAgBxtB,I,uDAE9C,IAAD,EAKHvC,KAAKZ,MAHP2rB,EAFK,EAELA,QACA2E,EAHK,EAGLA,SACArvB,EAJK,EAILA,EAGF,OACE,yBAAKE,MAAO,CAAEK,UAAW,SACvB,kBAAC,GAAD,CACEyD,GAAK,gBACLhC,MAAQhC,EAAE,sBACVisB,SAAO,GAEP,kBAAC,GAAD,CACEoD,SAAWA,EACXntB,MAAQwoB,EACRxJ,SAAWvhB,KAAK+vB,wB,GArBT9uB,IAAMC,eAoCVE,uBAAU,kBAAVA,CAA6B8f,IChCtCmM,GAAetc,EAAW,CAE9BO,KAAM,CACJ7Q,KAAMquB,GACNzsB,MAAO,mBAAWhC,EAAX,EAAGA,GAAU,SACpBiD,MAAO,SAAClE,GAAD,OAAWA,EAAMkE,OACxB0I,OAAQ,SAAC5M,GAAW,IAGVkoB,EAOJloB,EAPF6Z,KACS9G,EAMP/S,EANFowB,QAKG3gB,GACDzP,EAJF2wB,gBAIE3wB,EAHF+R,SAGE/R,EAHQiB,EAPK,YAUbjB,EAVa,sDAWjB,OACE,oCACKA,EAAMowB,QAGL,kBAAC,GAAD,cACO,CAAElI,OAAMnV,QACRtD,IAJP,kBAAC,EAAD,SAaZ2T,KAAM,CACJ/hB,KAAM,kBAAC,IAAD,CAAiBA,KAAOgiB,MAC9BpgB,MAAO,mBAAWhC,EAAX,EAAGA,GAAU,SACpBiD,MAAO,mBAAWjD,EAAX,EAAGA,GAAU,wBACpB2L,OAAQ,SAAC5M,GAAD,OAAW,kBAAC,GAASA,OAO3BkkB,G,kDAEJ,WAAYlkB,GAAQ,IAAD,uBACjB,cAAMA,IAeR4wB,YAAc,CACZ1sB,MAAO,MACP9B,KAAM,MACNsD,MAAO,KACPyiB,MAAO,KACPuG,OAAQ,MArBS,EAyBnBlL,QAAU,SAACmI,EAAS2E,GAClB,IAAMA,EACJ,OAAO,EAAKM,YAEd,IAAMxZ,EAAQ,EAAKiZ,QAAQtL,UAAU,KAAM4G,GAC3C,IAAMvU,EACJ,OAAO,EAAKwZ,YANiB,IAQxB1sB,EAA4CkT,EAA5ClT,MACP,MAAO,CACLA,QACA9B,KAAM8B,EACN2sB,YAJiDzZ,EAArCyZ,YAKZnrB,MALiD0R,EAAxB1R,MAMzByiB,MANiD/Q,EAAjB+Q,MAOhCuG,OAPiDtX,EAAVsX,SAjCxB,EA6CnBjL,WAAa,WAAO,IACVkI,EAAY,EAAK3rB,MAAjB2rB,QAGJ,EAAKjI,kBACP,EAAKA,mBAIP,EAAKA,iBAAmB,EAAK2M,QAAQtd,KACnC4Y,GACA,SAACyE,GAEMzE,IAAY,EAAK3rB,MAAM2rB,SAC1B,EAAK9qB,SAAL,aACEuvB,WACG,EAAK5M,QAAQmI,EAASyE,SA7DhB,EA+FnBjO,SAAW,SAACwJ,EAASyE,GACnB,EAAKvvB,SAAL,eACMuvB,IAAY,EAAK9vB,MAAM8vB,QAAU,CAACA,WAAW,GADnD,GAEK,EAAK5M,QAAQmI,EAASyE,KAE3B,EAAKpwB,MAAMiT,aACT,EAAKjT,MAAMiF,GACX,CACE0mB,aAvGa,EA4GnBgF,gBAAkB,SAAChF,GAAa,IACtByE,EAAY,EAAK9vB,MAAjB8vB,QACR,EAAKjO,SAASwJ,EAASyE,IA9GN,IAITE,EAAmCtwB,EAAnCswB,SAAU3E,EAAyB3rB,EAAzB2rB,QAJD,OAOjB,EAAK0E,QAAU,IAAIA,GAAQC,GAC3B,EAAK5M,kBAAmB,EAExB,EAAKpjB,MAAL,aACE8vB,QAAS,MACN,EAAK5M,QAAQmI,EAAS,OAZV,E,gEAqEjB/qB,KAAK6iB,e,yCAGYnX,EAAWC,GAExBA,EAAU6jB,UAAYxvB,KAAKN,MAAM8vB,SACV,OAAvBxvB,KAAKN,MAAM8vB,QACbxvB,KAAK6iB,aAIL7iB,KAAKZ,MAAM2rB,UAAYrf,EAAUqf,QACjC/qB,KAAKC,SAAS,CACZuvB,QAAS,OAGHxvB,KAAKZ,MAAMswB,WAAahkB,EAAUgkB,WAE1C1vB,KAAKyvB,QAAU,IAAIA,GAAQzvB,KAAKZ,MAAMswB,UACtC1vB,KAAKC,SAAS,CACZuvB,QAAS,U,+BAwBL,IAAD,EAOHxvB,KAAKZ,MALP6Z,EAFK,EAELA,KACA1H,EAHK,EAGLA,YACAlN,EAJK,EAILA,GACA0mB,EALK,EAKLA,QACA2E,EANK,EAMLA,SANK,EAcH1vB,KAAKN,MAJP8vB,EAVK,EAULA,QAEAlsB,EAZK,EAYLA,MAAO9B,EAZF,EAYEA,KAAMyuB,EAZR,EAYQA,YACbnrB,EAbK,EAaLA,MAAOyiB,EAbF,EAaEA,MAAOuG,EAbT,EAaSA,OAGhB,OACE,yBAAKvtB,MAAO,CACVyf,SAAU,QACVlP,OAAQ,OACRmS,WAAY,OACZC,KAAM,YAEN,kBAAC,GAAD,cACO,CACH7e,KAAI0mB,UAAS2E,WAAUF,UACvBje,cAAa0H,OAAM3V,QAAO9B,OAC1ByuB,cAAanrB,QAAOyiB,QAAOuG,UAJ/B,CAMEiC,gBAAkB/vB,KAAK+vB,gBACvB5e,SAAWnR,KAAKZ,MAAM+R,iB,GAjJDlQ,IAAMsF,WAwJrC+c,GAAiBniB,aAAe,CAC9B4pB,QAAS,kBACT1Y,aAAc,aACdlB,SAAU,cAaGmS,ICnOAnhB,GDmOAmhB,GElMA4M,GArBM,CACnB,CACE9tB,IAAK,MACLmE,UAAW4pB,GACX1vB,KAAM,kBAAC,IAAD,CAAiBA,KAAO4hB,MAC9B7gB,KAAM,OAER,CACEY,IAAK,QACLmE,UAAW6pB,GACX3vB,KAAM,kBAAC,IAAD,CAAiBA,KAAO6sB,MAC9B9rB,KAAM,SAER,CACEY,IAAK,MACLmE,UAAW8pB,GACX5vB,KAAM,kBAAC,GAAD,MACNe,KAAM,oBCKK8uB,G,4DA5BbzlB,OAAQ,E,KAQR0lB,MAAQ,YACc,IAAf,EAAK1lB,QACRY,aAAc,EAAKZ,OACnB,EAAKA,OAAQ,I,kDARX2lB,GACJxwB,KAAK6K,MAAQR,WAAYrK,KAAKuwB,MAAOC,K,0BAYnCplB,EAAOolB,EAASC,GACbrlB,GACHpL,KAAKuwB,SAGa,IAAfvwB,KAAK6K,QACR7K,KAAK0wB,MAAMF,GACXC,S,eClBAjqB,I,OAAYC,aAAW,SAAC3B,GAAD,MAAY,CACvC6rB,OAAQ,CACNC,OAAQ,MAEVjM,QAAS,CACPnhB,SAAU,aAKRqtB,GAAsB,SAACzxB,GAAW,IAC9B0B,EAA0B1B,EAA1B0B,SAAU6H,EAAgBvJ,EAAhBuJ,KAAMpG,EAAUnD,EAAVmD,MAClB6F,EAAU5B,KAEhB,OACE,kBAAC0N,GAAA,EAAD,CACEvL,KAAOA,EACPmoB,gBAAkB,EAClB9O,UAAU,SACV1e,MAAQf,EACR6F,QAAS,CACPuoB,OAAQvoB,EAAQuoB,OAChBhM,QAASvc,EAAQuc,SAEnB5C,OAAK,GAEHjhB,IAYFiwB,G,4MACJxP,SAAW,WACJ,EAAKniB,MAAM4xB,UACd,EAAK5xB,MAAM6xB,UAGX,EAAK7xB,MAAM8xB,U,uDAKL,IAAD,EACkBlxB,KAAKZ,MAAtBgF,EADD,EACCA,UAAW/D,EADZ,EACYA,EACnB,OACE,kBAAC6T,GAAA,EAAD,CAAS5Q,MAAQjD,EAAE,sBAAwBiI,aAActI,KAAKZ,MAAM4xB,UAAwB3wB,EAAE,SAAdA,EAAE,SAChF,yBAAK+D,UAAS,oBAAgBA,GAAa,KACzC,2BACEoF,KAAK,WACLnF,GAAG,YACH7C,KAAK,QACL2vB,SAAWnxB,KAAKZ,MAAM4xB,UACtBzP,SAAWvhB,KAAKuhB,SAChBjZ,aAAajI,EAAE,wBAEjB,2BACEmgB,QAAQ,YACRjgB,MAAO,CAAE6wB,gBAAiB,Y,GA1BInwB,IAAMC,eAmC1CmwB,GAAkBjwB,oBAAU,YAAVA,CAAuB2vB,IA4EhCO,G,4MApEb5xB,MAAQ,CACNsxB,WAAW,G,EAGbnmB,OAAQ,E,EAERomB,QAAU,WACR,EAAKM,aACL,EAAKtxB,SAAS,CAAE+wB,WAAW,K,EAG7BE,OAAS,WACP,EAAKM,WACL,EAAKvxB,SAAS,CAAE+wB,WAAW,K,EAI7BQ,SAAW,WACT,EAAKD,aACL,EAAK1mB,MAAQR,WAAW,EAAKonB,WAAY,K,EAG3CF,WAAa,WACN,EAAK1mB,QACRY,aAAa,EAAKZ,OAClB,EAAKA,OAAQ,I,EAIjB4mB,WAAa,WACX,EAAKryB,MAAMmiB,SACT,GACA,EAAKniB,MAAMmD,MAAQ,EAAKnD,MAAMsyB,IAAM,EAChC,EAAKtyB,MAAMmD,MAAQ,EACnB,GAEN,EAAKivB,Y,qEAKLxxB,KAAKuxB,e,+BAGG,IACAP,EAAchxB,KAAKN,MAAnBsxB,UADD,EAEgChxB,KAAKZ,MAFrC,IAECgJ,eAFD,MAEW,GAFX,EAEkByG,EAFlB,2BAGC8iB,EAA8BvpB,EAA9BupB,UAAcC,EAHf,YAG+BxpB,EAH/B,eAIP,OACE,oCACE,kBAAC,KAAD,eACEyoB,oBAAsBA,GACtBgB,KAAO,EACPC,IAAM,EACN1pB,QAAO,eAAOwpB,IACT/iB,IAEP,kBAACwiB,GAAD,CACGjtB,UAAYutB,EACZT,OAASlxB,KAAKkxB,OACdD,QAAUjxB,KAAKixB,QACfD,UAAYA,S,GA/DF/vB,IAAMC,eCnErB6wB,GAAK,kBAA0B,OAAjB,EAAEC,KAAKC,UAAmB,GAAGC,SAAS,IAAIC,UAAU,IA2FlEnwB,G,kDAgCJ,WAAY5C,GAAQ,IAAD,8BACjB,cAAMA,IA9BRM,MAAQ,CACNuZ,KAAM,KACNkS,YAAa,KACbuE,SAAU,KACVvS,QAAS,KACTiV,MAAO,GACPC,WAAY,IAuBK,EAlBnBC,WAAa,GAkBM,EAdnBC,QAAU,IAAIjC,GAcK,EAVnBxP,QAAU,IAAIA,GAUK,EANnBuK,UAAY,IAAIA,GAMG,EAFnBoE,QAAU,IAAIA,GAEK,EA8EnB+C,UAAY,SAACnnB,GACX,KAAQ,EAAKinB,WAAWjnB,OAASA,GAC/B,EAAKinB,WAAWhoB,KA1MM,KAAKynB,KAAKA,KAAK,IAAIA,KAAK,IAAIA,KAAK,IAAIA,KAAK,IAAIA,KAAKA,KAAKA,OA0H/D,EAqFnBU,UAAY,SAACtyB,EAAOgd,GAAR,OAAoB,EAAKoV,QAAQG,KAAI,EAAO,IAAI,kBAAM,EAAKzyB,SAAS,CAAEkd,gBArF/D,EAsFnBwV,mBAAqB,SAAApwB,GAAK,OAAI,EAAK7C,MAAMuZ,KAAK1W,IAtF3B,EAyFnB0R,MAAQ,SAAC2e,GACP,IAAMpf,EAAO,YAAO,EAAKpU,MAAMoU,SAG/B,OAFAA,EAAQlJ,KAAK,CAAEd,KAAI,OAAEopB,QAAF,IAAEA,IAAY,QACjC,EAAKJ,UAAUhf,EAAQnI,QAChB,EAAKjM,MAAMiT,aAAa,CAAEmB,aA7FhB,EAmGnBrC,SAAW,SAAA9M,GACT,IAAMmP,EAAU,EAAKpU,MAAMoU,QAAQ5D,QAAQ,SAACijB,EAAEpc,GAAH,OAAa,EAAK6b,WAAW7b,KAAWpS,KAEnF,OADA,EAAKiuB,WAAa,EAAKA,WAAW1iB,QAAQ,SAAAkjB,GAAS,OAAIA,IAAczuB,KAC9D,EAAKjF,MAAMiT,aAAa,CAAEmB,aAtGhB,EA2GnBnB,aAAe,SAAChO,EAAI8N,GAAU,IAEtB4gB,EADc,EAAK3zB,MAAjBoU,QACmB3D,KAAK,SAACgjB,EAAE3J,GAAH,sBAAe2J,EAAf,GAAsBxuB,IAAO,EAAKiuB,WAAWpJ,GAAK,CAAChE,QAAS/S,GAAQ,OACpG,OAAO,EAAK/S,MAAMiT,aAAa,CAAEmB,QAASuf,KA3GtC,YAAa3zB,GACf,EAAKozB,UAAUpzB,EAAMoU,QAAQnI,QAJd,E,gEASE,IAAD,OAClBrL,KAAK8gB,QAAQ7H,MACX,SAAAA,GAEE,IAAM+Z,GACH,EAAKtzB,MAAMyd,UACX,EAAKzd,MAAMuZ,MACZ,EAAKvZ,MAAMyd,UAAY,EAAKzd,MAAMuZ,KAAK5N,OAAS,EAG5C+mB,EAAQnZ,EAEXpJ,KAAK,SAACmY,EAAKvR,GAAN,MAAiB,CAACuR,MAAKvR,YAE5B7G,QAAQ,gBAAEoY,EAAF,EAAEA,IAAF,EAAOvR,MAAP,MAAkB,SAASpN,KAAK2e,MAExCnY,KAAK,gBAAEmY,EAAF,EAAEA,IAAF,MAAmB,CAAEzlB,MAArB,EAAOkU,MAA4BpU,MAAO2lB,EAAI3iB,QAAQ,KAAM,QAEpE,EAAKpF,SAAL,aACEgZ,OAGAmZ,QACAC,WAAYD,EAAMviB,KAAK,kBAAc,CAACtN,MAAf,EAAEA,WAGrBywB,EAAS,CAAC7V,QAASlE,EAAK5N,OAAS,GAAK,KAK5C,EAAKyV,QAAQzI,wBAEjBrY,KAAKqrB,UAAU5U,OACb,SAAA0U,GAEE,EAAKlrB,SAAS,CAAEkrB,gBAIhB,EAAKE,UAAUhT,wBAEnBrY,KAAKyvB,QAAQhZ,OACX,SAAAiZ,GAEE,EAAKzvB,SAAS,CAAEyvB,aAIhB,EAAKD,QAAQpX,0B,6CAOjBrY,KAAK8gB,QAAQ1I,uBACbpY,KAAKqrB,UAAUjT,uBACfpY,KAAKyvB,QAAQrX,uBAGbpY,KAAKuyB,QAAQhC,U,2CAIbvwB,KAAKwyB,UAAUxyB,KAAKZ,MAAMoU,QAAQnI,U,+BAuC1B,IAAD,OAGP,IAAMrL,KAAKN,MAAMuZ,OAASjZ,KAAKN,MAAMyrB,YACnC,OAAO,kBAAC,EAAD,MAJF,MAOsCnrB,KAAKZ,MAA1CoU,EAPD,EAOCA,QAASpL,EAPV,EAOUA,QAAS6qB,EAPnB,EAOmBA,eAPnB,EAQ6DjzB,KAAKN,MAAjEuZ,EARD,EAQCA,KAAMkS,EARP,EAQOA,YAAauE,EARpB,EAQoBA,SAAUvS,EAR9B,EAQ8BA,QAASiV,EARvC,EAQuCA,MAAOC,EAR9C,EAQ8CA,WAC/Ca,EAAanpB,aAAK3B,EAAQ0B,MAAO1B,EAAQ+qB,OAE/C,OACE,oCACE,kBAACC,GAAA,EAAD,CAAOhvB,UAAY8uB,EAAaG,UAAY,GAE1C,yBAAKjvB,UAAYgE,EAAQkrB,eAOzB,yBAAKlvB,UAAYgE,EAAQmrB,iBAGvB,kBAAC,GAAD,CACEtf,MAAQjU,KAAKiU,MACb7P,UAAYgE,EAAQorB,UACpB5kB,QAAUshB,KAIZ,kBAAC,GAAD,CACE9nB,QAAS,CACPyI,KAAMzI,EAAQqrB,WACd9B,UAAWvpB,EAAQupB,WAErBD,IAAMzY,EAAK5N,OAAS,EACpB9I,MAAQ4a,GAAW,EACnBoE,SAAWvhB,KAAKyyB,UAChBiB,iBAAmB1zB,KAAK2yB,mBACxBgB,iBAAmB3zB,KAAK2yB,mBAExBP,MAAQa,EAAiBb,EAAQC,EAEjCuB,kBAAoBX,EAAiB,KAAO,SAMlD,kBAACjX,GAAA,EAAD,CAAMC,WAAS,EAACnU,QAAS,EAAG1D,UAAWgE,EAAQyrB,kBAE3CrgB,EAAQ3D,KAAK,SAACikB,EAAQrd,GAAW,IACvBlQ,EAAc2pB,GAAavqB,MAAK,SAAAktB,GAAC,OAAIA,EAAEzwB,MAAQ0xB,EAAOtqB,QAAtDjD,UACR,OACE,kBAACyV,GAAA,EAAD,CAAMI,MAAI,EAACqJ,GAAI,GAAIsO,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAG7xB,IAAM,EAAKkwB,WAAW7b,IAC5D,kBAAClQ,EAAD,eACElC,GAAK,EAAKiuB,WAAW7b,GACrBrU,IAAM,EAAKkwB,WAAW7b,GACtBwC,KAAOA,EACPkS,YAAcA,EACduE,SAAWA,EACXne,YAAc4L,EACd9K,aAAe,EAAKA,aACpBlB,SAAW,EAAKA,UACX2iB,EAAO5O,oB,GAnNNjkB,IAAMC,eAiP1BgzB,GACJniB,EACE+d,cA1Uc,SAAChrB,GAAD,gBAAY,CAC5BwuB,aAAcxuB,EAAMgC,OAAOC,QAC3B8sB,iBAAkB,CAChBjD,OAAQ,GACRzpB,MAAO,OACPxG,OAAQ,GAEVmJ,MAAO,CACLtJ,QAASsE,EAAMgD,QAAQ,GACvBnB,QAAS,OACTwtB,SAAU,OACVC,cAAe,UAEjBjB,MAAO,CACLjsB,SAAU,SACVmtB,IAAK,EACLzD,OAAQ,KACRpwB,QAAS,EAET8zB,cAAe,GAEjBf,iBAAe,GACb5sB,QAAS,OACTC,WAAY,SACZC,eAAgB,gBAChBqZ,UAAWpb,EAAMgD,QAAQ,GACzBskB,aAActnB,EAAMgD,QAAQ,IAC5BysB,WAAYzvB,EAAMgD,QAAQ,GAC1BwT,YAAaxW,EAAMgD,QAAQ,IAPd,eASZhD,EAAMiD,YAAYC,GAAG,MAAQ,CAC5BokB,aAActnB,EAAMgD,QAAQ,GAC5BlB,WAAY,eAXD,eAgBZ,4BAhBY,oBAiBV9B,EAAMiD,YAAYC,GAAG,MAAQ,CAC5BkY,UAAWpb,EAAMgD,QAAQ,IACzBwsB,cAAexvB,EAAMgD,QAAQ,KAnBpB,eAqBVhD,EAAMiD,YAAYoE,KAAK,MAAQ,CAC9BmoB,cAAexvB,EAAMgD,QAAQ,MAtBpB,OA2Bf2rB,YAAU,oBACP3uB,EAAMiD,YAAYC,GAAG,MAAQ,CAC5BusB,WAAYzvB,EAAMgD,QAAQ,GAC1BwT,YAAaxW,EAAMgD,QAAQ,KAHrB,eAKPhD,EAAMiD,YAAYoE,KAAK,MAAQ,CAC9BooB,WAAYzvB,EAAMgD,QAAQ,GAC1BwT,YAAaxW,EAAMgD,QAAQ,KAPrB,GAWV0rB,UAAU,cACRhzB,QAAS,EACTgD,SAAUsB,EAAMgD,QAAQ,GACxB0sB,UAAW,0CACXC,aAAc,GACb3vB,EAAMiD,YAAYC,GAAG,MAAQ,CAC5BxE,SAAUsB,EAAMgD,QAAQ,KAI5B6pB,UAAU,cACRnuB,SAAUsB,EAAMgD,QAAQ,IACvBhD,EAAMiD,YAAYC,GAAG,MAAQ,CAC5BxE,SAAUsB,EAAMgD,QAAQ,QAkQ1BgoB,CAbuB,SAACvpB,GAC1B,OAAO,SAACnH,GACN,IAAM0F,EAAQ8D,cACRqqB,EAAiBnqB,YAAchE,EAAMiD,YAAYC,GAAG,OAC1D,OAAO,kBAACzB,EAAD,iBAAgBnH,EAAa,CAAE6zB,qBAUpCyB,CACE1yB,MAmCO2yB,GA5ByB,SAACv1B,GAAD,OACtC,kBAAC,EAAD,CACEwU,WAAa,aACbF,aAAe,SAACH,GAAY,IAEtBqhB,EADIphB,EAAYD,EAAZC,QAGR,IACEohB,EAAgBphB,EAAQmE,MAAM,KAAK9H,KAAK,SAAAgjB,GAAC,OAAIgC,KAAKC,MAAO5vB,mBAAmB2tB,OAC5E,MAAM9d,GACN6f,EAAgB,GAGlB,OAAOllB,OAAO8C,OAAO,GAAIpT,EAAO,CAC9BoU,QAASohB,KAGbvhB,eAAiB,SAACE,GAChB,IAAMC,EAAUD,EAAOC,QAAQ3D,KAC7B,SAAAgjB,GAAC,OAAIkC,mBAAoBF,KAAKG,UAAU,CAAExrB,KAAMqpB,EAAErpB,KAAM0b,QAAS2N,EAAE3N,cACnEoD,KAAK,KACP,MAAM,IAAN,OAAW9U,KAGb,kBAAC0gB,GAAgC90B,M,6SC/X/ByC,E,uKACM,IACAxB,EAAML,KAAKZ,MAAXiB,EACR,OACE,oCACE,wBAAIgE,GAAG,iBACL,kBAAC,IAAD,CAAiB5D,KAAOgD,IAAUlD,MAAO,CAAE+a,YAAa,UACtDjb,EAAE,UAEN,yBAAKgE,GAAG,oBAAoB9D,MAAO,CAAEK,UAAW,SAC9C,2BACIP,EAAE,iFAAmF,IACvF,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,0BAAlD,0BAFF,KAKA,2BACIzM,EAAE,+IAGN,4BAAMA,EAAE,2BACR,2BAAG,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,mCAAoCzM,EAAE,2CAAgD,IACzIA,EAAE,0FAEJ,4BAAMA,EAAE,wDACR,2BAAG,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,0CAA2CzM,EAAE,gCAElG,4BAAMA,EAAE,aACR,2BACIA,EAAE,iDAAmD,IACvD,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,mCAAoCzM,EAAE,iBAAsB,IAC5GA,EAAE,0BAA4B,IAChC,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,uDAAlD,mCAJF,KAOA,2BACIzM,EAAE,8CAAgD,IACpD,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,yCAAlD,cAAyG,IACvGzM,EAAE,+BAAiC,IACrC,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,uDAAlD,mCAJF,KAOA,2BACIzM,EAAE,sCAAwC,IAC5C,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,yCAAlD,cAAyG,IACvGzM,EAAE,mCAAqC,IAAI,wDAC3CA,EAAE,kCACJ,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,+CAAlD,yCACEzM,EAAE,iBAAmB,IACrBA,EAAE,mBAAqB,IACzB,uBAAGwe,OAAO,SAASoW,IAAI,sBAAsBnoB,KAAK,sGAAuGzM,EAAE,8BAR7J,W,GAzCUY,IAAMsF,WA2DXnF,sBAAU,QAAVA,CAAmBS,G,6CCzD5BC,E,uKACM,IAAD,EACmC9B,KAAKZ,MAAvCiB,EADD,EACCA,EAAG4D,EADJ,EACIA,SAAUmC,EADd,EACcA,iBAEf8uB,EAAoBxvB,IAAU4P,QAAO,SAAC6f,EAAWhY,GACrD,OAAKgY,EAAUxvB,MAAK,SAACyW,GAAD,OAAUA,EAAK/Z,QAAU8a,EAAQ9a,SAG5C8yB,EAFAA,EAAUC,OAAO,CAACjY,MAI1B,IAEH,OACE,oCACE,wBAAI9Y,GAAG,iBACL,kBAAC,IAAD,CAAiB5D,KAAMiD,IAAYnD,MAAO,CAAE+a,YAAa,UACxDjb,EAAE,aAEL,6BACE,kBAACggB,EAAA,EAAD,CAAahd,UAAU,YACrB,kBAACgyB,EAAA,EAAD,CACE/sB,aAAW,WACX9G,KAAK,WACLe,MAAO0B,EACPsd,SAAU,SAACvX,GAAD,OAAO5D,EAAiB4D,EAAE6U,OAAOtc,SAE1C2yB,EAAkBrlB,KAAI,SAACylB,EAAK7e,GAAN,OACrB,kBAAC8e,EAAA,EAAD,CACEnzB,IAAKqU,EACLlU,MAAO+yB,EAAIlzB,IACXozB,QAAS,kBAACC,EAAA,EAAD,MACTpzB,MAAOizB,EAAIjzB,mB,GA/BNpB,IAAMsF,WA0CdnF,sBAAU,WAAVA,CAAsBU,GCxB/B4zB,EAAmB,SAACt1B,EAAQiD,GAAT,OAAuB,kBAAClE,EAAA,EAAiB,CAAEiB,SAASgC,IAAKhC,GAAYiD,IAExF3B,EAAYN,oBAAU,YAAVA,EAAuB,SAAChC,GAAW,IAC3CiB,EAAMjB,EAANiB,EACR,OACE,kBAACs1B,EAAA,EAAD,CAAYntB,QAAQ,QAAQN,MAAM,gBAAgB0tB,MAAM,UACrD,kBACD,kBAACC,EAAA,EAAD,CAAM3tB,MAAM,UAAU4E,KAAK,mCACvBzM,EAAE,mBAAqB,IACzB,4BACIA,EAAE,cAAgB,IACpB,8BAAQA,EAAE,iBAEN,KACP,IAAI0W,MAAO8B,cACX,QAKDid,EAAmB,SAAC12B,GACxB,IAAM22B,EAAkBjtB,YAAc,gCAC9BU,EAAmBpK,EAAnBoK,KAAM1I,EAAa1B,EAAb0B,SAERgE,EAAQ7D,IAAM+B,SAClB,kBACEgzB,YAAe,CACbra,QAAS,CACPnS,KAAMA,IAEEusB,EACE,OACA,cAGhB,CAACA,EAAiBvsB,IAGpB,OACE,kBAACysB,EAAA,EAAD,CAAenxB,MAAQA,GACrB,kBAACoxB,EAAA,EAAD,MACEp1B,IAOF0F,EAAYC,aAAW,SAAC3B,GAAD,MAAY,CACvC+L,KAAM,CACJlK,QAAS,QAEXI,QAAS,CACP8d,aAAc,IAEhBsR,OAAQ,CACNvF,OAAQ9rB,EAAM8rB,OAAOwF,OAAS,EAC9BhvB,WAAYtC,EAAMuC,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQzC,EAAMuC,YAAYE,OAAOC,MACjCC,SAAU3C,EAAMuC,YAAYI,SAASI,iBAGzCwuB,YAAa,CACX9B,WAjBgB,IAkBhBptB,MAAM,eAAD,OAlBW,IAkBX,OACLC,WAAYtC,EAAMuC,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQzC,EAAMuC,YAAYE,OAAOC,MACjCC,SAAU3C,EAAMuC,YAAYI,SAASC,kBAGzC4uB,WAAY,CACVhb,YAAa,IAEfib,iBAAkB,CAChB5vB,QAAS,QAEXrD,MAAO,CACL0D,SAAU,GAEZkgB,QAAS,CACPlgB,SAAU,EACV8J,OAAQ,QACRqjB,SAAU,QAEZlY,UAAW,CACTgH,WAAYne,EAAMgD,QAAQ,GAC1BwsB,cAAexvB,EAAMgD,QAAQ,QAI3B0uB,EAAc,SAACp3B,GAAW,IAAD,EACUA,EAAMq3B,WAArCxyB,EADqB,EACrBA,SAAUmC,EADW,EACXA,iBAClB,OACE,kBAACxE,EAAA,EAAD,CAAawJ,OAAQ,GACnB,kBAAC,IAAD,CACEsrB,OAAK,EACL9rB,KAAK,QACLoB,OAAS,SAAA5M,GAAK,OAAIs2B,EAAiB,QAAS,kBAAC,EAAD,UAE9C,kBAAC,IAAD,CACEgB,OAAK,EACL9rB,KAAK,WACLoB,OAAQ,SAAC5M,GAAD,OACNs2B,EACE,WACA,kBAAC,EAAD,CAAUzxB,SAAUA,EAAUmC,iBAAkBA,UAiE7ChF,wBAAU,SAAVA,EAzDG,SAAChC,GACjB,IAAMgJ,EAAU5B,IACR1F,EAAqC1B,EAArC0B,SAAUgE,EAA2B1F,EAA3B0F,MAAOzE,EAAoBjB,EAApBiB,EAAMwO,EAFJ,YAEkBzP,EAFlB,4BAGH6B,IAAM6N,UAAS,GAHZ,mBAGpBnG,EAHoB,KAGdguB,EAHc,KAKrBjuB,EAAmB,WACvBiuB,GAAQ,IAKJC,EAAwB9tB,YAAcktB,cAAiBjuB,YAAYoE,KAAK,QAAU/M,EAAMqF,yBAE9F,OACE,kBAAC,EAAD,CAAkB+E,KAAO1E,GACvB,kBAAC,EAAD,CAAa2xB,WAAYr3B,IACzB,yBAAKiF,GAAG,OAAOD,UAAWgE,EAAQyI,MAChC,kBAACgmB,EAAA,EAAD,CAAQ3vB,SAAS,WAAW9C,UAAW2F,YAAK3B,EAAQ+tB,OAAQxtB,GAAQP,EAAQiuB,cAC1E,kBAACS,EAAA,EAAD,CAAS1yB,UAAWgE,EAAQrB,SAC1B,kBAACoI,EAAA,EAAD,CACE9G,KAAK,QACLH,MAAM,UACNI,aAAW,YACXhI,QAASoI,EACTtE,UAAW2F,YAAK3B,EAAQkuB,WAAY3tB,GAAQP,EAAQmuB,mBAEpD,kBAACQ,EAAA,EAAD,CAAOC,aAAc,EAAG9uB,MAAO,YAAa+uB,WAAYL,GACtD,kBAAC,IAAD,QAGJ,kBAACjB,EAAA,EAAD,CAAYtyB,UAAU,KAAKmF,QAAQ,KAAKN,MAAM,UAAUO,QAAM,EAACrE,UAAWgE,EAAQ9E,OAC9EjD,EAAE,cAAgB,IACpB,8BAAQA,EAAE,kBAWhB,kBAAC,IAAD,cAAW,CAAEqI,mBAAkBH,kBAnCX,WACxBouB,GAAQ,IAkC8ChuB,QAAckG,IAChE,0BAAMzK,UAAWgE,EAAQ8e,SACrBpmB,EACF,kBAACo2B,EAAA,EAAD,CAAWjM,SAAS,KAAK7mB,UAAWgE,EAAQ6T,WAC1C,kBAACd,EAAA,EAAD,CAAKgc,GAAI,GACP,kBAACz1B,EAAD,e,uEC9Ld,0EAiCA01B,IAASprB,OACP,kBAAC,IAAMqrB,WAAP,KACE,kBAAC,IAAD,CAAK1yB,6BA3BQ,SAACJ,GAId,IAAI+yB,EAHD/yB,EAAagzB,UAIhBhyB,UAAUiI,cAAc3H,iBAAiB,oBAAoB,SAAC1F,GAIxDm3B,IAIJA,GAA4B,EAC5BzpB,QAAQC,IAAI,qBACZ3I,EAAO3F,SAASC,QAAO,OAIzB8E,EAAagzB,QAAQC,YAAY,oBAUnC5xB,SAAS6xB,eAAe,SAO1BjqB,IAAuB,CAIrBa,SAAU,SAAA9J,GACR,IAAMpE,EAAQ,IAAIu3B,YAAY,qBAAsB,CAAElzB,OAAQ,CAAED,kBAChEqB,SAAS+xB,cAAcx3B,O","file":"static/js/main.fcd2b535.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faSyncAlt as faRefresh } from '@fortawesome/free-solid-svg-icons'\nimport { translate } from 'react-translate'\n\n// Catches unhandled errors:\n// - Show it to user\n// - Send them to GA to help improve app\nclass ErrorCatcher extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      errorMessage: '',\n      errorStack: '',\n      info: '',\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return {\n      hasError: true,\n      errorMessage: error.message,\n      errorStack: error.stack,\n    };\n  }\n\n  // Catch unhandled errors and send them to help improving the app\n  componentDidCatch(error, info) {\n\n    this.setState({\n      info: info.componentStack,\n    });\n\n    this.sendEvent('Unhandled Error');\n  }\n\n  reloadApp = () => {\n    this.sendEvent('Reload from Error');\n\n    // Reload app\n    window.location.reload();\n  }\n\n  // Send event to GA\n  sendEvent(event) {\n    this.props.sendEvent(event, this.props.origin, this.state.errorMessage);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      const { t } = this.props;\n      const { errorMessage, errorStack } = this.state;\n\n      // Show error to user\n      return (\n        <>\n          <h1>{ t('Something went wrong :(') }</h1>\n          <button\n            onClick={ this.reloadApp }\n            style={{ padding: '1em' }}\n          >\n            <FontAwesomeIcon\n              icon={ faRefresh }\n              style={{ margin: '0 .8em 0 .2em' }}\n            />\n            { t(\"Try reloading the app to recover from it\") }\n          </button>\n          <div style={{ textAlign: 'left' }}>\n            <h3>{ errorMessage }</h3>\n            <details style={{ whiteSpace: \"pre-wrap\" }}>\n              { errorStack }\n            </details>\n          </div>\n        </>\n      );\n    }\n\n    return this.props.children\n  }\n}\n\nErrorCatcher.defaultProps = {\n  origin: 'No name',\n  sendEvent: () => {},\n};\n\nErrorCatcher.propTypes = {\n  origin: PropTypes.string.isRequired,\n  sendEvent: PropTypes.func.isRequired,\n};\n\nexport default translate('ErrorCatcher')(ErrorCatcher);\n","const common = {\n    \"Covid Data - Refactored\": \"Dades Covid - Refactoritzada\",\n    \"Covid Data\": \"Dades Covid\",\n    \"Refactored\": \"Refactoritzada\",\n    \"Close\": \"Tanca\",\n    \"About\": \"Quant a...\",\n    \"Language\": \"Idioma\",\n    \"Help\": \"Ajuda\",\n    \"Yes\": \"Si\",\n    \"No\": \"No\",\n    \"or\": \"o\",\n};\n\nconst chartEdit = {\n  \"Dataset\": \"Conjunt de dades\",\n  \"Select the dataset\": \"Selecciona el conjunt de dades a usar\",\n};\n\nexport default {\n  locale: \"fr\", // :(\n  name: \"Catal\",\n\n  App: {\n    ...common,\n  },\n\n  Copyright: {\n    ...common,\n    \"Source code of:\": \"Codi font de\",\n  },\n\n  ErrorCatcher: {\n    ...common,\n    \"Something went wrong :(\": \"Alguna cosa ha anat malament :(\",\n    \"Try reloading the app to recover from it\": \"Intenta recarregar l'aplicaci per a continuar\",\n  },\n\n  Menu: {\n    ...common,\n    \"Menu\": \"Men\",\n    \"Update!\": \"Actualitza!\",\n    \"New update available!\": \"Nova versi disponible!\",\n  },\n\n  ModalRouter: {\n    ...common,\n  },\n\n  About: {\n    ...common,\n    \"This applications displays public information extracted from the official web\": \"Aquesta aplicaci mostra informaci pblica extreta de la pgina web oficial\",\n    \"The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.\": \"La finalitat d'aquesta aplicaci s mostrar les dades de formes diferents a l'original, millorant-ne el rendiment i afegint-ne ms valor.\",\n    \"Want more information?\": \"Vols ms informaci?\",\n    \"The source code is publicly available.\": \"El codi font s pblicament accessible.\",\n    \"There, you can find more information about how it has been done, licence and credits.\": \"All trobars ms informaci sobre com s'ha fet, llicncies i crdits.\",\n    \"Found a bug? Have a petition? Want to help somehow?\": \"Has trobat un error? Tens una petici? Vols ajudar d'alguna forma?\",\n    \"Create an issue at GitHub.\": \"Crea una incidncia a GitHub\",\n    \"Licenses\": \"Llicncies\",\n    \"The application, scripts and documentation in\": \"L'aplicaci, scripts i documentaci a\",\n    \"this project\": \"aquest projecte\",\n    \"are released under the\": \"han sigut alliberats sota la\",\n    \"The scripts and documentation published in\": \"Els scripts i documentaci publicats a\",\n    \"are also released under the\": \"tamb estan alliberades sota la\",\n    \"The data scrapped and published in\": \"Les dades aconseguides de la web oficial i publicades a\",\n    \"is licensed by their owner, the\": \"ha estat llicenciada pel seu propietari, la\",\n    \", under their own conditions (\": \", sota les seves prpies condicions (\",\n    \", until now).\": \", fins ara).\",\n    \"See more at the\": \"Pots trobar ms informaci a la\",\n    \"dataset API documentation\": \"documentaci de l'API del dataset\",\n  },\n\n  Language :{\n    ...common,\n  },\n\n  Help: {\n    ...common,\n  },\n\n  WidgetsList: {\n    ...common,\n  },\n\n  MenuAddWidget: {\n    ...common,\n    \"Map\": \"Mapa\",\n    \"Chart\": \"Grfic\",\n    \"Add a graph\": \"Afegeix un grfic\",\n    \"add\": \"afegeix\",\n    \"Barcelona Chart\": \"Grfic de Barcelona\",\n  },\n\n  PlayPause: {\n    ...common,\n    \"Toggle play status\": \"Commuta l'estat de reproducci\",\n    \"play\": \"Reprodueix\",\n    \"pause\": \"Pausa\",\n  },\n\n  Widget: {\n    ...common,\n    \"remove\": \"elimina\",\n    \"Remove\": \"Elimina\",\n    \"Remove?\": \"Eliminar?\",\n    \"Confirm removal\": \"Confirma l'eliminaci\",\n    \"View\": \"Veure\",\n    \"Edit\": \"Edita\",\n    \"Legend\": \"Llegenda\",\n    \"Edit map parameters\": \"Edita les opcions del mapa\",\n    \"Edit chart parameters\": \"Edita les opcions del grfic\",\n    \"Edit BCN parameters\": \"Edita les opcions de l'element de BCN\",\n  },\n\n  'Widget/Map/Edit': {\n    \"Type\": \"Tipus\",\n    \"Select the regions type to show\": \"Selecciona el tipus de regions a mostrar\",\n    \"Values\": \"Valors\",\n    \"Select the data origin\": \"Selecciona l'origen de les dades\",\n  },\n\n  'Widget/Chart/Edit': {\n    ...chartEdit,\n    \"Division\": \"Divisi territorial\",\n    \"Select the division type to show\": \"Selecciona la divisi territorial a usar\",\n    \"Population\": \"Poblaci\",\n    \"Select the population\": \"Selecciona la poblaci\",\n    \"Extensi\": \"Extensi\",\n    \"Risc iEPG\": \"Risc iEPG\",\n    \"Region\": \"Regi\",\n    \"Select the region\": \"Selecciona la regi\",\n  },\n\n  'Widget/Bcn/Edit': {\n    ...chartEdit,\n  },\n\n}\n","const common = {\n    \"Covid Data - Refactored\": \"Datos Covid - Refactorizada\",\n    \"Covid Data\": \"Datos Covid\",\n    \"Refactored\": \"Refactorizada\",\n    \"Close\": \"Cerrar\",\n    \"About\": \"Sobre...\",\n    \"Language\": \"Idioma\",\n    \"Help\": \"Ayuda\",\n    \"Yes\": \"S\",\n    \"No\": \"No\",\n    \"or\": \"o\",\n};\n\nconst chartEdit = {\n    \"Dataset\": \"Conjunto de datos\",\n    \"Select the dataset\": \"Seleccionar el conjunto de datos a usar\",\n};\n\nexport default {\n  locale: \"es\",\n  name: \"Castellano\",\n\n  App: {\n    ...common,\n  },\n\n  Copyright: {\n    ...common,\n    \"Source code of:\": \"Cdigo fuente de\",\n  },\n\n  ErrorCatcher: {\n    ...common,\n    \"Something went wrong :(\": \"Algo ha ido mal :(\",\n    \"Try reloading the app to recover from it\": \"Intenta recargar la aplicacin para continuar\",\n  },\n\n  Menu: {\n    ...common,\n    \"Menu\": \"Men\",\n    \"Update!\": \"Actualizar!\",\n    \"New update available!\": \"Nueva actualizacin disponible!\",\n  },\n  \n  ModalRouter: {\n    ...common,\n  },\n\n  About: {\n    ...common,\n    \"This applications displays public information extracted from the official web\": \"Esta aplicacin muestra informacin pblica extrada de la pgina web oficial\",\n    \"The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.\": \"El propsito de esta aplicacin es mostrar los datos de una manera distinta al original, mejorando su rendimiento y aadindole ms valor.\",\n    \"Want more information?\": \"Quieres saber ms?\",\n    \"The source code is publicly available.\": \"El cdigo fuente est disponible al pblico.\",\n    \"There, you can find more information about how it has been done, licence and credits.\": \"Ah puedes encontrar ms informacin sobre cmo se ha hecho, la licencia y los crditos.\",\n    \"Found a bug? Have a petition? Want to help somehow?\": \"Has encontrado un bug? Tienes alguna peticin? Quieres ayudar de alguna forma?\",\n    \"Create an issue at GitHub.\": \"Abre un nuevo issue en GitHub.\",\n    \"Licenses\": \"Licencias\",\n    \"The application, scripts and documentation in\": \"La aplicacin, scripts y documentacin de\",\n    \"this project\": \"este projecto\",\n    \"are released under the\": \"estn publicados bajo la\",\n    \"The scripts and documentation published in\": \"Los scripts y la documentacin publicada en\",\n    \"are also released under the\": \"tambin estn publicados bajo la\",\n    \"The data scrapped and published in\": \"Los datos recolectados y publicados en\",\n    \"is licensed by their owner, the\": \"est bajo la licencia de su propietario, \",\n    \", under their own conditions (\": \", bajo sus propias condiciones (\",\n    \", until now).\": \", hasta ahora).\",\n    \"See more at the\": \"Ver ms en la\",\n    \"dataset API documentation\": \"documentacin de la API del dataset\",\n  },\n  \n  Language: {\n    ...common,\n  },\n\n  Help: {\n    ...common,\n  },\n\n  WidgetsList: {\n    ...common,\n  },\n\n  MenuAddWidget: {\n    ...common,\n    \"Map\": \"Mapa\",\n    \"Chart\": \"Grfico\",\n    \"Barcelona Chart\": \"Grfico de Barcelona\",\n    \"Add a graph\": \"Aadir un grfico\",\n    \"add\": \"aadir\",\n  },\n\n  PlayPause: {\n    ...common,\n    \"Toggle play status\": \"Conmutat el estado de reproduccin\",\n    \"play\": \"reproducir\",\n    \"pause\": \"detener\",\n  },\n\n  Widget: {\n    ...common,\n    \"remove\": \"eliminar\",\n    \"Remove\": \"Eliminar\",\n    \"Remove?\": \"Eliminar?\",\n    \"Confirm removal\": \"Confirmar la eliminacin\",\n    \"View\": \"Ver\",\n    \"Edit\": \"Editar\",\n    \"Legend\": \"Leyenda\",\n    \"Edit map parameters\": \"Editar las opciones del mapa\",\n    \"Edit chart parameters\": \"Editar las opciones del grfico\",\n    \"Edit BCN parameters\": \"Editar las opciones del elemento de BCN\",\n  },\n\n  'Widget/Map/Edit': {\n    \"Type\": \"Tipo\",\n    \"Select the regions type to show\": \"Seleccionar el tipo de regiones a mostrar\",\n    \"Values\": \"Valores\",\n    \"Select the data origin\": \"Selecciona el origen de los datos\",\n  },\n\n  'Widget/Chart/Edit': {\n    ...chartEdit,\n    \"Division\": \"Divisin territorial\",\n    \"Select the division type to show\": \"Seleccionar la divisin territorial a usar\",\n    \"Population\": \"Poblacin\",\n    \"Select the population\": \"Seleccionar la poblacin\",\n    \"Extensi\": \"Extensin\",\n    \"Risc iEPG\": \"Riesgo iEPG\",\n    \"Region\": \"Regin\",\n    \"Select the region\": \"Seleccionar la regin\",\n  },\n\n  'Widget/Bcn/Edit': {\n    ...chartEdit,\n  },\n\n}\n","const common = {\n  \"Covid Data - Refactored\": \"Covid Data - Refactored\",\n  \"Covid Data\": \"Covid Data\",\n  \"Refactored\": \"Refactored\",\n  \"Close\": \"Close\",\n  \"About\": \"About...\",\n  \"Language\": \"Language\",\n  \"Help\": \"Help\",\n  \"Yes\": \"Yes\",\n  \"No\": \"No\",\n  \"or\": \"or\",\n};\n\nconst chartEdit = {\n  \"Dataset\": \"Dataset\",\n  \"Select the dataset\": \"Select the dataset\",\n};\n\nexport default {\n  locale: \"en\",\n  name: \"English\",\n\n  App: {\n    ...common,\n  },\n\n  Copyright: {\n    ...common,\n    \"Source code of:\": \"Source code of:\",\n  },\n\n  ErrorCatcher: {\n    ...common,\n    \"Something went wrong :(\": \"Something went wrong :(\",\n    \"Try reloading the app to recover from it\": \"Try reloading the app to recover from it\",\n  },\n\n  Menu: {\n    ...common,\n    \"Menu\": \"Menu\",\n    \"Update!\": \"Update!\",\n    \"New update available!\": \"New update available!\",\n  },\n\n  ModalRouter: {\n    ...common,\n  },\n\n  About: {\n    ...common,\n    \"This applications displays public information extracted from the official web\": \"This applications displays public information extracted from the official web\",\n    \"The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.\": \"The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.\",\n    \"Want more information?\": \"Want more information?\",\n    \"The source code is publicly available.\": \"The source code is publicly available.\",\n    \"There, you can find more information about how it has been done, licence and credits.\": \"There, you can find more information about how it has been done, licence and credits.\",\n    \"Found a bug? Have a petition? Want to help somehow?\": \"Found a bug? Have a petition? Want to help somehow?\",\n    \"Create an issue at GitHub.\": \"Create an issue at GitHub.\",\n    \"Licenses\": \"Licenses\",\n    \"The application, scripts and documentation in\": \"The application, scripts and documentation in\",\n    \"this project\": \"this project\",\n    \"are released under the\": \"are released under the\",\n    \"The scripts and documentation published in\": \"The scripts and documentation published in\",\n    \"are also released under the\": \"are also released under the\",\n    \"The data scrapped and published in\": \"The data scrapped and published in\",\n    \"is licensed by their owner, the\": \"is licensed by their owner, the\",\n    \", under their own conditions (\": \", under their own conditions (\",\n    \", until now).\": \", until now).\",\n    \"See more at the\": \"See more at the\",\n    \"dataset API documentation\": \"dataset API documentation\",\n  },\n\n  Language :{\n    ...common,\n  },\n\n  Help: {\n    ...common,\n  },\n\n  WidgetsList: {\n    ...common,\n  },\n\n  MenuAddWidget: {\n    ...common,\n    \"Map\": \"Map\",\n    \"Chart\": \"Chart\",\n    \"Barcelona Chart\": \"Barcelona Chart\",\n    \"Add a graph\": \"Add a graph\",\n    \"add\": \"add\",\n  },\n\n  PlayPause: {\n    ...common,\n    \"Toggle play status\": \"Toggle play status\",\n    \"play\": \"play\",\n    \"pause\": \"pause\",\n  },\n\n  Widget: {\n    ...common,\n    \"remove\": \"remove\",\n    \"Remove\": \"Remove\",\n    \"Remove?\": \"Remove?\",\n    \"Confirm removal\": \"Confirm removal\",\n    \"View\": \"View\",\n    \"Edit\": \"Edit\",\n    \"Legend\": \"Legend\",\n    \"Edit map parameters\": \"Edit map parameters\",\n    \"Edit chart parameters\": \"Edit chart parameters\",\n    \"Edit BCN parameters\": \"Edit BCN parameters\",\n  },\n\n  'Widget/Map/Edit': {\n    \"Type\": \"Type\",\n    \"Select the regions type to show\": \"Select the regions type to show\",\n    \"Values\": \"Values\",\n    \"Select the data origin\": \"Select the data origin\",\n  },\n\n  'Widget/Chart/Edit': {\n    ...chartEdit,\n    \"Division\": \"Division\",\n    \"Select the division type to show\": \"Select the division type to show\",\n    \"Population\": \"Population\",\n    \"Select the population\": \"Select the population\",\n    \"Extensi\": \"Extensi\",\n    \"Risc iEPG\": \"Risc iEPG\",\n    \"Region\": \"Region\",\n    \"Select the region\": \"Select the region\",\n  },\n\n  'Widget/Bcn/Edit': {\n    ...chartEdit,\n  },\n}\n","const common = {\n    \"Covid Data - Refactored\": \"Covid Data - Refactored\",\n    \"Covid Data\": \"Covid Data\",\n    \"Refactored\": \"Refactored\",\n    \"Close\": \"Zamknij\",\n    \"About\": \"O Covid Data...\",\n    \"Language\": \"Jzyk\",\n    \"Help\": \"Pomoc\",\n    \"Yes\": \"Tak\",\n    \"No\": \"Nie\",\n    \"or\": \"albo\",\n};\n\nconst chartEdit = {\n  \"Dataset\": \"Dane\",\n  \"Select the dataset\": \"Wybierz zbir danych\",\n};\n\nexport default {\n  locale: \"pl\",\n  name: \"Polish\",\n\n  App: {\n    ...common,\n  },\n\n  Copyright: {\n    ...common,\n    \"Source code of:\": \"Kod rdowy:\",\n  },\n\n  ErrorCatcher: {\n    ...common,\n    \"Something went wrong :(\": \"Co poszo nie tak :(\",\n    \"Try reloading the app to recover from it\": \"Sprbuj odwiey stron by si z tego wydosta\",\n  },\n\n  Menu: {\n    ...common,\n    \"Menu\": \"Menu\",\n    \"Update!\": \"Aktualizacja!\",\n    \"New update available!\": \"Nowa aktualizacja dostpna!\",\n  },\n\n  ModalRouter: {\n    ...common,\n  },\n\n  About: {\n    ...common,\n    \"This applications displays public information extracted from the official web\": \"Aplikacja pokazuje publicznie dostpne informacje z oficjalnych rde\",\n    \"The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.\": \"Celem aplikacji jest pokazanie danych w inny sposb ni dotychczas dostpne, poprawienie wydajnoci oraz wartociowe ich ukazanie\",\n    \"Want more information?\": \"Potrzebujesz wicej informacji?\",\n    \"The source code is publicly available.\": \"Kod rdowy jest dostpny publicznie.\",\n    \"There, you can find more information about how it has been done, licence and credits.\": \"Tutaj moesz znale informacje o powstawaniu aplikacji, licencjach oraz autorach.\",\n    \"Found a bug? Have a petition? Want to help somehow?\": \"Bd? Pomys? Chcesz pomc?\",\n    \"Create an issue at GitHub.\": \"Stwrz ticket na GitHubie.\",\n    \"Licenses\": \"Licencje\",\n    \"The application, scripts and documentation in\": \"Aplikacja, skrypty i dokumentacja w\",\n    \"this project\": \"ten projekt\",\n    \"are released under the\": \"jest wydawany w ramach\",\n    \"The scripts and documentation published in\": \"Skrypty i dokumentacja udostpniona w \",\n    \"are also released under the\": \"take udostpniane jako\",\n    \"The data scrapped and published in\": \"Dane pochodzce i udostpnione w\",\n    \"is licensed by their owner, the\": \"licencjonowane przez waciciela: \",\n    \", under their own conditions (\": \", na ich wasnych zasadach (\",\n    \", until now).\": \", dotychczas).\",\n    \"See more at the\": \"Sprawd wicej na\",\n    \"dataset API documentation\": \"dokumentacja rda API\",\n  },\n\n  Language: {\n    ...common,\n  },\n\n  Help: {\n    ...common,\n  },\n\n  WidgetsList: {\n    ...common,\n  },\n\n  MenuAddWidget: {\n    ...common,\n    \"Map\": \"Mapa\",\n    \"Chart\": \"Wykres\",\n    \"Add a graph\": \"Dodaj wykres\",\n    \"add\": \"dodaj\",\n  },\n\n  PlayPause: {\n    ...common,\n    \"Toggle play status\": \"Przecz status\",\n    \"play\": \"play\",\n    \"pause\": \"pause\",\n  },\n\n  Widget: {\n    ...common,\n    \"remove\": \"usu\",\n    \"Remove\": \"Usu\",\n    \"Remove?\": \"Usun?\",\n    \"Confirm removal\": \"Potwierd usunicie\",\n    \"View\": \"Widok\",\n    \"Edit\": \"Edycja\",\n    \"Legend\": \"Legenda\",\n    \"Edit map parameters\": \"Edytuj parametry mapy\",\n    \"Edit chart parameters\": \"Edytuj parametry wykresu\",\n    \"Edit BCN parameters\": \"Edytuj parametry BCN\",\n  },\n\n  'Widget/Map/Edit': {\n    \"Type\": \"Typ\",\n    \"Select the regions type to show\": \"Wybierz regiony do pokazania\",\n    \"Values\": \"Warto\",\n    \"Select the data origin\": \"Wybierz rdo\",\n  },\n\n  'Widget/Chart/Edit': {\n    ...chartEdit,\n    \"Division\": \"Podzia administracyjny\",\n    \"Select the division type to show\": \"Wybierz podzia administracyjny\",\n    \"Population\": \"Populacja\",\n    \"Select the population\": \"Wybierz populacj\",\n    \"Extensi\": \"Extensi\",\n    \"Risc iEPG\": \"Risc iEPG\",\n    \"Region\": \"Region\",\n    \"Select the region\": \"Wybierz region\",\n  },\n\n  'Widget/Bcn/Edit': {\n    ...chartEdit,\n  },\n\n}\n","const common = {\n    \"Covid Data - Refactored\": \"Covid informasjon - Refaktorert\",\n    \"Covid Data\": \"Covid Informasjon\",\n    \"Refactored\": \"Refaktorert\",\n    \"Close\": \"lukk\",\n    \"About\": \"Om...\",\n    \"Language\": \"Sprk\",\n    \"Help\": \"Hjelp\",\n    \"Yes\": \"Ja\",\n    \"No\": \"Nei\",\n    \"or\": \"eller\",\n};\n\nconst chartEdit = {\n  \"Dataset\": \"Datasett\",\n  \"Select the dataset\": \"Velg datasett\",\n};\n\nexport default {\n  locale: \"no\",\n  name: \"Norsk\",\n\n  App: {\n    ...common,\n  },\n\n  Copyright: {\n    ...common,\n    \"Source code of:\": \"Kildekoden til:\",\n  },\n\n  ErrorCatcher: {\n    ...common,\n    \"Something went wrong :(\": \"Noe gikk galt :(\",\n    \"Try reloading the app to recover from it\": \"Prv  starte appen p nytt for  gjenopprette fra det\",\n  },\n\n  Menu: {\n    ...common,\n    \"Menu\": \"Meny\",\n    \"Update!\": \"Oppdater!\",\n    \"New update available!\": \"Ny oppdatering tilgjengelig!\",\n  },\n\n  ModalRouter: {\n    ...common,\n  },\n\n  About: {\n    ...common,\n    \"This applications displays public information extracted from the official web\": \"Denne applikasjonen viser offentlig informasjon hentet ut fra det offesielle nett\",\n    \"The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.\": \"Mlet med denne applikasjonen er  vise infromasjon p ulike mter enn den originale, forbedre ytelse og legger merverdi til den.\",\n    \"Want more information?\": \"Vil du ha mer informasjon?\",\n    \"The source code is publicly available.\": \"Kildekoden er offentlig tilgjengelig.\",\n    \"There, you can find more information about how it has been done, licence and credits.\": \"Der kan du finne mer infromasjon om hvordan det har blitt gjordt, lisens og There, you can find more information og kreditter.\",\n    \"Found a bug? Have a petition? Want to help somehow?\": \"Fant en feil? Har en begjring? Lyst til  hjelpe?\",\n    \"Create an issue at GitHub.\": \"Opprett en sak p GitHub.\",\n    \"Licenses\": \"Lisenser\",\n    \"The application, scripts and documentation in\": \"Applikasjonen, skripts og dokumentasjon i\",\n    \"this project\": \"dette prosjektet\",\n    \"are released under the\": \"er utgitt under\",\n    \"The scripts and documentation published in\": \"Skriptene og dokumentasjonen publisert i\",\n    \"are also released under the\": \"er ogs utgitt under\",\n    \"The data scrapped and published in\": \"Informasjonen som er skrapet og publisert i\",\n    \"is licensed by their owner, the\": \"er lisensert av eieren\",\n    \", under their own conditions (\": \", under deres egne forhold (\",\n    \", until now).\": \", inntil videre).\",\n    \"See more at the\": \"Se more p\",\n    \"dataset API documentation\": \"dataset API dokumentasjonen\",\n  },\n\n  Language :{\n    ...common,\n  },\n\n  Help: {\n    ...common,\n  },\n\n  WidgetsList: {\n    ...common,\n  },\n\n  MenuAddWidget: {\n    ...common,\n    \"Map\": \"Kart\",\n    \"Chart\": \"Diagram\",\n    \"Add a graph\": \"Legg til en graf\",\n    \"add\": \"legg til\",\n  },\n\n  PlayPause: {\n    ...common,\n    \"Toggle play status\": \"Endre spill status\",\n    \"play\": \"spill\",\n    \"pause\": \"pause\",\n  },\n\n  Widget: {\n    ...common,\n    \"remove\": \"fjern\",\n    \"Remove\": \"Fjern\",\n    \"Remove?\": \"Fjern?\",\n    \"Confirm removal\": \"Bekreft fjerning\",\n    \"View\": \"Vis\",\n    \"Edit\": \"Rediger\",\n    \"Legend\": \"Legende\",\n    \"Edit map parameters\": \"Rediger kart parametere\",\n    \"Edit chart parameters\": \"Rediger graf parametere\",\n    \"Edit BCN parameters\": \"Rediger BCN parametere\",\n  },\n\n  'Widget/Map/Edit': {\n    \"Type\": \"Type\",\n    \"Select the regions type to show\": \"Velg regionene bdu nsker  vise\",\n    \"Values\": \"Verdier\",\n    \"Select the data origin\": \"Velg datakilde\",\n  },\n\n  'Widget/Chart/Edit': {\n    ...chartEdit,\n    \"Division\": \"Divisjon\",\n    \"Select the division type to show\": \"Velg divisjonstype  vise\",\n    \"Population\": \"Populasjon\",\n    \"Select the population\": \"Velg populasjon\",\n    \"Extensi\": \"Extensi\",\n    \"Risc iEPG\": \"Risc iEPG\",\n    \"Region\": \"Region\",\n    \"Select the region\": \"Velg region\",\n  },\n\n  'Widget/Bcn/Edit': {\n    ...chartEdit,\n  },\n\n}\n","import ca_es from \"./ca-es.lang.js\";\nimport es_es from \"./es-es.lang.js\";\nimport en_en from \"./en-en.lang.js\";\nimport pl_pl from \"./pl-pl.lang.js\";\nimport nb_no from \"./nb-no.lang.js\";\n\n// Exports each language with more locale codes\nexport default [\n  { key: \"en\", label: en_en.name, value: en_en },\n  { key: \"en-en\", label: en_en.name, value: en_en },\n  { key: \"en-us\", label: en_en.name, value: en_en },\n  { key: \"en-au\", label: en_en.name, value: en_en },\n  { key: \"ca\", label: ca_es.name, value: ca_es },\n  { key: \"ca-es\", label: ca_es.name, value: ca_es },\n  { key: \"es\", label: es_es.name, value: es_es },\n  { key: \"es-es\", label: es_es.name, value: es_es },\n  { key: \"pl\", label: pl_pl.name, value: pl_pl },\n  { key: \"pl-pl\", label: pl_pl.name, value: pl_pl },\n  { key: \"nb-no\", label: nb_no.name, value: nb_no },\n];\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\n\nimport { translate } from 'react-translate'\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Tooltip from '@material-ui/core/Tooltip';\n/*\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport PeopleIcon from '@material-ui/icons/People';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport LayersIcon from '@material-ui/icons/Layers';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\n*/\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faInfoCircle as faAbout, faLanguage } from '@fortawesome/free-solid-svg-icons'\n\nconst ListItemLink = (props) => {\n  const { icon, primary, to } = props;\n\n  const renderLink = React.useMemo(\n    () => React.forwardRef((itemProps, ref) => <RouterLink to={to} ref={ref} {...itemProps} />),\n    [to],\n  );\n\n  return (\n    <li>\n      <ListItem button component={renderLink}>\n        {icon ? (\n          <Tooltip title={ primary }>\n            <ListItemIcon>{icon}</ListItemIcon>\n          </Tooltip>\n        ) : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nListItemLink.propTypes = {\n  icon: PropTypes.element,\n  primary: PropTypes.string.isRequired,\n  to: PropTypes.string.isRequired,\n};\n\nconst MainMenuItems = translate('Menu')((props) => {\n  const { t } = props;\n  return (\n    <div>\n      {/* <ListItemLink to=\"/\" primary={ \"Dashboard\" } icon={ <DashboardIcon /> } /> */}\n      <ListItemLink to=\"#about\" primary={ t(\"About\") } icon={ <FontAwesomeIcon style={{ fontSize: '1.5rem' }} icon={ faAbout } /> } />\n      <ListItemLink to=\"#language\" primary={ t(\"Language\") } icon={ <FontAwesomeIcon style={{ fontSize: '1.5rem' }} icon={ faLanguage } /> } />\n    </div>\n  )\n});\n\nconst SecondaryMenuItems = (props) => {\n  return (\n    <div>\n      {/* <ListSubheader inset>Saved reports</ListSubheader> */}\n    </div>\n  )\n}\n\nexport { MainMenuItems, SecondaryMenuItems, ListItemLink };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport Storage from 'react-simple-storage';\nimport { TranslatorProvider, useTranslate } from 'react-translate';\nimport { Helmet, HelmetProvider } from 'react-helmet-async';\nimport available from './i18n/available';\n\nimport ErrorCatcher from './ErrorCatcher';\nimport Dashboard from './Dashboard';\nimport { WidgetsList } from './Widget';\n\n// App Helmet: Controls HTML <head> elements with SideEffect\n// - Set a default title and title template, translated\nconst AppHelmet = (props) => {\n  const t = useTranslate(\"App\");\n  const title = t(\"Covid Data - Refactored\");\n  return (\n    <Helmet\n      titleTemplate={ `%s | ${ title }` }\n      defaultTitle={ title }\n    >\n      <html lang={ props.language } />\n    </Helmet>\n  );\n}\n\n// Concentrate all providers (4) used in the app into a single component\nconst AppProviders = (props) => {\n  return (\n    <TranslatorProvider translations={ props.translations }>\n      <HelmetProvider>\n        <AppHelmet language={ props.language } />\n        <Router>\n          <div className='App' id='router-container'>\n            { props.children }\n          </div>\n        </Router>\n      </HelmetProvider>\n    </TranslatorProvider>\n  );\n}\n\nclass App extends React.Component {\n\n  constructor() {\n    super();\n\n    // Fix bad browser encoding HASH\n    const decoded = decodeURIComponent(global.location.hash);\n    if ( decoded !==  '' && decoded !== global.location.hash ) {\n      const hash = decoded.replace(/[^#]*(#.*)$/, '$1');\n      global.location.replace(hash);\n    }\n\n    this.registration = false;\n    const languageNav = navigator.language.toLowerCase();\n    this.state = {\n      initializing: true,\n      newServiceWorkerDetected: false,\n      language: available.find(language => language.key === languageNav) ? languageNav : 'ca-es',\n      theme: false, // Use defined by user in browser\n      tutorialSeen: false,\n    };\n  }\n\n  componentDidMount() {\n    // Receive message from index.js when a new service worker has been detected\n    document.addEventListener('onNewServiceWorker', this.handleNewServiceWorker);\n  }\n\n  componentWillUnmount() {\n    // Remove event listener\n    document.removeEventListener('onNewServiceWorker', this.handleNewServiceWorker);\n  }\n\n  // When new serviceWorker is accepted, save the registration object\n  // and change own state, which will be passed to Dashboard to let the user upgrade\n  handleNewServiceWorker = (event) => {\n    this.registration = event.detail.registration;\n    this.setState({\n      newServiceWorkerDetected: true,\n    });\n  }\n\n  // Once the user accepts to update, call index.js callback\n  handleLoadNewServiceWorkerAccept = () => this.props.onLoadNewServiceWorkerAccept(this.registration);\n\n  // Handle global configuration options\n  handleLanguageChange = (language) => this.setState({ language });\n  handleThemeChange = (theme) => this.setState({ theme });\n  handleTutorialSeenChange = (tutorialSeen) => this.setState({ tutorialSeen });\n\n  render() {\n    const { newServiceWorkerDetected, language, theme, tutorialSeen } = this.state;\n    const translations = available.find(_language => _language.key === language).value;\n\n    return (\n      <AppProviders { ...{\n          translations,\n          language,\n        }}\n      >\n\n        {/* Persistent state saver into localStorage */}\n        <Storage\n          parent={ this }\n          prefix='App'\n          blacklist={ ['newServiceWorkerDetected','initializing'] }\n          onParentStateHydrated={ () => this.setState({ initializing: false }) }\n        />\n\n        {/* Shows the app, with ErrorBoundaries */}\n        <ErrorCatcher origin='Dashboard'>\n          <Dashboard\n            // Handle App update acceptance by user\n            newServiceWorkerDetected={ newServiceWorkerDetected }\n            onLoadNewServiceWorkerAccept={ this.handleLoadNewServiceWorkerAccept }\n            // Use language and handle its change\n            language={ language }\n            onLanguageChange={ this.handleLanguageChange }\n            // Use theme and handle its change\n            theme={ theme }\n            onThemeChange={ this.handleThemeChange }\n            // Force tutorial?\n            tutorialSeen={ tutorialSeen }\n            onTutorialSeen={ this.handleTutorialSeenChange }\n          >\n            <ErrorCatcher origin='WidgetsList'>\n              <WidgetsList />\n            </ErrorCatcher>\n          </Dashboard>\n        </ErrorCatcher>\n\n      </AppProviders>\n    );\n  }\n}\n\nApp.propTypes = {\n  onLoadNewServiceWorkerAccept: PropTypes.func.isRequired,\n};\n\nexport default App;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { translate } from 'react-translate'\n\nimport clsx from 'clsx';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport List from '@material-ui/core/List';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faArrowAltCircleUp as faUpgrade } from '@fortawesome/free-solid-svg-icons'\n\nimport { MainMenuItems, SecondaryMenuItems } from './MenuItems';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  updateItem: {\n    color: 'green',\n  },\n}));\n\nconst MenuContent = translate('Menu')((props) => {\n  const classes = useStyles();\n  const { t } = props;\n  return (\n    <>\n      <div className={ classes.toolbarIcon }>\n        <IconButton\n          edge=\"start\"\n          color=\"inherit\"\n          aria-label={ t(\"close menu\") }\n          onClick={ props.handleDrawerClose }\n        >\n          <MenuIcon />\n        </IconButton>\n        <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={ classes.title }>\n          { t(\"Menu\") }\n        </Typography>\n        <IconButton\n          aria-label={ t(\"close menu\") }\n          onClick={ props.handleDrawerClose }\n        >\n          <ChevronLeftIcon />\n        </IconButton>\n      </div>\n      <Divider />\n      <List><MainMenuItems /></List>\n      <Divider />\n      <List><SecondaryMenuItems /></List>\n    </>\n  )\n});\n\n// Renders the menu, responsive\nconst Menu = translate('Menu')((props) => {\n  const classes = useStyles();\n  const { handleDrawerOpen, handleDrawerClose, open, newServiceWorkerDetected, t } = props;\n  const theme = useTheme();\n  const isBig = useMediaQuery(theme.breakpoints.up('md'));\n  const DrawerComponent = isBig ? Drawer : SwipeableDrawer;\n  const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n\n  const toggleDrawer = (open) => (event) => {\n    if (event && event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    if (open) {\n      handleDrawerOpen();\n    }\n    else {\n      handleDrawerClose();\n    }\n  };\n  \n  const handleClickUpdate = (e) => {\n    e.preventDefault();\n    handleDrawerClose();\n    props.onLoadNewServiceWorkerAccept();\n  };\n\n  return (\n    <DrawerComponent\n      { ...(isBig ? {\n          variant: \"permanent\"\n        } : {\n          anchor: 'left',\n          onClose: toggleDrawer(false),\n          onOpen: toggleDrawer(true),\n          disableBackdropTransition: !iOS,\n          disableDiscovery: iOS,\n        }) }\n      classes={{\n        paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n      }}\n      open={ open }\n    >\n      <MenuContent handleDrawerClose={ handleDrawerClose } />\n      { newServiceWorkerDetected ? (\n          <ListItem\n            button\n            onClick={ handleClickUpdate }\n            className={ classes.updateItem }\n          >\n            <Tooltip title={ t(\"Update!\") }>\n              <ListItemIcon><FontAwesomeIcon icon={ faUpgrade } style={{ fontSize: '1.5rem', color: 'green' }} /></ListItemIcon>\n            </Tooltip>\n            <ListItemText primary={ t(\"Update!\") } />\n          </ListItem>\n        ) : null\n      }\n    </DrawerComponent>\n  )\n});\n\nMenu.propTypes = {\n  onLoadNewServiceWorkerAccept: PropTypes.func.isRequired,\n};\n\nexport default Menu;\n","import React from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\n\nimport { translate } from 'react-translate'\n\nclass CloseModal extends React.PureComponent {\n  constructor(props) {\n    super();\n\n    if ( !('history' in props) ||\n         props.history.location.hash !== '' ) {\n      global.setTimeout( () => props.history.push('#'), 10);\n    }\n  }\n\n  render() {\n    return null;\n  }\n};\n\nclass ModalRouterInner extends React.PureComponent {\n\n  constructor(props) {\n    super();\n\n    // Set initial state\n    this.history = props.history;\n    this.state = {\n      ...this.getPathState(props.location),\n      autoForce: false,\n      forced: props.force,\n    };\n  }\n\n  getPathState(location) {\n    const path = location.hash.replace(/[^#]*#(.*)$/, '$1');\n    return {\n      modalIsOpen: !!path.length && path !== 'close',\n      path,\n      initialPath: this.state ? this.state.initialPath : path,\n    };\n  }\n\n  componentDidMount() {\n    // Register history change event listener\n    this.unlisten = this.history.listen(this.handleHistoryChange);\n  }\n\n  componentWillUnmount() {\n    // Unregister history change event listener\n    this.unlisten();\n    if ( this.timer ) {\n      global.clearTimeout( this.timer );\n    }\n  }\n\n  // Force user to different URLs\n  componentDidUpdate(prevProps, prevState) {\n\n    // Remember old URL when forcing\n    if ( this.props.force !== false &&\n         this.props.force !== prevProps.force &&\n         this.state.forced !== this.props.force ) {\n      this.setState({ forced: this.props.force });\n    }\n\n    // Clear autoForce after it has been forced\n    if ( this.state.autoForce === this.state.path ) {\n      this.setState({ autoForce: false });\n    }\n\n    // Force old modal after forcing another (do auto force)\n    if ( prevState.path === this.state.forced &&\n         prevState.path !== this.state.path &&\n         this.state.initialPath !== false &&\n         this.state.initialPath.length > 1 &&\n         this.state.autoForce !== this.state.initialPath ) {\n      this.setState({ autoForce: this.state.initialPath });\n    }\n  }\n\n  openModal = () => this.setState({ modalIsOpen: true });\n\n  closeModal = (propsClose={}) => {\n    if ( !('history' in propsClose) ||\n         propsClose.history.location.path !== '' ) {\n\n      if(!this.timer) {\n        this.timer = global.setTimeout( () => {\n          this.history.push('#');\n          this.timer = undefined;\n        }, 10);\n      }\n    }\n  }\n\n  handleHistoryChange = (location, action) => {\n    const state = this.getPathState(location);\n    this.setState(state);\n  }\n\n  render() {\n    const { children, initializing, force, fullScreen, t } = this.props;\n    const { autoForce, path, forced } = this.state;\n\n    if ( initializing ) {\n      return null;\n    }\n\n    // Redirect to forced URL\n    if ( force !== false && force !== path ) {\n      return <Redirect push to={{ hash: force }} />;\n    }\n\n    // If previously have been forced when showing a modal,\n    // force to go back there once the forced has been visited\n    if (  autoForce !== false &&\n          autoForce !== path &&\n          forced !== path ) {\n      return <Redirect push to={{ hash: autoForce }} />;\n    }\n\n    return (\n      <Dialog\n        open={ this.state.modalIsOpen }\n        onClose={ this.closeModal }\n        /* Be fullsreen on `sm` sreens */\n        fullScreen={ fullScreen }\n        aria-labelledby={ 'modal_heading' }\n        aria-describedby={ 'modal_description' }\n      >\n        <DialogContent>\n          <Switch location={ { pathname: path } } >\n          \n            { children }\n          \n            {/* Close modal if nothing is shown */}\n            <Route render={ props => <CloseModal { ...props } /> } />\n          </Switch>\n        </DialogContent>\n        <DialogActions>\n          <Button autoFocus onClick={ this.closeModal } color=\"primary\">\n            { t(\"Close\") }\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\n// Get fullScreen prop using MediaQuery\nconst withFullScreen = (Component) => {\n  return (props) => {\n    const theme = useTheme();\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n    return <Component { ...props } fullScreen={ fullScreen } />\n  }\n};\n\nconst ModalRouterInnerWithClasses = withFullScreen( ModalRouterInner );\n\nclass ModalRouter extends React.PureComponent {\n  render() {\n    const { children, ...rest } = this.props;\n    return (\n      <Route\n        path=':path(.*)'\n        render={ props => <ModalRouterInnerWithClasses { ...{ children, ...rest, ...props } } /> }\n      />\n    );\n  }\n}\n\nexport default translate('ModalRouter')(ModalRouter);\n","module.exports = __webpack_public_path__ + \"static/media/loading.73ea1e4a.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\n\nimport { translate } from 'react-translate'\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\n\nimport Draggable from 'react-draggable';\n\nimport WidgetMenu from './Menu';\n\nclass DraggableResponsiveDialogUntranslated extends React.PureComponent {\n\n  /*\n     Handle dialog open/close status\n  */\n  state = {\n    open: false\n  };\n\n  // Set open status to the selected menu code\n  handleClickOpen = (open) => {\n    this.setState({ open });\n  }\n\n  handleClose = () => {\n    this.setState({ open: false });\n  }\n\n  render() {\n    const { open } = this.state;\n    const { id } = this.props;\n    // Get `restProps` to child renders\n    const { sections, fullScreen, t, ...restProps } = this.props;\n    // Get shortcut to content & title render functions\n    const Content = open ? sections[open].render : () => {};\n    const Title = open ? sections[open].title : () => {};\n    return (\n      <div>\n        <WidgetMenu\n          options={ sections }\n          id={ id }\n          onClick={ this.handleClickOpen }\n          { ...restProps }\n        />\n        {/* If open is not null, render the related dialog (opened) */}\n        { open ? (\n            <Dialog\n              key={ open }\n              open={ true }\n              onClose={ this.handleClose }\n              /* Allow dragging the dialog on non-small screens */\n              { ...( fullScreen ? {} : {TransitionComponent: Draggable} ) }\n              /* Be fullsreen on `sm` sreens */\n              fullScreen={ fullScreen }\n              aria-labelledby={ `draggable-dialog-title-${id}-${open}` }\n            >\n              <DialogTitle style={{ cursor: 'move' }} id={ `draggable-dialog-title-${id}-${open}` }>\n                <Title { ...restProps } t={ t } />\n              </DialogTitle>\n              <DialogContent>\n                <Content { ...restProps } t={ t } />\n              </DialogContent>\n              <DialogActions>\n                <Button autoFocus onClick={ this.handleClose } color=\"primary\">\n                  { t(\"Close\") }\n                </Button>\n              </DialogActions>\n            </Dialog>\n          ) : null\n        }\n      </div>\n    )\n  }\n}\n\nconst DraggableResponsiveDialog = translate('Widget')(DraggableResponsiveDialogUntranslated);\n\n// Get fullScreen prop using MediaQuery\nconst withFullScreen = (Component) => {\n  return (props) => {\n    const theme = useTheme();\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n    return <Component { ...props } fullScreen={ fullScreen } />\n  }\n};\n\nexport default withFullScreen(DraggableResponsiveDialog);\n","import React from 'react';\n\nimport { translate } from 'react-translate'\n\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEllipsisV } from '@fortawesome/free-solid-svg-icons'\n\n// Renders an item into the widget's popup actions menu\n// Ensures click event uses widget id\nconst WidgetMenuItem = React.forwardRef((props, ref) => {\n  const { onClick, option, icon, label} = props;\n  const handleClick = () => onClick(option);\n  return (\n    <MenuItem\n      key={ option }\n      onClick={ handleClick }\n      ref={ ref }\n    >\n      <ListItemIcon>\n        { icon }\n      </ListItemIcon>\n      <ListItemText primary={ label || option } />\n    </MenuItem>\n  )\n});\n\n\n// Renders the widget's popup actions menu\nconst WidgetMenu = (props) => {\n  const { onClick, options, id, ...restProps } = props;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  // Sets the element where the popup menu will open next to\n  const handleClickOpen = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n\n  // When an element is clicked, close menu and call parent's onClick\n  const handleClickElement = (value) => {\n    handleClose();\n    onClick(value);\n  };\n\n  // Render the open icon button and, if in open\n  // state, the menu with all elements but `view`\n  return (\n    <div>\n      <IconButton\n        aria-label=\"widget actions\"\n        aria-controls={ `widget-menu-${ id }` }\n        aria-haspopup=\"true\"\n        onClick={ handleClickOpen }\n      >\n        <FontAwesomeIcon icon={ faEllipsisV } />\n      </IconButton>\n      { anchorEl ? (\n          <Menu\n            id={ `widget-menu-${ id }` }\n            anchorEl={ anchorEl }\n            keepMounted\n            open={ open }\n            onClose={ handleClose }\n            PaperProps={{\n              style: {\n                width: '20ch',\n              },\n            }}\n          >\n            { Object.keys(options)\n              .filter( option => option !== 'view' )\n              .map( option => (\n                <WidgetMenuItem\n                  key={ option }\n                  option={ option }\n                  onClick={ handleClickElement }\n                  icon={ options[option].icon }\n                  label={ typeof options[option].label === \"function\" ? options[option].label(restProps) : options[option].label }\n                />\n              ))\n            }\n          </Menu>\n        ) : null\n      }\n    </div>\n  );\n}\n\nexport default translate('Widget')(WidgetMenu);\n","import React from 'react';\n\nimport { translate } from 'react-translate'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\n\nimport Button from '@material-ui/core/Button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTrash } from '@fortawesome/free-solid-svg-icons'\n\nimport WidgetActions from './Actions';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100%',\n  },\n}));\n\n// HOC to create widgets easily\nconst withWidget = (sectionsOrig) => {\n\n  // Add always available `Remove` action\n  const sections = {\n    ...sectionsOrig,\n    remove: {\n      icon: <FontAwesomeIcon icon={ faTrash } />,\n      label: ({ t }) => t(\"Remove\"),\n      title: ({ t }) => t(\"Remove?\"),\n      render: ({ id, onRemove, t }) => {\n        const handleRemove = () => onRemove(id);\n        return (\n          <Button\n            startIcon={ <FontAwesomeIcon icon={ faTrash } /> }\n            onClick={ handleRemove }\n            variant=\"contained\"\n            color=\"primary\"\n            aria-label={ t(\"remove\") }\n          >\n            { t(\"Confirm removal\") }\n          </Button>\n        )\n      },\n    },\n  };\n\n  // Get a shortcut to view's render function\n  const View = sections.view.render;\n\n  // Renders the view with a header containing the title and the menu with the rest of sections\n  const Widget = (props) => {\n    const classes = useStyles();\n    // Prevent trigger actions components update when changing the day\n    const { indexValues, ...restProps } = props;\n    const action = <WidgetActions { ...restProps } sections={ sections } />;\n\n    return (\n      <Card className={classes.root}>\n        <CardHeader\n          action={ action }\n          title={ sections.view.title(props)||props.name }\n          subheader={ props.subtitle }\n        />\n        <CardContent>\n          <View { ...props } />\n        </CardContent>\n      </Card>\n    )\n  };\n\n  return translate('Widget')(Widget);\n};\n\nexport default withWidget;\n","import React from 'react';\n\nconst WidgetDataContext = React.createContext(() => {});\n\nexport default WidgetDataContext;\n","import React from 'react';\n\nimport WidgetDataContext from './DataContext';\n\n/*\n   Proxies data from this context into Component props\n*/\nconst withPropHandler = (Component, defaults) => {\n  class WithPropHandler extends React.Component {\n    \n    dataHandler = data => {\n      const { forwardedRef, ...props } = this.props;\n      const { onChangeData = () => {}, ...restData } = data;\n      const allData = Object.assign({}, defaults, restData, props);\n\n      return (\n        <Component\n          ref={ forwardedRef }\n          /* Save and get data to/from specific id */\n          onChangeData={ onChangeData }\n          { ...allData }\n        />\n      )\n    }\n\n    render() {\n      return (\n        <WidgetDataContext.Consumer>\n          { this.dataHandler }\n        </WidgetDataContext.Consumer>\n      )\n    }\n  }\n\n  // Return wrapper respecting ref\n  const forwarded = React.forwardRef( (props, ref) => {\n    return <WithPropHandler { ...props } forwardedRef={ ref } />\n  });\n\n  forwarded.propTypes = Component.propTypes;\n  forwarded.defaultProps = Component.defaultProps;\n\n  return forwarded;\n}\n\nexport default withPropHandler;\n","import React from 'react';\nimport loading from './loading.svg';\n\nconst Loading = (props) => {\n  const { style = {}, restProps } = props;\n\n  return (\n    <img\n      alt=\"Loading...\"\n      src={ loading }\n      style={{\n        width: '80%',\n        margin: 'auto',\n        display: 'block',\n        ...style\n      }}\n      { ...restProps }\n    />\n  )\n}\n\nexport default Loading;\n","import React from 'react';\nimport { PropTypes } from 'prop-types';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Storage from 'react-simple-storage';\n\nimport Loading from '../Loading';\n\nimport WidgetDataContext from './DataContext';\nimport withPropHandler from './withPropHandler';\n\n/*\n   Context provider using localStorage as data source for Widgets params\n*/\nclass LocalStorageProvider extends React.Component {\n\n  state = {\n    initializing: true,\n    data: {}\n  }\n\n  onChangeData = (data) => {\n    this.setState({ data });\n  }\n\n  stopInitializing = () => {\n    this.setState({ initializing: false });\n  }\n\n  render() {\n    const { children, ...props } = this.props;\n    const { initializing, data } = this.state;\n\n    return (\n      <>\n        {/* Persistent state saver into localStorage, only on window close */}\n        <Storage\n          parent={ this }\n          prefix='LocalStorageProvider'\n          blacklist={['initializing']}\n          onParentStateHydrated={ this.stopInitializing  }\n        />\n\n        { initializing ? <Loading /> : (\n            <WidgetDataContext.Provider value={{\n              onChangeData: this.onChangeData,\n              ...props,\n              data,\n            }}>\n              { children }\n            </WidgetDataContext.Provider>\n          )\n        }\n      </>\n    )\n  }\n}\n\n/*\n   Context provider using React Route as data source for Widgets params\n*/\nclass RouterProvider extends React.Component {\n\n  // History change listener\n  unlisten = () => {};\n\n  constructor(props) {\n    super(props);\n    this.history = props.history;\n  }\n\n  historyPush = (data, replace=false) => {\n    const newPath = this.props.paramsToString(data);\n\n    // Only PUSH or REPLACE if something have to change\n    if ( this.history.location.pathname !== newPath ) {\n      if ( !replace ) {\n        this.history.push(newPath + this.history.location.hash);\n      }\n      else {\n        this.history.replace(newPath + this.history.location.hash);\n      }\n    }\n  }\n\n  handleHistoryChange = (location, action) => {\n    // Do nothing when change is made by us\n    if( action !== 'POP' ) {\n      return;\n    }\n  }\n\n  componentDidMount = () => {\n    // Register history change event listener\n    this.unlisten = this.history.listen( this.handleHistoryChange );\n    // Check if data from localStorage is better\n    if ( !this.props.params.widgets.length &&\n          this.props.data.widgets &&\n          this.props.data.widgets.length ) {\n       this.historyPush(this.props.data, true);\n    }\n  }\n\n  componentWillUnmount = () => {\n    // Unregister history change event listener\n    this.unlisten();\n  }\n\n  // Save data into location\n  onChangeData = (data) => {\n    this.historyPush({ ...data }, true);\n    this.props.onChangeData({ ...data });\n  }\n\n  // Render the provider and the children\n  render() {\n    const {\n      children,\n      data,\n      params,\n      paramsFilter,\n      paramsToString,\n      history,\n      onChangeData,\n      ...props\n    } = this.props;\n\n    return (\n      <WidgetDataContext.Provider value={{\n        onChangeData: this.onChangeData,\n        ...props,\n        ...data,\n        ...params,\n      }}>\n        { children }\n      </WidgetDataContext.Provider>\n    )\n  }\n}\n\nRouterProvider.propTypes = {\n  // Receive data and onChangeData from localStorage\n  data: PropTypes.object.isRequired,\n  onChangeData: PropTypes.func.isRequired,\n  // Receive params and history from browser location/Router\n  params: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired,\n};\n\n// Proxy Route data into child props provider\nconst RouterSwitch = (props) => {\n  const { pathFilter, paramsFilter, paramsToString, ...restProps } = props;\n  return (\n    <Switch>\n      <Route\n        path={ pathFilter }\n        render={ propsRoute => {\n          const { match: { params }, history } = propsRoute;\n          const processedParams = paramsFilter(params);\n          return (\n            <RouterProvider\n              { ...{ paramsFilter, paramsToString, history } }\n              { ...restProps }\n              params={ processedParams }\n            />\n          )\n        }}\n      />\n    </Switch>\n  )\n}\n\n// Consume localStorage data provider\nconst RouterSwitchWithPropHandler = withPropHandler(\n  RouterSwitch,\n  { data: { widgets: {type: 'map'} } }\n);\n\n// Combine both providers\nconst ContextProvider = (props) => {\n  const { children, pathFilter, paramsFilter, paramsToString } = props;\n  return (\n    <LocalStorageProvider>\n      <RouterSwitchWithPropHandler { ...{ pathFilter, paramsFilter, paramsToString } } >\n        { children }\n      </RouterSwitchWithPropHandler>\n    </LocalStorageProvider>\n  )\n}\n\nexport default ContextProvider;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { translate } from 'react-translate'\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport Fab from \"@material-ui/core/Fab\";\nimport AddIcon from '@material-ui/icons/Add';\n\n// Renders an item into the widget's popup actions menu\n// Ensures click event uses widget id\nconst WidgetMenuItem = React.forwardRef((props, ref) => {\n  const { onClick, option, icon, label} = props;\n  const handleClick = () => onClick(option);\n  return (\n    <MenuItem\n      key={ option }\n      onClick={ handleClick }\n      ref={ ref }\n    >\n      <ListItemIcon>\n        { icon }\n      </ListItemIcon>\n      <ListItemText primary={ label || option } />\n    </MenuItem>\n  )\n});\n\nconst MenuAddWidget = React.memo((props) => {\n  const { t, onAdd, options } = props;\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  // Sets the element where the popup menu will open next to\n  const handleClickOpen = (event) => setAnchorEl(event.currentTarget);\n  const handleClose = () => setAnchorEl(null);\n\n  // When an element is clicked, close menu and call parent's onClick\n  const handleClickElement = (value) => {\n    handleClose();\n    onAdd(value);\n  };\n\n  return (\n    <div>\n      <Tooltip title={ t(\"Add a graph\") } aria-label={ t(\"add\") }>\n        <Fab\n          color=\"primary\"\n          aria-label={ t(\"add\") }\n          onClick={ handleClickOpen }\n          aria-haspopup=\"true\"\n        >\n          <AddIcon />\n        </Fab>\n      </Tooltip>\n      { anchorEl ? (\n          <Menu\n            id={ `widget-add-menu` }\n            anchorEl={ anchorEl }\n            keepMounted\n            open={ open }\n            onClose={ handleClose }\n            transformOrigin={{\n              vertical: 'center',\n              horizontal: 'right',\n            }}\n            PaperProps={{\n              style: {\n                width: '30ch',\n              },\n            }}\n          >\n            { options.map( option => (\n                <WidgetMenuItem\n                  key={ option.key }\n                  option={ option.key }\n                  onClick={ handleClickElement }\n                  icon={ option.icon }\n                  label={ t(option.name) }\n                />\n              ))\n            }\n          </Menu>\n        ) : null\n      }\n    </div>\n  )\n});\n\nMenuAddWidget.propTypes = {\n  onAdd: PropTypes.func.isRequired,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      icon: PropTypes.element.isRequired,\n      name: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default translate(\"MenuAddWidget\")(MenuAddWidget);\n","const noop = () => {};\n\nclass Common {\n\n  // Visible backend name\n  // Change when subclassing\n  name = \"Common\";\n\n  // Abort controller\n  // Used to stop pending fetches when user changes the date\n  controller = new AbortController();\n\n  constructor(props) {\n    this.onUpdate = props && props.onUpdate ? props.onUpdate : noop;\n    this.onError = props && props.onError ? props.onError : noop;\n  }\n\n  // Abort the abort controller and clean it up creating a new one for next fetches\n  // Add here all side-effects cancelling (fetches, timers, etc)\n  // Remember to call super() when subclassing\n  abort() {\n    this.controller.abort();\n    this.controller = new AbortController();\n  }\n\n  // Raises exception on response error\n  handleFetchErrors = (response) => {\n    // Raise succeeded non-ok responses\n    if ( !response.ok ) {\n      return new Error(`${this.name} backend: ${response.statusText}`);\n    }\n    return response;\n  }\n\n  // Catches fetch errors, original or 'self-raised', and throws to `onError` prop\n  // Filters out non-error \"Connection aborted\"\n  catchFetchErrors = (err) => {\n    if ( err.name === 'AbortError' ) {\n      console.log('Connection aborted', err);\n    }\n    else {\n      err.message = `${this.name} backend: ${err.message}`;\n      this.onError(err);\n    }\n  }\n}\n\nexport default Common;\n","// Transform a string into a smaller/hash one of it\nconst hashStr = str => {\n  if (str.length === 0) {\n    return 0;\n  }\n\n  return [...str]\n    .map( char => char.charCodeAt(0) )\n    .reduce( (hash, int) => {\n      const hashTmp = ((hash << 5) - hash) + int;\n      return hashTmp & hashTmp; // Convert to 32bit integer\n  }, 0)\n}\n\n// Handles an element inside the cache\nclass FetchCacheElement {\n  signal = null;\n  result = null;\n  lastModified = 0;\n  invalidated = false;\n  listeners = [];\n  url = '';\n\n  constructor(url) {\n    this.url = url;\n  }\n\n  // Raises exception on response error\n  handleFetchErrors = (response) => {\n    // Raise succeeded non-ok responses\n    if ( !response.ok ) {\n      throw new Error(`${response.statusText}`);\n    }\n\n    return response;\n  }\n\n  // Catches fetch errors, original or 'self-raised', and throws to `onError` prop\n  // Filters out non-error \"Connection aborted\"\n  catchFetchErrors = (err) => {\n    if (err.name === 'AbortError' ) {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`Connection aborted for ${this.url}`, err);\n      }\n    }\n    else {\n      err.message = `${this.url}: ${err.message}`;\n      this.onError(err);\n    }\n  }\n\n  // Removes all unneeded data related to a fetch\n  cleanFetch = () => this.signal = null;\n\n  // Handle a fetch error by calling all the listeners' onError in the queue\n  onError = (error) => {\n    this.listeners.forEach( listener => {\n      listener.onError(error);\n    });\n \n    this.cleanFetch();\n  };\n\n  // Registers a listener\n  addListener = (onSuccess, onError) => {\n    this.listeners.push({\n      onSuccess,\n      onError,\n    });\n\n    // If this is the first listener, launch the fetch\n    if (!this.signal &&\n        this.result === null ) {\n      this.fetch();\n    }\n\n    // If we already have the data and it has not been invalidated, create\n    // a self-resolving promise which executes the listener after resolution\n    if ( !this.invalidated &&\n         this.result !== null) {\n      (new Promise(\n        (resolve, reject) => resolve(this.result)\n      )).then( onSuccess );\n    }\n    \n    if (process.env.NODE_ENV === 'development') {\n      console.log(`Added listener to ${this.url}: ${this.listeners.length - 1}`);\n    }\n\n    return () => this.removeListener( onSuccess );\n  }\n\n  // Disables/unregisters a listener\n  removeListener = (onSuccess) => {\n\n    // Finds the listener by comparing the onSuccess function pointer\n    const found = this.listeners\n      .map( (listener, index) => ({ listener, index }))\n      .find( l => l.listener.onSuccess === onSuccess);\n\n    if ( found ) {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`Remove listener from ${this.url}: ${found.index}`);\n      }\n\n      // Remove element from array\n      this.listeners.splice(found.index, 1);\n    }\n    else {\n      console.warning(`Remove listener from ${this.url}: Listener not found`);\n    }\n\n    // If there is an ongoing fetch and there are no more listeners left, abort the fetch\n    if (this.signal &&\n        this.listeners.length === 0) {\n      this.signal.abort();\n      this.cleanFetch();\n    }\n  }\n\n  // Caches the data and calls all the listeners' onSuccess\n  processSuccessFetch = ({ result, lastModified }) => {\n    this.result = result;\n    this.lastModified = lastModified;\n    this.listeners\n      .forEach( listener => listener.onSuccess(this.result) );\n \n    this.cleanFetch();\n\n    // Allow re-chaining promises\n    return this.result;\n  }\n\n  // Gets a Date object from a fetch response `last-modified` HTTP header\n  getLastModifiedFromResponse = (response) => new Date(response.headers.get('last-modified'));\n\n  // Fetches a URL:\n  // - Transforms from JSON to JS object\n  // - Gets last modified date\n  // - Processes all listeners\n  // - Calls the callback\n  // - If there is an error, processes all error listeners\n  fetch = (callback = () => {}) => {\n    this.signal = new AbortController();\n    return fetch( this.url, { signal: this.signal.signal })\n      .then( this.handleFetchErrors )\n      .then( response => response.json().then( result => ({\n        result,\n        lastModified: this.getLastModifiedFromResponse(response)\n      }) ))\n      .then( this.processSuccessFetch )\n      .then( callback )\n      .catch( this.catchFetchErrors )\n  }\n\n  // Sends a HEAD request to download URL header's `last-modified` value and\n  // returns the comparison against saved value: `true` id new one is higher\n  checkIfNeedUpdate = (onSuccess, onError) => {\n    fetch( this.url, { method: 'HEAD' })\n      .then( this.handleFetchErrors )\n      .then( this.getLastModifiedFromResponse )\n      .then( date => date > this.lastModified /* || true */ ) // TEST TODO BUG DEBUG\n      .then( onSuccess )\n      .catch( onError )\n  }\n\n  // Invalidates the cache and recalls it's download if we have any listener\n  invalidate = () => {\n    return (new Promise(\n      (resolve, reject) => {\n        if ( this.result !== null ) {\n          this.invalidated = true;\n\n          // Are there listeners?\n          if ( this.listeners.length > 0 ) {\n            if (process.env.NODE_ENV === 'development') {\n              console.log(`${this.url}: Fetch it!`);\n            }\n            this.fetch(resolve);\n          }\n          else {\n            // Resolve without doing nothing\n            // Someone downloaded it, but unregistered from it: changed data source\n            if (process.env.NODE_ENV === 'development') {\n              console.log(`${this.url}: Someone downloaded it, but unregistered from it: changed data source`);\n            }\n            resolve();\n          }\n        }\n        else {\n          // Resolve without doing nothing\n          // It was never downloaded\n          if (process.env.NODE_ENV === 'development') {\n            console.log(`${this.url}: It was never downloaded`);\n          }\n          resolve();\n        }\n      }\n    ))\n  }\n}\n\n// Handles the whole cache\n// This is intended for a singleton aproach\nclass FetchCache {\n  /*\n     Cached data and fetch handlers:\n\n     data = {\n       [ hashStr(url) ]: new FetchCacheElement(url),\n       ...\n     }\n  */\n  data = {};\n\n  name = \"Cache manager\";\n\n  // Handles fetch requests:\n  // - Creates a new fetch if it's the first time for this URL\n  // - Adds fetch listener if there is an ongoing fetch for that URL\n  // - Returns the result if a fetch for that URL has already been cached\n  fetch = (url, onSuccess, onError = () => {}) => {\n    const id = hashStr(url);\n\n    // If we have not an ongoing request for this URL, create one\n    if ( !(id in this.data) ) {\n      this.data[id] = new FetchCacheElement( url );\n    }\n\n    return this.data[id].addListener(\n      onSuccess,\n      onError,\n    );\n  }\n\n  // Sends a HEAD request to download URL header's `last-modified` value and\n  // returns the comparison against saved value: `true` id new one is higher\n  checkIfNeedUpdate = (url, onSuccess, onError) => {\n    const id = hashStr(url);\n    this.data[id].checkIfNeedUpdate(onSuccess, onError);\n  }\n\n  // Invalidates a cache entry and recalls it's download if it has any listener\n  invalidate = (url) => {\n    const id = hashStr(url);\n    if ( !(id in this.data) ) {\n      return (new Promise(\n        (resolve, reject) => {\n          // Resolve without doing nothing\n          // It was never downloaded\n          if (process.env.NODE_ENV === 'development') {\n            console.log(`${url}: It was never downloaded`);\n          }\n          resolve();\n        }\n      ))\n    }\n    return this.data[id].invalidate();\n  }\n}\n\n// This is a singleton:\n// All clients re-use the same cache\nconst cache = new FetchCache();\nObject.freeze(cache);\n\nexport default cache;\n","import Common from './Common';\nimport cache from './Cache';\n\n// Handle data backend and cache for backends at GH Pages\n// This is not a singleton: unique error handlers\nclass GHPages extends Common {\n  // Visible backend name\n  name = \"GitHub Pages\";\n\n  // Used to update the data at official schedule\n  // Official schedule's at 10am. It often is some minutes later.\n  // GH Pages cache backend Workflow schedule is at 10:30 and lasts few minutes (less than 5).\n  // We schedule at 10:35\n  timerDataUpdate = false;\n  officialUpdateTime = \"10:35\".split(':');\n\n  indexUrl = '';\n\n  /*\n     Handle data update and cache invalidation\n  */\n\n  // Checks if `index` URL has updates\n  // If HEAD request succeeds, calls callback with bool (`true` if update is needed)\n  checkUpdate = (callback, onError = () => {}) => {\n    cache.checkIfNeedUpdate(\n      this.indexUrl,\n      updateNeeded => {\n        if (process.env.NODE_ENV === 'development') {\n          console.log(`${this.name}: update needed: ${updateNeeded}`);\n        }\n        callback(updateNeeded);\n      },\n      error => {\n        console.error(`${this.name}: updating data from backend:`, error);\n        onError(error);\n      }\n    );\n  }\n\n  // Invalidate all URLs, except index\n  invalidateAll = async () => {\n    console.warn(`${this.name}: Need to define abstract function 'invalidateAll'`);\n    //await cache.invalidate( this.indexUrl );\n  }\n\n  // Updates all sources, sequentially\n  updateAll = (callback) => {\n    (async (callback) => {\n\n      // Invalidate each active JSON first\n      await this.invalidateAll();\n\n      // Finally, invalidate the `index` JSON\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`${this.name}: Invalidate index`);\n      }\n\n      await cache.invalidate( this.indexUrl );\n\n      callback(true);\n    })(callback);\n  }\n\n  // Updates all sources if needed\n  // Always calls callback with a boolean argument indicating if an update was made\n  updateIfNeeded = (callback) => {\n    this.checkUpdate( (updateNeeded) => {\n      if (updateNeeded) {\n        this.updateAll(() => callback(true));\n      }\n      else {\n        callback(false);\n      }\n    });\n  }\n\n  // Cancels an ongoing timer for update\n  cancelUpdateSchedule = () => {\n    if ( this.timerDataUpdate ) {\n      clearTimeout( this.timerDataUpdate );\n    }\n  }\n\n  // Try to update data on next official scheduled data update\n  scheduleNextUpdate = (millis = false, recursive = false) => {\n    // If millis is not defined, call on next calculated default\n    const nextMillis = millis === false\n      ? this.millisToNextUpdate()\n      : millis;\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log(`${this.name}: Next update on ${new Date( (new Date()).getTime() + nextMillis )}`);\n    }\n\n    // If data has been updated and `recursive` is true, re-schedule data update for the next day\n    // Else (recursive || not recursive but data NOT updated), schedule data update in 5 minutes\n    // This way, we retry an update few minutes later, in case the schedule has lasted more than usual\n    this.cancelUpdateSchedule(); // Just in case\n    this.timerDataUpdate = setTimeout(\n      () => this.updateIfNeeded(\n        updated => recursive || !updated\n          ? this.scheduleNextUpdate( updated ? false : 300_000)\n          : false),\n      nextMillis\n    )\n  }\n\n  // Calculates haw many milliseconds until next schedulled update (today's or tomorrow)\n  // TODO: Take care of timezones: Official date is in CEST/GMT+0200 (with daylight saving modifications), Date uses user's timezone and returns UTC\n  //       Now, it only works if user timezone is CEST\n  //       Probably, the best would be to translate both dates into UTC and, only then, compare them\n  millisToNextUpdate = () => {\n    const now = new Date();\n    const todayDataSchedule = new Date(now.getFullYear(), now.getMonth(), now.getDate(), ...this.officialUpdateTime, 0, 0);\n    const millisTillSchedulle = todayDataSchedule - now;\n\n    return millisTillSchedulle <= 0\n      ? millisTillSchedulle + 86_400_000 // it's on or after today's schedule, try next schedule tomorrow.\n      : millisTillSchedulle\n  }\n}\n\nexport default GHPages;\n","/*\n   Static maps data (not updated each day)\n\n   Includes data sources, kinds and values lists and metadata\n*/\nconst MapStaticHost = process.env.REACT_APP_MAP_STATIC_HOST ?? \"https://emibcn.github.io/covid-data/Maps\";\n\nconst days              = `${MapStaticHost}/days.json`;\n\nconst MapaComarques     = `${MapStaticHost}/Comarca.svg`;\nconst MapaMunicipis     = `${MapStaticHost}/Municipi.svg`;\n\nconst comarcaEdat       = `${MapStaticHost}/MapData-Comarca-edat.json`;\nconst comarcaPcrpos     = `${MapStaticHost}/MapData-Comarca-pcrpos.json`;\nconst comarcaRisc       = `${MapStaticHost}/MapData-Comarca-risc.json`;\nconst comarcaRt         = `${MapStaticHost}/MapData-Comarca-rt.json`;\nconst comarcaTaxa_conf  = `${MapStaticHost}/MapData-Comarca-taxa_conf.json`;\nconst comarcaTaxapcr    = `${MapStaticHost}/MapData-Comarca-taxapcr.json`;\n\nconst municipiEdat      = `${MapStaticHost}/MapData-Municipi-edat.json`;\nconst municipiPcrpos    = `${MapStaticHost}/MapData-Municipi-pcrpos.json`;\nconst municipiRisc      = `${MapStaticHost}/MapData-Municipi-risc.json`;\nconst municipiRt        = `${MapStaticHost}/MapData-Municipi-rt.json`;\nconst municipiTaxa_conf = `${MapStaticHost}/MapData-Municipi-taxa_conf.json`;\nconst municipiTaxapcr   = `${MapStaticHost}/MapData-Municipi-taxapcr.json`;\n\nconst MapDataStatic = {\n  days,\n  metadata: {\n    risc: {\n      title: \"Risc de rebrot (iEPG) a poblaci general\",\n      label: \"Risc de rebrot (iEPG)\",\n      name: \"Risc de rebrot (iEPG)\",\n      colors: [\n        {\"color\": \"#88f\", \"nom\": \"Risc mxim - 6\", \"valor\": 1500},\n        {\"color\": \"#00f\", \"nom\": \"Risc mxim - 5\", \"valor\": 1200},\n        {\"color\": \"#00c\", \"nom\": \"Risc mxim - 4\", \"valor\": 900},\n        {\"color\": \"#008\", \"nom\": \"Risc mxim - 3\", \"valor\": 600},\n        {\"color\": \"#004\", \"nom\": \"Risc mxim - 2\", \"valor\": 400},\n        {\"color\": \"#400\", \"nom\": \"Risc mxim\", \"valor\": 210},\n        {\"color\": \"#800\", \"nom\": \"Risc extrem\", \"valor\": 190},\n        {\"color\": \"#c00\", \"nom\": \"Risc altssim\", \"valor\": 160},\n        {\"color\": \"#f00\", \"nom\": \"Risc molt alt\", \"valor\": 130},\n        {\"color\": \"#f40\", \"nom\": \"Risc alt\", \"valor\": 100},\n        {\"color\": \"#f80\", \"nom\": \"Risc mitj-alt\", \"valor\": 70},\n        {\"color\": \"#fc0\", \"nom\": \"Risc mitj\", \"valor\": 50},\n        {\"color\": \"#ff0\", \"nom\": \"Risc mitj-baix\", \"valor\": 30},\n        {\"color\": \"#cf0\", \"nom\": \"Risc baix\", \"valor\": 15},\n        {\"color\": \"#8f4\", \"nom\": \"Risc molt baix\", \"valor\": 5},\n        {\"color\": \"#4f8\", \"nom\": \"Risc no nul\", \"valor\": 1},\n        {\"color\": \"#0fc\", \"nom\": \"Risc mnim\", \"valor\": 0},\n      ],\n    },\n    taxa_conf: {\n      title: \"Taxa setmanal de casos confirmats PCR a tota la poblaci\",\n      label: \"Taxa confirmats per PCR\",\n      name: \"Taxa setmanal de casos confirmats PCR\",\n      colors: [\n        {\"color\": \"#a00\", \"nom\": \">=300\", \"valor\": 300},\n        {\"color\": \"#d00\", \"nom\": \">=200 i <300\", \"valor\": 200},\n        {\"color\": \"#f00\", \"nom\": \">=100 i <200\", \"valor\": 100},\n        {\"color\": \"#f80\", \"nom\": \">=75 i <100\", \"valor\": 75},\n        {\"color\": \"#fa0\", \"nom\": \">=50 i <75\", \"valor\": 50},\n        {\"color\": \"#fc0\", \"nom\": \">=25 i <50\", \"valor\": 25},\n        {\"color\": \"#0b0\", \"nom\": \">=15 i <25\", \"valor\": 15},\n        {\"color\": \"#090\", \"nom\": \"<15\", \"valor\": 0}\n      ],\n    },\n    rt: {\n      title: \"Velocitat de propagaci (Rt) a poblaci general\",\n      label: \"Rt\",\n      name: \"Velocitat de propagaci (Rt)\",\n      colors: [\n        {\"color\": \"#f00\", \"nom\": \">=2\", \"valor\": 2},\n        {\"color\": \"#f70\", \"nom\": \">=1.5 i <2\", \"valor\": 1.5},\n        {\"color\": \"#fa0\", \"nom\": \">=1.2 i <1.5\", \"valor\": 1.2},\n        {\"color\": \"#fc0\", \"nom\": \">1 i <1.2\", \"valor\": 1.00001},\n        {\"color\": \"#0a0\", \"nom\": \"<=1\", \"valor\": 0}\n      ],\n    },\n    edat: {\n      title: \"Mitjana d'edat dels casos confirmats per PCR a tota la poblaci\",\n      label: \"Mitjana edat\",\n      name: \"Mitjana d'edat dels casos confirmats per PCR\",\n      colors: [\n        {\"color\": \"#08519c\", \"nom\": \">=60\", \"valor\": 60},\n        {\"color\": \"#3182bd\", \"nom\": \">=50 i <60\", \"valor\": 50},\n        {\"color\": \"#6baed6\", \"nom\": \">=40 i <50\", \"valor\": 40},\n        {\"color\": \"#9ecae1\", \"nom\": \">=30 i <40\", \"valor\": 30},\n        {\"color\": \"#c6dbef\", \"nom\": \">=20 i <30\", \"valor\": 20},\n        {\"color\": \"#eff3ff\", \"nom\": \"< 20\", \"valor\": 0}\n      ],\n    },\n    pcrpos: {\n      title: \"Percentatge de PCR positives a tota la poblaci\",\n      label: \"% PCR +\",\n      name: \"Percentatge de PCR positives\",\n      colors: [\n        {\"color\": \"#a50026\", \"nom\": \">=40%\", \"valor\": 40},\n        {\"color\": \"#d73027\", \"nom\": \">=30% i <40%\", \"valor\": 30},\n        {\"color\": \"#f46d43\", \"nom\": \">=20% i <30%\", \"valor\": 20},\n        {\"color\": \"#fdae61\", \"nom\": \">=15% i <20%\", \"valor\": 15},\n        {\"color\": \"#fee08b\", \"nom\": \">=10% i <15%\", \"valor\": 10},\n        {\"color\": \"#ffffbf\", \"nom\": \">=8% i <10%\", \"valor\": 8},\n        {\"color\": \"#66bd63\", \"nom\": \">=5% i <8%\", \"valor\": 5},\n        {\"color\": \"#1a9850\", \"nom\": \">=3% i <5%\", \"valor\": 3},\n        {\"color\": \"#006837\", \"nom\": \"<3%\", \"valor\": 0}\n      ],\n    },\n    taxapcr: {\n      title: \"Taxa PCR per 100.000 habitants a tota la poblaci\",\n      label: \"Taxa PCR\",\n      name: \"Taxa PCR per 100.000 habitants\",\n      colors: [\n        {\"color\": \"#08306b\", \"nom\": \">=1000\", \"valor\": 1000},\n        {\"color\": \"#08519c\", \"nom\": \">=800 i <1000\", \"valor\": 800},\n        {\"color\": \"#2171b5\", \"nom\": \">=600 i <800\", \"valor\": 600},\n        {\"color\": \"#4292c6\", \"nom\": \">=500 i <600\", \"valor\": 500},\n        {\"color\": \"#6baed6\", \"nom\": \">=400 i <500\", \"valor\": 400},\n        {\"color\": \"#9ecae1\", \"nom\": \">=300 i <400\", \"valor\": 300},\n        {\"color\": \"#c6dbef\", \"nom\": \">=200 i <300\", \"valor\": 200},\n        {\"color\": \"#deebf7\", \"nom\": \">=100 i <200\", \"valor\": 100},\n        {\"color\": \"#f7fbff\", \"nom\": \"<100\", \"valor\": 0}\n      ],\n    },\n  },\n  kind: {\n    Comarca: {\n      svg: MapaComarques,\n      values: {\n        risc:      comarcaRisc,\n        taxa_conf: comarcaTaxa_conf,\n        rt:        comarcaRt,\n        edat:      comarcaEdat,\n        pcrpos:    comarcaPcrpos,\n        taxapcr:   comarcaTaxapcr\n      }\n    },\n    Municipi: {\n      svg: MapaMunicipis,\n      values: {\n        risc:      municipiRisc,\n        taxa_conf: municipiTaxa_conf,\n        rt:        municipiRt,\n        edat:      municipiEdat,\n        pcrpos:    municipiPcrpos,\n        taxapcr:   municipiTaxapcr\n      }\n    }\n  }\n};\n\nexport default MapDataStatic;\n","import GHPages from '../Base/GHPages';\nimport cache from '../Base/Cache';\n\nimport MapDataStatic from './MapDataStatic';\n\n// Handle data backend and cache for Maps\n// This is not a singleton: unique error handlers\nclass MapDataHandler extends GHPages {\n  // Visible backend name\n  name = \"Maps JSON Files\";\n  indexUrl = MapDataStatic.days;\n\n  // Used to update the data at official schedule\n  // Official schedule's at 10am. It often is some minutes later.\n  // GH Pages cache backend Workflow schedule is at 10:30 and lasts few minutes (less than 5).\n  // We schedule at 10:35\n  timerDataUpdate = false;\n  officialUpdateTime = \"10:35\".split(':');\n\n  // Invalidate all URLs, except index\n  invalidateAll = async () => {\n    // Invalidate each map JSON first\n    for(let kind of MapDataHandler.kinds()) {\n      for(let value of MapDataHandler.values(kind)) {\n        if (process.env.NODE_ENV === 'development') {\n          console.log(`Invalidate ${kind} - ${value}`);\n        }\n        await cache.invalidate( MapDataStatic.kind[kind].values[value] );\n      };\n    };\n  }\n\n  /*\n     Return static data\n  */\n  static kinds  = ()     => Object.keys(MapDataStatic.kind);\n  static values = (kind) => Object.keys(MapDataStatic.kind[kind].values);\n  static svg    = (kind) => MapDataStatic.kind[kind].svg;\n\n  static metadata = (values, meta) => MapDataStatic.metadata[values][meta];\n  static metaColors = (values) => MapDataHandler.metadata(values, 'colors');\n  static metaTitle  = (values) => MapDataHandler.metadata(values, 'title');\n  static metaLabel  = (values) => MapDataHandler.metadata(values, 'label');\n  static metaName   = (values) => MapDataHandler.metadata(values, 'name');\n\n  /*\n     Return dynamic data (with cache)\n  */\n  days = (callback) => cache.fetch( MapDataStatic.days, callback);\n  data = (kind, values, callback) => cache.fetch( MapDataStatic.kind[kind].values[values], callback);\n}\n\nexport default MapDataHandler;\n","/*\n   Renders a sqared box:\n   - bgColor: props.color\n   - width x height: theme.spacing(2x2)\n   - border: {...theme.shape, \"1px solid theme.palete.text.hint\" }\n   - marginRight: theme.spacing(1)\n*/\nimport { styled } from \"@material-ui/core/styles\";\nimport BoxMaterial from '@material-ui/core/Box';\n\nconst Box = styled(BoxMaterial)( ({theme, color}) => ({\n  width: theme.spacing(2),\n  height: theme.spacing(2),\n  marginRight: theme.spacing(1),\n  ...theme.shape,\n  borderWidth: 1,\n  borderStyle: 'solid',\n  borderColor: theme.palette.text.hint,\n  backgroundColor: color,\n}));\n\nexport default Box;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Box from './Box';\n\nconst LegendElement = ({value, color, ...rest}) => {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      alignItems=\"center\"\n      wrap=\"nowrap\"\n      { ...rest }\n    >\n      <Grid item><Box color={ color } /></Grid>\n      <Grid item>{ value }</Grid>\n    </Grid>\n  );\n};\n\nLegendElement.propTypes = {\n  value: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n};\n\nexport default LegendElement;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { styled } from \"@material-ui/core/styles\";\n\nimport { ReactSVG } from 'react-svg'\nimport ReactTooltip from \"react-tooltip\";\n\nimport Loading from '../../../Loading';\nimport LegendElement from '../Common/LegendElement';\n\nimport './Map.css';\n\n// Renders ReactTooltip with MaterialUI theme styles\nconst ReactTooltipStyled = styled(ReactTooltip)( ({theme}) => ({\n  backgroundColor: `${theme.palette.background.default} !important`,\n  color: `${theme.palette.text.primary} !important`,\n  opacity: '1 !important',\n  borderColor: `${theme.palette.text.hint} !important`,\n  ...theme.shape,\n  fontFamily: theme.typography.fontFamily,\n  fontSize: theme.typography.fontSize,\n  '&:before': {\n    borderTopColor: `${theme.palette.text.hint} !important`,\n  },\n  '&:after': {\n    borderTopColor: `${theme.palette.background.default} !important`,\n  }\n}));\n\n// Helper functions for ReactTooltip\nconst fallback=() => <span>Error!</span>; /* Should never happen */\nconst loading=() => <Loading />;\n\n/*\n   Renders an SVG map, allowing to change each region background color and tooltip\n   Optimized:\n    - Save index of map elements with their ID as index\n    - Don't update if only `indexValues` has changed, but trigger colors update\n      using indexed DOM elements\n\n   Some of the code here has been inspired in the original from https://dadescovid.org\n*/\nclass MapImage extends React.Component {\n\n  svg = null;\n  state = {\n    // Used to force update based on side effects\n    svgStatus: null,\n  };\n\n  // Save SVG DOM node reference\n  // This way we can access it's regions to modify them\n  wrapperNodeSVG = React.createRef();\n\n  // Get the SVG node itself\n  getSVG = () => this.wrapperNodeSVG.current.svgWrapper.querySelector(`svg`);\n\n  isSVGMounted = () => {\n    return this.wrapperNodeSVG &&\n      'current' in this.wrapperNodeSVG &&\n      this.wrapperNodeSVG.current &&\n      'svgWrapper' in this.wrapperNodeSVG.current &&\n      this.wrapperNodeSVG.current.svgWrapper &&\n      'querySelector' in this.wrapperNodeSVG.current.svgWrapper &&\n      this.getSVG();\n  }\n\n  // Gets the color for a given value (in func params) in a colors table (in props)\n  get_color_fons = (valor) => {\n    const color = this.props.colors\n      .find( c => valor >= c.valor);\n    return color ? color.color : 'fff'\n  }\n\n  // Sets the background color in a SVG region for a given value\n  setColorBackground = (value, id) => {\n    this.mapElements[id].style.fill = this.get_color_fons(value);\n  }\n\n  // Sets the background color for all regions in values prop\n  omplir_colors = (props) => {\n    const values = props.values[ props.indexValues ] || {};\n    const setColorBackground = id => this.setColorBackground(values[id], id);\n    Object.keys(values).forEach( setColorBackground );\n  }\n  \n  // Sets data into a map region to be used by the tooltip renderer)\n  setTooltipData = (element) => {\n    const dataFor = `mapa-${this.props.id}`;\n    element.setAttribute('data-tip', element.id);\n    element.setAttribute('data-for', dataFor);\n  }\n\n  // Save an array of the map elements, indexed by their `id`\n  saveElementsIndex = (svg) => {\n    this.mapElements =\n      Array.prototype.reduce.call(\n        this.svg.querySelectorAll(`.map_elem`),\n        (result, current) => {\n          result[current.id] = current;\n          this.setTooltipData(current);\n          return result;\n        },\n        {}\n      );\n  }\n\n  // Process data into the SVG DOM node before first injecting it into the DOM tree\n  beforeInjection = (svg) => {\n    this.svg = svg;\n    this.saveElementsIndex();\n    this.omplir_colors(this.props);\n    this.setState({svgStatus: 'beforeInjection'});\n  }\n\n  // Get SVG DOM node and reset colors from data if needed\n  afterInjection = (error, svg) => {\n    if (error) {\n      throw Error(error)\n    }\n\n    // Call ReactTooltip to rebuild its database with new objects\n    ReactTooltip.rebuild();\n    this.svg = svg;\n    this.omplir_colors(this.props);\n    this.setState({svgStatus: 'afterInjection'});\n  }\n\n  // Update background colors if SVG is mounted\n  updateColorsIfPossible = (props) => {\n    if ( this.isSVGMounted() && this.svg ) {\n      this.omplir_colors(props);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.mapSrc !== prevProps.mapSrc ) {\n      this.setState({svgStatus: 'srcChanged'});\n    }\n    this.updateColorsIfPossible(this.props);\n  }\n\n  componentDidMount() {\n    this.updateColorsIfPossible(this.props);\n    this.setState({svgStatus: 'mounted'});\n  }\n\n  // Help GC about side effects\n  componentWillUnmount() {\n    delete this.mapElements;\n    delete this.svg;\n  }\n\n  // Optimize renders:\n  // - Only render on map/svg changes\n  // - Trigger color update on indexUpdate, but\n  //   avoid render if this is the only change\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.indexValues !== nextProps.indexValues) {\n      this.updateColorsIfPossible(nextProps);\n      if (this.state.tooltipShow) {\n        // It's slow, but it's the faster solution found to update tooltip content\n        // without re-drawing full tooltip component (very slow)\n        ReactTooltip.show(this.mapElements[ this.state.tooltipShow ]);\n      }\n    }\n    if (this.props.mapSrc    !== nextProps.mapSrc ||\n        this.state.svgStatus !== nextState.svgStatus) {\n      return true;\n    }\n    return false;\n  }\n\n  // Renders the tip contents for a region\n  afterTipShow = event => this.setState({ tooltipShow: event.target.id });\n  afterTipHide = event => this.setState({ tooltipShow: false });\n  getTipContent = id => {\n    if ( id ) {\n      const {values, indexValues, label} = this.props;\n      const valuesDay = values[ indexValues ];\n      const element = this.mapElements[id];\n      const color = this.get_color_fons(valuesDay[id]);\n      const value = `${ label }: ${ valuesDay ? valuesDay[id] : '' }`;\n      if (!element) {\n        return '';\n      }\n      const elementLabel = element.getAttribute('label');\n      return (\n        <>\n          <h4>{ elementLabel }</h4>\n          <LegendElement { ...{value, color} } justify=\"center\" />\n        </>\n      );\n    }\n\n    return '';\n  }\n\n  render() {\n    const {mapSrc, title, id} = this.props;\n    return (\n      <>\n        <ReactSVG\n          src={ mapSrc }\n          ref={ this.wrapperNodeSVG }\n          role=\"img\"\n          aria-label={ title }\n          beforeInjection={ this.beforeInjection }\n          afterInjection={ this.afterInjection }\n          evalScripts=\"never\"\n          fallback={ fallback }\n          loading={ loading }\n          renumerateIRIElements={ false }\n        />\n        <ReactTooltipStyled\n          id={ `mapa-${id}` }\n          getContent={ this.getTipContent }\n          afterShow={ this.afterTipShow }\n          afterHide={ this.afterTipHide }\n          border={ true }\n        />\n      </>\n    );\n  }\n}\n\nMapImage.defaultProps = {\n  values: [],\n  indexValues: 0,\n  label: 'Index',\n  title: 'Map',\n};\n\nMapImage.propTypes = {\n  label: PropTypes.string,\n  mapSrc: PropTypes.string,\n  id: PropTypes.string,\n  // {[\"day\"]: {[\"regionId\"]: \"color\"} }\n  values: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  colors: PropTypes.arrayOf(PropTypes.shape({\n    valor: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n  })).isRequired,\n  indexValues: PropTypes.number.isRequired,\n};\n\nexport default MapImage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { translate } from 'react-translate'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Divider from '@material-ui/core/Divider';\n\nimport MapData from '../../../Backend/Maps';\n\n// UI-Material Styles\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\n\n// Renders a Select, with options from props\nconst Selector = (props) => {\n  const classes = useStyles();\n  const { label, help, id, options, ...restProps } = props;\n  return (\n    <div style={{ \n      margin: '0 auto',\n      display: 'block',\n    }}>\n      <FormControl required className={ classes.formControl }>\n        <InputLabel htmlFor={ id }>{ label }</InputLabel>\n        <Select\n          native\n          { ...restProps }\n          aria-describedby={ `helper-text-${id}` }\n          inputProps={{\n            name: label,\n            id: id,\n          }}\n        >\n          { options.map( option => (\n            <option key={ `v_${option.value}` } value={ option.value }>{ option.label }</option>\n          )) }\n        </Select>\n        { help ? (\n            <FormHelperText id={ `helper-text-${id}` }>\n              { help }\n            </FormHelperText>\n          ) : null \n        }\n      </FormControl>\n    </div>\n  )\n}\n\n// Renders a Select with map kinds options\nconst MapSelectorOptions = MapData.kinds()\n  .map( kind => ({ value: kind, label: kind }));\nconst MapSelector = translate('Widget/Map/Edit')((props) => {\n  const { t, ...restProps } = props;\n  return (\n    <Selector\n      options={ MapSelectorOptions }\n      label={ t(\"Type\") }\n      help={ t(\"Select the regions type to show\") }\n      { ...restProps }\n    />\n  )\n});\n\n// Renders a Select with map values options\nconst MapValueSelectorOptions = MapData.kinds()\n  .reduce( (options, kind) => {\n    options[kind] = MapData.values(kind)\n      .map( values => ({ value: values, label: MapData.metaName(values) }));\n    return options\n  }, {});\nconst MapValueSelector = translate('Widget/Map/Edit')((props) => {\n  const { kind, t, ...restProps } = props;\n  return (\n    <Selector\n      label={ t(\"Values\") }\n      help={ t(\"Select the data origin\") }\n      options={ MapValueSelectorOptions[kind] }\n      { ...restProps }\n    />\n  )\n});\n\n/*\n   Renders the edit form for the Map widget\n*/\nclass Edit extends React.PureComponent {\n\n  onChangeMapKind = (event) => this.props.onChangeMapKind(event.target.value);\n  onChangeMapValue = (event) => this.props.onChangeMapValue(event.target.value);\n\n  render() {\n    const { mapKind, mapValue } = this.props;\n\n    return (\n      <div style={{ textAlign: 'left' }}>\n        <MapSelector\n          value={ mapKind }\n          onChange={ this.onChangeMapKind }\n        />\n        <Divider style={{ margin: '2em 0' }} />\n        <MapValueSelector\n          kind={ mapKind }\n          value={ mapValue }\n          onChange={ this.onChangeMapValue }\n        />\n      </div>\n    )\n  }\n}\n\nEdit.propTypes = {\n  mapKind: PropTypes.string.isRequired,\n  mapValue: PropTypes.string.isRequired,\n  onChangeMapKind: PropTypes.func.isRequired,\n  onChangeMapValue: PropTypes.func.isRequired,\n};\n\nexport default Edit;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Grid from '@material-ui/core/Grid';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport LegendElement from '../Common/LegendElement';\n\n/*\n   Renders the legend of a map\n*/\n\n// Renders an element in the legend list\n// - Draws a sqared box with `color` background\n// - Adds unit to values, if both unit and value are defined\n// - If both `valueStart` and `valueEnd` are defined and greater than 0, as `start - end`\n// - If only `valueEnd`, as `< end`\n// - If only `valueStart`, as `> start`\nconst Element = ({valueStart, valueEnd, color, unit}) => {\n  const withUnit = (value) => `${value}${value !== undefined && unit ? unit : ''}`;\n  const value = valueStart && valueEnd !== null\n    ? `${withUnit(valueStart)} - ${withUnit(valueEnd)}`\n    : valueEnd !== null\n      ? `< ${withUnit(valueEnd)}`\n      : `> ${withUnit(valueStart)}`;\n  return <LegendElement justify=\"flex-end\" { ...{value, color} } />\n};\n\nElement.propTypes = {\n  valueStart: PropTypes.number.isRequired,\n  valueEnd: PropTypes.number,\n  color: PropTypes.string.isRequired,\n  unit: PropTypes.string,\n};\n\n// Renders children conditionally wrapped with a tooltip,\n// depending on the existence and length of `title` prop\nconst ConditionalTooltip = ({title, children, ...rest}) =>\n  title && title.length ? (\n    <Tooltip\n      arrow\n      placement=\"top\"\n      title={ title }\n      { ...rest }\n    >\n      { children }\n    </Tooltip>\n  ) : children;\n\n// Renders a legend using prop `colors` (shaped as defined\n// with propTypes) as data origin for it\nconst Legend = ({colors}) => (\n  <Grid\n    container\n    direction=\"column\"\n    justify=\"center\"\n    alignItems=\"flex-start\"\n    alignContent=\"center\"\n  >\n    { colors.map( (color, index) => (\n        <ConditionalTooltip key={ index } title={ color.nom }>\n          <Grid item>\n            <Element\n              valueStart={ color.valor }\n              valueEnd={ index === 0 ? null : colors[index - 1].valor }\n              color={ color.color }\n            />\n          </Grid>\n        </ConditionalTooltip>\n      ))\n    }\n  </Grid>\n);\n\nLegend.propTypes = {\n  colors: PropTypes.arrayOf(PropTypes.shape({\n    valor: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired,\n    nom: PropTypes.string,\n    unit: PropTypes.string,\n  }))\n};\n\nexport default Legend;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faInfoCircle as faLegend,\n  faEdit,\n  faGlobeEurope as faMap\n} from '@fortawesome/free-solid-svg-icons'\n\nimport MapData from '../../../Backend/Maps';\n\nimport MapImage from './MapImage';\nimport Edit from './Edit';\nimport Legend from './Legend';\nimport Loading from '../../../Loading';\nimport withWidget from '../../Widget';\n\nconst MapWrapper = withWidget({\n  // The normal view\n  view: {\n    icon: <FontAwesomeIcon icon={ faMap } />,\n    label: ({ t }) => t(\"View\"),\n    title: (props) => props.name,\n    render: ({t, mapKind, label, mapData, indexValues, colors, id}) => (\n      <>\n        { !mapData  || !mapData.valors ? (\n            <Loading />\n          ) : (\n            <MapImage\n              title={ `${t('Map')}: Catalunya: ${t(mapKind)}` }\n              label={ label }\n              values={ mapData.valors }\n              mapSrc={ MapData.svg(mapKind) }\n              indexValues={ indexValues }\n              colors={ colors }\n              id={ id }\n            />\n          )\n        }\n      </>\n    )\n  },\n  // Edit data\n  edit: {\n    icon: <FontAwesomeIcon icon={ faEdit } />,\n    label: ({ t }) => t(\"Edit\"),\n    title: ({ t }) => t(\"Edit map parameters\"),\n    render: (props) => (\n      <Edit\n        mapKind={ props.mapKind }\n        mapValue={ props.mapValue }\n        onChangeMapKind={ props.onChangeMapKind }\n        onChangeMapValue={ props.onChangeMapValue }\n      />\n    ),\n  },\n  // Show map legend\n  legend: {\n    icon: <FontAwesomeIcon icon={ faLegend } />,\n    label: ({ t }) => t(\"Legend\"),\n    title: (props) => props.title,\n    render: (props) => (\n      <Legend\n        colors={ props.colors }\n        subtitle={ props.days[ props.indexValues ] }\n      />\n    ),\n  },\n});\n\n/*\n   Combine MapData backend with MapWrapper/MapImage\n*/\nclass MapDataHandler extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    // TODO: Handle errors\n    this.MapData = new MapData();\n    this.cancelDataUpdate = false;\n\n    // Default values: first element of each's group\n    // TODO: Get data from storage/router/props\n    const { mapKind, mapValue } = props;\n\n    this.state = {\n      mapData: null,\n      mapKindDefault: mapKind,\n      mapValueDefault: mapValue,\n      ...this.getMeta(mapValue)\n    }\n  }\n\n  // Get metadata from given params\n  getMeta = (mapValue) => ({\n    colors: MapData.metaColors(mapValue),\n    title: MapData.metaTitle(mapValue),\n    label: MapData.metaLabel(mapValue),\n    name: MapData.metaLabel(mapValue),\n  })\n\n  // Fetch map data\n  updateData = () => {\n    const { mapKind, mapValue } = this.props;\n\n    // If there is an ongoing update, cancel the registration to it\n    if (this.cancelDataUpdate) {\n      this.cancelDataUpdate();\n    }\n\n    this.cancelDataUpdate = this.MapData.data(mapKind, mapValue, mapData => {\n      // Only update data if we didn't change map confs in between\n      if (mapKind === this.props.mapKind && mapValue === this.props.mapValue) {\n        this.setState({ mapData });\n      }\n    });\n  }\n\n  // Ensure first data is gathered as soon as we have the component mounted\n  componentDidMount() {\n    this.updateData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // If mapData is unset, gather new data\n    if( prevState.mapData !== this.state.mapData &&\n        this.state.mapData === null ) {\n      this.updateData();\n    }\n    else if (\n      // If params changed, unset mapData\n      this.props.mapKind !== prevProps.mapKind ||\n      this.props.mapValue !== prevProps.mapValue ) {\n      this.setState({\n        mapData: null\n      });\n    }\n  }\n\n  // Force data update on kind change\n  onChangeMapKind = (mapKind) => {\n    const { mapValue } = this.props;\n    this.setState({\n      mapData: null\n    });\n    this.props.onChangeData(\n      this.props.id,\n      {\n        mapKind,\n        mapValue\n      });\n  }\n\n  // Force data update on value change\n  // Also, update map metadata\n  onChangeMapValue = (mapValue) => {\n    const { mapKind } = this.props;\n    this.setState({\n      mapData: null,\n      ...this.getMeta(mapValue)\n    });\n    this.props.onChangeData(\n      this.props.id,\n      {\n        mapKind,\n        mapValue\n      });\n  }\n\n  render() {\n    const { days, indexValues, id, mapKind, mapValue } = this.props; \n    const {\n      mapData, mapKindDefault, mapValueDefault,\n      colors, title, label, name\n    } = this.state;\n\n    return (\n      <div style={{\n        minWidth: '200px',\n        height: '100%',\n        paddingTop: '.3em',\n        flex: '1 1 0px',\n      }}>\n        <MapWrapper\n          id={ id }\n          mapKind={ mapKind }\n          mapValue={ mapValue }\n          mapKindDefault={ mapKindDefault }\n          mapValueDefault={ mapValueDefault }\n          onChangeMapKind={ this.onChangeMapKind }\n          onChangeMapValue={ this.onChangeMapValue }\n          onRemove={ this.props.onRemove }\n          mapData={ mapData }\n          indexValues={ indexValues }\n          days={ days }\n          colors={ colors }\n          title={ title }\n          label={ label }\n          name={ name }\n        />\n      </div>\n    );\n  }\n}\n\n// Default values: first element of each's group\nconst mapKind = MapData.kinds()[0];\nconst mapValue = MapData.values(mapKind)[0];\n\nMapDataHandler.defaultProps = {\n  mapKind,\n  mapValue,\n  onChangeData: () => {},\n  onRemove: () => {},\n};\n\nMapDataHandler.propTypes = {\n  days: PropTypes.arrayOf(PropTypes.string).isRequired,\n  indexValues: PropTypes.number.isRequired,\n  id: PropTypes.string.isRequired,\n  onChangeData: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  mapKind: PropTypes.string.isRequired,\n  mapValue: PropTypes.string.isRequired,\n};\n\nexport default MapDataHandler;\n","import Widget from './Widget';\n\nexport default Widget;\n","import GHPages from '../Base/GHPages';\nimport cache from '../Base/Cache';\n\nconst ChartStaticHost = process.env.REACT_APP_CHART_STATIC_HOST ?? \"https://emibcn.github.io/covid-data/Charts\";\nconst ChartDataStaticURL = `${ChartStaticHost}/index.json`;\nconst ChartDataBase = `${ChartStaticHost}/chart.json`;\n\n// Handle data backend and cache for Charts\n// This is not a singleton: unique error handlers\nclass ChartDataHandler extends GHPages {\n\n  // Visible backend name\n  name = \"Charts JSON Files\";\n  indexUrl = ChartDataStaticURL;\n\n  /*\n     Processed data from index\n  */\n  divisions = [];\n  populations = [];\n\n  // If index data is not passed, subscribe to index\n  // URL and parse its content once downloaded\n  constructor(index) {\n    super();\n\n    if (index) {\n      this.parseIndex(index);\n    }\n    else {\n      this.index( this.parseIndex );\n    }\n  }\n\n  // Invalidate all URLs, except index\n  invalidateAll = async () => {\n    for (const url of this.active) {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`${this.name}: Invalidate '?${url}'`);\n      }\n\n      await cache.invalidate( `${ChartDataBase}?${url}` );\n    }\n  }\n\n  /*\n     Return dynamic data (with cache)\n  */\n  indexData = [];\n  index = (callback) => {\n    return cache.fetch( ChartDataStaticURL, callback );\n  }\n\n  parseIndex = (index) => {\n    // Get a unique (`[...new Set( )]`) list of options elements\n    this.divisions = [...new Set( index.map( ({territori}) => territori) )];\n    this.populations = [...new Set( index.map( ({poblacio})  => poblacio ) )];\n\n    // Save/cache index data\n    this.indexData = index;\n  }\n\n  // Active URLs: those which will be invalidated on update\n  active = [];\n\n  // Gets the breadcrumb of ancestors and the found node, or empty array (recursive)\n  findBreadcrumb = (node, value, compare = (node, url) => node.url === url) => {\n    if (compare(node, value)) {\n      return [node]\n    }\n    else if ('children' in node) {\n      for (const child of node.children) {\n        const found = this.findBreadcrumb(child, value, compare);\n        if (found.length) {\n          return [...found, node]\n        }\n      }\n    }\n    return []\n  }\n\n  // Find a node in a tree\n  findChild = (node, value, compare) => {\n    const list = this.findBreadcrumb(node, value, compare);\n    if (list.length) {\n      return list[0];\n    }\n  }\n\n  // Find division/population section\n  findInitialNode = (division, population) => {\n    return this.indexData.find(\n      (link) =>\n        link.territori === division &&\n        link.poblacio === population\n    );\n  }\n\n  // Fetch JSON data and subscribe to updates\n  data = (division, population, url, callback) => {\n\n    const initialLink = this.findInitialNode(division, population);\n\n    // If found (why should it not?)\n    if (initialLink) {\n\n      // Find region name in link and children, recursively\n      const found = this.findChild(initialLink, url);\n\n      // TODO: We should do something else on error\n      if (!found) {\n        console.warn(`Could not find data in index: ${division}/${population}/${url}`, {initialLink, index: this.indexData});\n        callback(false);\n        return () => {};\n      }\n\n      // Add URL to active ones. Will be invalidated on update \n      if ( !(this.active.includes(found.url)) ) {\n        this.active.push(found.url);\n      }\n\n      // Get URL content (download or cached)\n      return cache.fetch(`${ChartDataBase}%3F${found.url}`, callback);\n    }\n\n    console.warn(`Could not find initial node in index: ${division}/${population}/${url}`, {initialLink, index: this.indexData});\n    callback(false);\n    return () => {};\n  }\n}\n\nexport default ChartDataHandler;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from '@material-ui/core/Grid';\n\nimport LegendElement from './LegendElement';\n\nconst useStyles = makeStyles( theme => ({\n  tooltip: {\n    backgroundColor: theme.palette.background.default,\n    borderWidth: 1,\n    borderStyle: 'solid',\n    borderColor: theme.palette.text.hint,\n    ...theme.shape,\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.fontSize,\n    padding: theme.spacing(1),\n  },\n  legend: {\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.fontSize,\n    padding: 0,\n    marginTop: theme.spacing(1),\n  },\n  legendElement: {\n    paddingRight: theme.spacing(1),\n  },\n  label: {\n    ...theme.typography.subtitle1,\n  },\n}));\n\nconst Element = ({name, value, color, unit, gridOptions}) => {\n  const withUnit = (value) => `${value??''}${value !== undefined && unit ? unit : ''}`;\n  const nameWithValue = `${ name }: ${withUnit(value)}`;\n  return (\n    <Grid item { ...gridOptions }>\n      <LegendElement\n        justify=\"flex-start\"\n        color={ color }\n        value={ nameWithValue }\n      />\n    </Grid>\n  )\n};\n\nElement.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([ PropTypes.string, PropTypes.number ]),\n  color: PropTypes.string.isRequired,\n  unit: PropTypes.string,\n  gridOption: PropTypes.object,\n};\n\nconst List = ({payload}) => {\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justify=\"center\"\n      alignItems=\"flex-start\"\n    >\n      { (payload||[]).map( (pl, index) => <Element key={ index } { ...pl }/> )}\n    </Grid>\n  );\n}\n\nconst ChartLegend = (props) => {\n  const {payload, data, indexValues, colors} = props;\n  const classes = useStyles();\n  const payloadModified = React.useMemo(\n    () =>  (payload||[]).map( (line, index) => ({\n      ...line,\n      unit: line.format?.replace(/^\\{[^}]*\\}/,'').trim(), /*\"{,.2f}\"*/\n      color: line.color ?? colors[index],\n      value: data[indexValues] !== undefined\n        ? data[indexValues][ `v${index}` ]\n        : undefined,\n    })),\n    [payload, data, indexValues, colors]);\n\n  /*\n    - Center the elements list in a 11xs container with a 1xs free left\n      space and 1xs on each element' right padding (at legend center and right)\n    - Show 2 elements per column, or only 1 if there is only one element in the list\n  */\n  return (\n    <Grid container direction=\"column\" alignItems=\"flex-end\">\n      <Grid\n        item\n        xs={11}\n        container\n        direction=\"row\"\n        justify=\"flex-start\"\n        alignItems=\"center\"\n        className={ classes.legend }\n      >\n        { payloadModified.map( (pl, index) => (\n          <Element\n            key={ index }\n            gridOptions={{\n              xs: payloadModified.length > 1 ? 6 : 12,\n              className: classes.legendElement,\n            }}\n            { ...pl } />\n        ))}\n      </Grid>\n    </Grid>\n  )\n}\n\nChartLegend.defaultProps = {\n  label: '',\n  payload: [],\n  data: [],\n};\n\nChartLegend.propTypes = {\n  label: PropTypes.string.isRequired,\n  payload: PropTypes.array.isRequired,\n  indexValues: PropTypes.number.isRequired,\n  colors: PropTypes.array.isRequired,\n  data: PropTypes.array.isRequired,\n};\n\nconst ChartTooltip = ({active, payload, label}) => {\n  const classes = useStyles();\n  return active ? (\n    <div className={ classes.tooltip }>\n      <p className={ classes.label }>{ label }</p>\n      <List payload={payload} />\n    </div>\n  ) : null;\n}\n\nChartTooltip.defaultProps = {\n  label: '',\n  payload: [],\n};\n\nChartTooltip.propTypes = {\n  active: PropTypes.bool,\n  label: PropTypes.string.isRequired,\n  payload: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n    color: PropTypes.string.isRequired,\n    unit: PropTypes.string,\n  })).isRequired,\n};\n\nexport default ChartTooltip;\nexport {ChartLegend};\n","import React from 'react';\n\nimport { useTheme } from '@material-ui/core/styles';\n\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  Line,\n  Area,\n  ReferenceLine,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Brush,\n} from 'recharts';\n\nimport ChartTooltip, {ChartLegend} from './ChartTooltip';\n\nconst DefaultColors = [\n  \"#3366CC\", \"#DC3912\", \"#FF9900\", \"#109618\",\n  \"#990099\", \"#3B3EAC\", \"#0099C6\", \"#DD4477\",\n  \"#66AA00\", \"#B82E2E\", \"#316395\", \"#994499\",\n  \"#22AA99\", \"#AAAA11\", \"#6633CC\", \"#E67300\",\n  \"#8B0707\", \"#329262\", \"#5574A6\", \"#3B3EAC\",\n];\n\nconst MAX_LINES_PER_CHART = 8;\n\n// Parses graph data:\n// - Mixes graph dates range with global dates array\n// - Fills data graph with each line previous date data\nconst parseData = (graph, dies) => {\n\n  // Date helpers\n  const parseDateStr = (dateStr, sep='/') => dateStr.split(sep).map( d => Number(d));\n  const parseDate = ([year, month, day]) => new Date(year, month - 1, day);\n\n  // Transforms a date to a string\n  // - sep: Separator\n  // - reverse: if true, day at begining and year at end\n  const dateToString = (date, sep='/', reverse=false) => {\n    const pad2 = (num) => `${num}`.padStart(2, '0');\n    const params = [\n      pad2( date.getDate() ),\n      pad2( date.getMonth() + 1 ),\n      date.getFullYear()\n    ];\n\n    return (\n      reverse\n        ? params.reverse()\n        : params\n      ).join(sep);\n  }\n\n  // Generates an array of Date, containing both ranges,\n  // with formats \"17/10/2020\" and \"2020-10-17\", respectively\n  const fillDays = (range, range2) => {\n\n    // Generates a range (array with starting and ending\n    // dates) containing both ranges\n    const fixRange = (range, range2) => {\n      const parsed  = range.map(  date => parseDate( parseDateStr( date, '-' )           )); // 17/10/2020\n      const parsed2 = range2.map( date => parseDate( parseDateStr( date      ).reverse() )); // 2020-10-17\n      return [\n        parsed[0] < parsed2[0] ? parsed[0] : parsed2[0],\n        parsed[1] > parsed2[1] ? parsed[1] : parsed2[1],\n      ];\n    }\n\n    // Returns a Date the day after the Date passed as argument\n    const nextDate = (date) => {\n      const next = new Date(date.getTime());\n      next.setDate(next.getDate() + 1);\n      return next\n    }\n  \n    // Get combined range\n    const [dateStart, dateEnd] = fixRange( range, range2 );\n\n    // Generate the Array of dates\n    const result = [];\n    for (let i = dateStart; i <= dateEnd; i = nextDate(i)) {\n      result.push( i );\n    }\n  \n    return result;\n  }\n\n  // Generate a dates array, ranged from first start until the last end\n  const days = fillDays(graph[0].range, [dies[0], dies[dies.length-1]]);\n  // Create a hash like: { dateAsStr => { date: dateObject }}\n  const daysHash = Object.fromEntries(\n      days.map( (date, index) => [dateToString(date, '-', true), {date, index}] )\n  );\n\n  // Allow sorting lines/areas from data\n  const graphSorted = [...graph]\n    .sort( (line1, line2) => line1.order !== undefined ? line1.order - line2.order : 0 )\n    // Maximum number of lines per chart\n    .filter( (line, index) => index < MAX_LINES_PER_CHART);\n\n  // Fill days hash with graph data\n  graphSorted.forEach( (line, index) =>\n    line.dates.forEach( (date, dateIndex) =>\n      daysHash[date][`v${index}`] = line.data[dateIndex]\n    )\n  );\n\n  const lastOwnDate = parseDate( parseDateStr( graph[0].range[1], '-' ));\n\n  return {\n    // Fill empty days with data from the previous one (fill the gaps)\n    data: days.reduce( (result, date, index) => {\n      const prev = index > 0 ? result[index-1] : {};\n      result.push({\n        ...(lastOwnDate >= date ? prev : {} ),\n        ...daysHash[dateToString(date, '-', true)],\n        x: dateToString(date),\n      });\n      return result\n    }, []),\n    dies: days.map(day => dateToString(day)),\n    daysHash,\n    graphSorted,\n  }\n}\n\n// Translates global selected day to current chart days range index\nconst translateIndexDays = (diesBase, daysHash, indexValues) => {\n  const dayCode = diesBase[indexValues]\n    .split('/')\n    .reverse()\n    .join('-');\n  return daysHash[ dayCode ].index;\n}\n\n// Memoized chart: show static data (independent from selected day)\nconst ChartCached = React.memo((props) => {\n  const { data, graph, colors, yAxisLabel, scale, children, syncId } = props;\n  const themeUI = useTheme();\n  return (\n    <ResponsiveContainer width='100%' height={250}>\n      <ComposedChart data={data} margin={{ right: 10, left: 0 }} syncId={ syncId }>\n        {/* Extra rechart children can be passed as children to this */}\n        { children }\n\n        { graph // Don't save sorting in original array!\n            .map( (line, index) => {\n              const types = {line: Line, area: Area};\n              const Component = line.type && Object.keys(types).includes(line.type)\n                ? types[line.type]\n                : Line;\n              return (\n                <Component\n                  key={ index }\n                  type=\"monotone\"\n                  dataKey={ `v${index}` }\n                  dot={ null }\n                  connectNulls\n                  name={ line.name }\n                  strokeWidth={ line.width ?? 2 }\n                  stroke={ line.color ?? colors[index] }\n                  fill={ line.color ?? colors[index] }\n                  unit={ line.format?.replace(/^\\{[^}]*\\}/,'').trim() /*\"{,.2f}\"*/ }\n                />\n              )\n            })\n        }\n        \n        <CartesianGrid stroke={ themeUI.palette.text.hint } />\n        <YAxis\n          scale={scale}\n          stroke={ themeUI.palette.text.hint }\n          label={{\n            fill: themeUI.palette.text.primary,\n              value: yAxisLabel,\n              angle: -90,\n              offset: 20,\n              position: \"insideBottomLeft\"\n          }}\n        />\n        <XAxis\n          dataKey=\"x\"\n          interval=\"preserveStartEnd\"\n          stroke={ themeUI.palette.text.hint }\n          angle={-30}\n          dx={-5}\n          dy={15}\n          height={55}\n        />\n        <Tooltip content={<ChartTooltip/>} />\n        { graph.zoom\n            ? <Brush /*startIndex={-7}*/ dataKey=\"x\" height={30} stroke=\"#8884d8\" />\n            : null }\n      </ComposedChart>\n    </ResponsiveContainer>\n  )\n});\n\n// Optimized chart:\n// - Memoizes the static data\n// - Memoizes the real chart with all the static data\n// - Renders an extra chart to render time dependent value (reference line for selected date)\nconst Chart = (props) => {\n  const {data: graph, dies: diesBase, indexValues, yAxis, children, syncId} = props;\n  const themeUI = useTheme();\n  const {data, dies, daysHash, graphSorted} = React.useMemo(() => parseData(graph, diesBase), [graph, diesBase]);\n  const indexTranslated = translateIndexDays(diesBase, daysHash, indexValues);\n\n  const colors = props.theme?.colors || DefaultColors;\n  const yAxisLabel = yAxis?.label || '';\n  const scale = yAxis?.scale\n    ? (yAxis.scale === 'squarified' ? 'pow' : yAxis.scale)\n    : 'linear';\n\n  return (\n    <div style={{position: \"relative\"}}>\n\n      {/* Draw a dedicated graph for the reference line, which changes with the selected day */}\n      <div style={{ position: \"absolute\", width: '100%' }}>\n        <ResponsiveContainer width='100%' height={250}>\n          <ComposedChart data={data} margin={{ right: 10, left: 0 }}>\n            <ReferenceLine\n              x={ dies[indexTranslated] }\n              stroke={ themeUI.palette.text.hint }\n              strokeDasharray=\"3 3\"\n            />\n            {/* Draw transparent axises to get the size */}\n            <YAxis\n              stroke=\"#ffffff00\"\n              scale={scale}\n              label={{\n                value: yAxisLabel,\n                angle: -90,\n                offset: 20,\n                position: \"insideBottomLeft\"\n              }}\n            />\n            <XAxis\n              stroke=\"#ffffff00\"\n              dataKey=\"x\"\n              interval=\"preserveStartEnd\"\n              angle={-30}\n              dx={-5}\n              dy={15}\n              height={55}\n          />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Memoized component, independent of the selected day */}\n      <ChartCached\n        { ...{ data, graph: graphSorted, children, colors, yAxisLabel, scale, syncId } }\n      />\n\n      {/* Use outer legend to lower chart updates */}\n      <ChartLegend {...{\n        data,\n        colors,\n        indexValues: indexTranslated,\n        payload: graphSorted,\n      }} />\n    </div>\n  )\n};\n\nexport default Chart;\n","import React from 'react';\n\nimport { ReferenceLine } from 'recharts';\n\nimport ChartBcn from '../Common/Chart';\n\nconst dataTransform = (dies, graph, chartsStyles=[]) => {\n  const reformatDate = (date) => date\n    .split('/')\n    .reverse()\n    .join('-');\n  const range = [\n    dies[0],\n    dies[dies.length - 1]\n  ].map( reformatDate );\n  const dates = dies.map( reformatDate );\n\n  return graph.data\n    .map( ({data, label}, index) => ({\n      data,\n      name: label,\n      range,\n      dates,\n      ...(chartsStyles[index] ?? {}),\n    }))\n}\n\nconst chartsStylesIEPG = [\n  {type: 'line', color: \"#000000\", width: 3},\n];\n\nconst ChartIEPG = (props) => {\n  const { graph, dies, indexValues} = props;\n  const {data, references} = React.useMemo(\n    () => ({\n      data: dataTransform(dies, graph, chartsStylesIEPG),\n      references: [\n        {y: 30, color: \"#0f0\"},\n        {y: 70, color: \"#ff0\"},\n        {y: 100, color: \"#f00\"}\n      ].map( ({y, color}, key) =>\n        <ReferenceLine\n          key={key}\n          y={y}\n          stroke={color}\n          strokeDasharray=\"3 3\"\n          ifOverflow=\"extendDomain\" />\n      )\n    }),\n    [graph,dies],\n  );\n\n  return (\n    <ChartBcn\n      syncId=\"charts\"\n      { ...{dies, indexValues, data}}\n    >\n      { references }\n    </ChartBcn>\n  )\n}\n\nconst chartsStylesExtensio = [\n  {type: 'area', order: 1, color: \"#648ac8\", width: 1},\n  {type: 'area', order: 0, color: \"#cacaca\", width: 1},\n  {type: 'line', order: 2, color: \"#969696\", width: 1},\n];\n\nconst ChartExtensio = (props) => {\n  const { graph, dies, indexValues} = props;\n  const data = React.useMemo(\n    () => dataTransform(dies, graph, chartsStylesExtensio),\n    [graph,dies],\n  );\n\n  return (\n    <ChartBcn\n      syncId=\"charts\"\n      { ...{dies, indexValues, data}}\n    />\n  )\n}\n\nconst GraphFromDataset = {\n  grafic_risc_iepg: ChartIEPG,\n  grafic_extensio: ChartExtensio,\n};\n\nconst Chart = (props) => {\n  const { dataset, valors, ...restProps } = props;\n  const ChartDataset = GraphFromDataset[dataset];\n  return <ChartDataset graph={ valors[dataset] } {...restProps} />\n}\n\nexport default Chart;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport TreeView from '@material-ui/lab/TreeView';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport TreeItem from '@material-ui/lab/TreeItem';\n\nimport ChartData from '../../../Backend/Charts';\n\n// From: https://material-ui.com/components/tree-view/#rich-object\n\nconst useStyles = makeStyles({\n  root: {\n    height: 110,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n});\n\nconst RecursiveTreeView = (props) => {\n  const classes = useStyles();\n  const { chartsIndex, division, population, value, onChange, ...restProps } = props;\n\n  const onNodeSelect = (event, value) => onChange(Number(value));\n\n  const renderTree = (nodes) => (\n    <TreeItem key={nodes.url} nodeId={`${nodes.url}`} label={nodes.name}>\n      {Array.isArray(nodes.children) ? nodes.children.map((node) => renderTree(node)) : null}\n    </TreeItem>\n  );\n\n  const {initialNode, found} = React.useMemo(\n    () => {\n      const chartData = new ChartData(chartsIndex);\n      const initialNode = chartData.findInitialNode(division, population);\n      const found = chartData.findBreadcrumb(initialNode, value).map(link => `${link.url}`);\n\n      return {initialNode, found}\n    },\n    [division,population,value,chartsIndex]\n  );\n\n  return (\n    <TreeView\n      className={classes.root}\n      defaultCollapseIcon={<ExpandMoreIcon />}\n      defaultExpandIcon={<ChevronRightIcon />}\n      expanded={ found }\n      selected={ `${value}` }\n      onNodeSelect={ onNodeSelect }\n      { ...restProps }\n    >\n      {renderTree(initialNode)}\n    </TreeView>\n  );\n}\n\nexport default RecursiveTreeView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { translate } from 'react-translate'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Divider from '@material-ui/core/Divider';\n\nimport ChartRegionSelector from './EditRegion';\n\n// UI-Material Styles\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  labelFixed: {\n    position: 'initial',\n    transform: 'unset',\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst FormDecorators = (props) => {\n  const classes = useStyles();\n  const { label, help, id, children, fixTree } = props;\n  return (\n    <div style={{ \n      margin: '0 auto',\n      display: 'block',\n    }}>\n      <FormControl required className={ classes.formControl }>\n        <InputLabel className={ fixTree ? classes.labelFixed : null } htmlFor={ id }>{ label }</InputLabel>\n        { children }\n        { help ? (\n            <FormHelperText id={ `helper-text-${id}` }>\n              { help }\n            </FormHelperText>\n          ) : null \n        }\n      </FormControl>\n    </div>\n  )\n}\n\n// Renders a Select, with options from props\nconst Selector = (props) => {\n  const { label, help, id, options, ...restProps } = props;\n  return (\n    <FormDecorators\n      id={ id }\n      label={ label }\n      help={ help }\n    >\n      <Select\n        native\n        { ...restProps }\n        aria-describedby={ `helper-text-${id}` }\n        inputProps={{\n          name: label,\n          id: id,\n        }}\n      >\n        { options.map( option => (\n          <option key={ `v_${option.value}` } value={ option.value }>{ option.label }</option>\n        )) }\n      </Select>\n    </FormDecorators>\n  )\n}\n\n// Renders a Select with chart division options\nconst ChartDivisionSelector = translate('Widget/Chart/Edit')((props) => {\n  const { t, divisions, ...restProps } = props;\n  const ChartDivisionSelectorOptions = React.useMemo(\n    () => divisions\n            .map( kind => ({ value: kind, label: kind })),\n    [divisions],\n  );\n  return (\n    <Selector\n      options={ ChartDivisionSelectorOptions }\n      label={ t(\"Division\") }\n      help={ t(\"Select the division type to show\") }\n      { ...restProps }\n    />\n  )\n});\n\n// Renders a Select with chart population options\nconst ChartPopulationSelector = translate('Widget/Chart/Edit')((props) => {\n  const { t, populations, ...restProps } = props;\n  const ChartPopulationSelectorOptions = React.useMemo(\n    () => populations\n            .map( kind => ({ value: kind, label: kind })),\n    [populations],\n  );\n  return (\n    <Selector\n      label={ t(\"Population\") }\n      help={ t(\"Select the population\") }\n      options={ ChartPopulationSelectorOptions }\n      { ...restProps }\n    />\n  )\n});\n\n// Renders a Select with chart population options\nconst ChartDatasetSelector = translate('Widget/Chart/Edit')((props) => {\n  const { t, ...restProps } = props;\n  const ChartDatasetSelectorOptions = React.useMemo(\n    () => [\n      {value: 'grafic_extensio', label: t('Extensi')},\n      {value: 'grafic_risc_iepg', label: t('Risc iEPG')},\n    ],\n    [t],\n  );\n  return (\n    <Selector\n      label={ t(\"Dataset\") }\n      help={ t(\"Select the dataset\") }\n      options={ ChartDatasetSelectorOptions }\n      { ...restProps }\n    />\n  )\n});\n\n/*\n   Renders the edit form for the Map widget\n*/\nclass Edit extends React.PureComponent {\n\n  onChangeChartDivision = (event) => this.props.onChangeChartDivision(event.target.value);\n  onChangeChartPopulation = (event) => this.props.onChangeChartPopulation(event.target.value);\n  onChangeChartDataset = (event) => this.props.onChangeChartDataset(event.target.value);\n  onChangeChartRegion = (value) => this.props.onChangeChartRegion(value);\n\n  render() {\n    const {\n      chartDivision,\n      chartPopulation,\n      chartDataset,\n      chartRegion,\n      divisions,\n      populations,\n      chartsIndex,\n      t\n    } = this.props;\n\n    return (\n      <div style={{ textAlign: 'left' }}>\n        <ChartDivisionSelector\n          divisions={ divisions }\n          value={ chartDivision }\n          onChange={ this.onChangeChartDivision }\n        />\n        <Divider style={{ margin: '2em 0' }} />\n        <ChartPopulationSelector\n          populations={ populations }\n          value={ chartPopulation }\n          onChange={ this.onChangeChartPopulation }\n        />\n        <Divider style={{ margin: '2em 0' }} />\n        <ChartDatasetSelector\n          value={ chartDataset }\n          onChange={ this.onChangeChartDataset }\n        />\n        \n        <Divider style={{ margin: '2em 0' }} />\n        <FormDecorators\n          id={ 'regions-tree' }\n          label={ t(\"Region\") }\n          fixTree\n        >\n          <ChartRegionSelector\n            id={ 'regions-tree' }\n            chartsIndex={ chartsIndex }\n            division={ chartDivision }\n            population={ chartPopulation }\n            value={ chartRegion }\n            onChange={ this.onChangeChartRegion }\n          />\n        </FormDecorators>\n      </div>\n    )\n  }\n}\n\nEdit.propTypes = {\n  chartDivision: PropTypes.string.isRequired,\n  chartPopulation: PropTypes.string.isRequired,\n  chartDataset: PropTypes.string.isRequired,\n  chartRegion: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]).isRequired,\n  onChangeChartDivision: PropTypes.func.isRequired,\n  onChangeChartPopulation: PropTypes.func.isRequired,\n  onChangeChartDataset: PropTypes.func.isRequired,\n  onChangeChartRegion: PropTypes.func.isRequired,\n};\n\nexport default translate('Widget/Chart/Edit')(Edit);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faEdit,\n  faChartArea as faChart\n} from '@fortawesome/free-solid-svg-icons'\n\nimport ChartData from '../../../Backend/Charts';\n\nimport Chart from './Chart';\nimport Edit from './Edit';\nimport Loading from '../../../Loading';\nimport withWidget from '../../Widget';\n\nconst ChartWrapper = withWidget({\n  // The normal view\n  view: {\n    icon: <FontAwesomeIcon icon={ faChart } />,\n    label: ({ t }) => t(\"View\"),\n    title: (props) => props.title,\n    render: (props) => (\n      <>\n        { !props.chartData ? (\n            <Loading />\n          ) : (\n            <Chart\n              dies={ props.days }\n              valors={ props.chartData }\n              dataset={ props.chartDataset }\n              indexValues={ props.indexValues }\n              id={ props.id }\n            />\n          )\n        }\n      </>\n    )\n  },\n  // Edit data\n  edit: {\n    icon: <FontAwesomeIcon icon={ faEdit } />,\n    label: ({ t }) => t(\"Edit\"),\n    title: ({ t }) => t(\"Edit chart parameters\"),\n    render: (props) => <Edit {...props} />,\n  },\n});\n\n/*\n   Combine ChartData backend with Chart\n*/\nclass ChartDataHandler extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    // Default values: first element of each's group\n    const { chartDivision, chartPopulation, chartRegion, chartsIndex } = props;\n\n    // TODO: Handle errors\n    this.ChartData = new ChartData(chartsIndex);\n    this.cancelDataUpdate = false;\n\n    this.state = {\n      chartData: null,\n      ...this.getMeta(chartDivision, chartPopulation, chartRegion, chartDataset, null)\n    }\n  }\n\n  // Get metadata from given params\n  getMeta = (chartDivision, chartPopulation, chartRegion, chartDataset, chartData) => {\n    if ( !chartData ) {\n      return {\n        title: '...',\n        name: '...',\n      };\n    }\n    return {\n      title: chartData[chartDataset].title,\n      name: chartData[chartDataset].title,\n    }\n  }\n\n  // Fetch map data\n  updateData = () => {\n    const { chartDivision, chartPopulation, chartRegion } = this.props;\n\n    // If there is an ongoing update, cancel the registration to it\n    if (this.cancelDataUpdate) {\n      this.cancelDataUpdate();\n    }\n\n    // Fetch JSON data and subscribe to updates\n    this.cancelDataUpdate = this.ChartData.data(\n      chartDivision,\n      chartPopulation,\n      chartRegion,\n      (chartData) => {\n        // Only update data if we didn't change chart confs in between\n        if ( chartDivision === this.props.chartDivision &&\n             chartPopulation === this.props.chartPopulation   &&\n             chartRegion === this.props.chartRegion ) {\n          this.setState({\n            chartData,\n            ...this.getMeta(chartDivision, chartPopulation, chartRegion, this.props.chartDataset, chartData),\n          });\n        }\n      });\n  }\n\n  // Ensure first data is gathered as soon as we have the component mounted\n  componentDidMount() {\n    this.updateData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // If chartData is unset, gather new data\n    if( prevState.chartData !== this.state.chartData &&\n        this.state.chartData === null ) {\n      this.updateData();\n    }\n    else if (\n      // If params changed, unset chartData\n      this.props.chartDivision !== prevProps.chartDivision ||\n      this.props.chartPopulation !== prevProps.chartPopulation ||\n      this.props.chartRegion !== prevProps.chartRegion ) {\n      this.setState({\n        chartData: null\n      });\n    }\n    else if ( this.props.chartsIndex !== prevProps.chartsIndex ) {\n      // If chartsIndex changed, re-create backend with new data\n      this.ChartData = new ChartData(this.props.chartsIndex);\n      this.setState({\n        chartData: null\n      });\n    }\n  }\n\n  // Used to fix region when changing main options.\n  // TODO: Find a better way. ID by breadcrumb?\n  findRegion = (division, population, region) => {\n    const {chartsIndex} = this.props;\n    const initialNode = this.ChartData.findInitialNode(division, population);\n    const found = this.ChartData.findChild(initialNode, region);\n\n    if ( !found ) {\n      // Try to find in the other valid initialNodes (same division)\n      const nodes = chartsIndex.filter( (node) =>\n        division === node.territori &&\n        population !== node.poblacio\n      );\n      for (const node of nodes ) {\n        // Look for region in the other initialNode\n        const f1 = this.ChartData.findChild(node, region);\n        // If found, find in our initialNode for a region with the same name\n        const f2 = f1 && this.ChartData.findChild(\n          initialNode,\n          f1.name,\n          (node, name) => node.name === name);\n        // If found, use it\n        if (f2) {\n          return f2;\n        }\n      }\n\n      // Not found in valid initialNodes: default to actual initialNode's root\n      return initialNode;\n    }\n\n    // Found!\n    return found;\n  }\n\n  // Fix region if needed\n  // Also, update map metadata\n  onChangeChart = (chartDivision, chartPopulation, chartRegion, chartDataset, chartData) => {\n    this.setState({\n      ...(chartData === this.state.chartData ? {chartData} : {}),\n      ...this.getMeta(chartDivision, chartPopulation, chartRegion, chartDataset, chartData)\n    });\n    const region = this.findRegion(chartDivision, chartPopulation, chartRegion);\n    this.props.onChangeData(\n      this.props.id,\n      {\n        chartDivision,\n        chartPopulation,\n        chartDataset,\n        chartRegion: region.url\n      });\n  }\n\n  // Force data update on division change\n  onChangeChartDivision = (chartDivision) => {\n    const { chartPopulation, chartRegion, chartDataset } = this.props;\n    this.onChangeChart(chartDivision, chartPopulation, chartRegion, chartDataset, null);\n  }\n\n  // Force data update on value change\n  onChangeChartPopulation = (chartPopulation) => {\n    const { chartDivision, chartRegion, chartDataset } = this.props;\n    this.onChangeChart(chartDivision, chartPopulation, chartRegion, chartDataset, null);\n  }\n\n  // Force data update on value change\n  onChangeChartRegion = (chartRegion) => {\n    const { chartDivision, chartPopulation, chartDataset } = this.props;\n    this.onChangeChart(chartDivision, chartPopulation, chartRegion, chartDataset, null);\n  }\n\n  // Datasets are on same data object\n  onChangeChartDataset = (chartDataset) => {\n    const { chartDivision, chartPopulation, chartRegion } = this.props;\n    const { chartData } = this.state;\n    this.onChangeChart(chartDivision, chartPopulation, chartRegion, chartDataset, chartData);\n  }\n\n  render() {\n    const {\n      days,\n      indexValues,\n      id,\n      chartDivision,\n      chartPopulation,\n      chartDataset,\n      chartRegion,\n      chartsIndex\n    } = this.props; \n    const {\n      chartData, title, name\n    } = this.state;\n\n    return (\n      <div style={{\n        minWidth: '200px',\n        height: '100%',\n        paddingTop: '.3em',\n        flex: '1 1 0px',\n      }}>\n        <ChartWrapper\n          id={ id }\n          chartDivision={ chartDivision }\n          chartPopulation={ chartPopulation }\n          chartDataset={ chartDataset }\n          chartRegion={ chartRegion }\n          chartsIndex={ chartsIndex }\n          chartData={ chartData }\n          divisions={ this.ChartData.divisions }\n          populations={ this.ChartData.populations }\n          onChangeChartDivision={ this.onChangeChartDivision }\n          onChangeChartPopulation={ this.onChangeChartPopulation }\n          onChangeChartDataset={ this.onChangeChartDataset }\n          onChangeChartRegion={ this.onChangeChartRegion }\n          onRemove={ this.props.onRemove }\n          indexValues={ indexValues }\n          days={ days }\n          title={ title }\n          name={ name }\n        />\n      </div>\n    );\n  }\n}\n\n// Default values: first element of each's group\nconst chartDivision = \"REGI/AGA\";\nconst chartPopulation = \"Poblaci total\";\nconst chartRegion = 0;\nconst chartDataset = 'grafic_extensio';\n\nChartDataHandler.defaultProps = {\n  chartDivision,\n  chartPopulation,\n  chartRegion,\n  chartDataset,\n  onChangeData: () => {},\n  onRemove: () => {},\n};\n\nChartDataHandler.propTypes = {\n  days: PropTypes.arrayOf(PropTypes.string).isRequired,\n  indexValues: PropTypes.number.isRequired,\n  id: PropTypes.string.isRequired,\n  onChangeData: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  chartDivision: PropTypes.string.isRequired,\n  chartPopulation: PropTypes.string.isRequired,\n  chartDataset: PropTypes.string.isRequired,\n  chartRegion: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n  ]).isRequired,\n};\n\nexport default ChartDataHandler;\n","import Widget from './Widget';\n\nexport default Widget;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m45.275 106.43 39.441-39.439-39.441-39.446-39.439 39.446zm40.019-39.439s-4.4106 7.9134-18.032 21.547c-13.823 13.806-21.988 18.452-21.988 18.452s-7.909-4.3975-21.538-18.045c-13.826-13.81-18.469-21.955-18.469-21.955s4.4236-7.9145 18.051-21.544c13.817-13.805 21.955-18.445 21.955-18.445s7.9308 4.3834 21.552 18.023c13.81 13.81 18.467 21.966 18.467 21.966m-40.019 39.439 39.441-39.439-39.441-39.446-39.439 39.446zm40.019-39.439s-4.4106 7.9134-18.032 21.547c-13.823 13.806-21.988 18.452-21.988 18.452s-7.909-4.3975-21.538-18.045c-13.826-13.81-18.469-21.955-18.469-21.955s4.4236-7.9145 18.051-21.544c13.817-13.805 21.955-18.445 21.955-18.445s7.9308 4.3834 21.552 18.023c13.81 13.81 18.467 21.966 18.467 21.966m-3.8377-0.56314h-3.6028v-3.6246zm-7.6209-7.6177v7.6177h-3.9888v-11.625zm-7.983-7.9928v15.61h-3.9942v-19.611zm-7.9971-7.996v23.606h-3.9899v-27.597zm-7.996-7.9949v31.601h-3.9942v-35.589zm-40.739 32.742h3.6289v3.6354zm7.621 7.6231v-7.6231h4.0029v11.611zm7.9841 7.996v-15.619h4.0083v19.611zm7.9982 7.9993v-23.618h3.9964v27.605zm7.9797 7.9808v-31.599h4.0105v35.587zm5.1618-31.599h7.9982v9.9518h-7.9982zm35.591 0-27.591 27.612-8.0004 7.9754v-21.641h8.0004v13.666l4.0051-4.0192v-9.6463h9.6398l4.0051-3.9942h-13.645v-9.9518zm-72.336-1.1404 23.603-23.625v9.6768h-9.6485l-3.9877 3.9996h13.636v9.9486zm27.6-27.619 7.9938-7.9699v21.641h-7.9938zm7.9938 27.619h-7.9949v-9.9486h7.9949zm42.59 0.58163c0-0.91104 0.72404-1.6199 1.622-1.6199 0.88821 0 1.6351 0.70882 1.6351 1.6199 0 0.8882-0.74687 1.6286-1.6351 1.6286-0.89799 0-1.622-0.74035-1.622-1.6286m-87.3 0c0-0.91104 0.73926-1.6199 1.6264-1.6199 0.90342 0 1.6329 0.70882 1.6329 1.6199 0 0.8882-0.72948 1.6286-1.6329 1.6286-0.88712 0-1.6264-0.74035-1.6264-1.6286m43.659 43.635c0-0.88712 0.73383-1.6155 1.6264-1.6155 0.90451 0 1.6199 0.7284 1.6199 1.6155 0 0.91538-0.71535 1.6307-1.6199 1.6307-0.89255 0-1.6264-0.71535-1.6264-1.6307m-8.407-101.02c-0.48813-0.14243-0.98279-0.22396-1.4948-0.22396-2.2461 0-4.0344 1.3622-4.0344 3.0125 0 0.78493 0.40333 1.5046 1.0404 2.0558l-1.771 1.7601c-1.1122-0.99258-1.7851-2.3341-1.7851-3.8007 0-3.068 2.9212-5.539 6.5501-5.539 0.92191 0 1.8264 0.16416 2.6418 0.48052 1.1806-1.3687 3.1082-2.2515 5.2618-2.2515 1.3329 0 2.5776 0.32723 3.6094 0.91321 1.0469-0.58598 2.2993-0.91321 3.618-0.91321 2.1656 0 4.0812 0.88277 5.2618 2.2515 0.81319-0.31636 1.7134-0.48052 2.6646-0.48052 3.6094 0 6.5425 2.4711 6.5425 5.539 0 1.4666-0.70556 2.8081-1.8025 3.8007l-1.7612-1.7601c0.64142-0.55118 1.0426-1.2709 1.0426-2.0558 0-1.6503-1.8047-3.0125-4.0214-3.0125-0.53488 0-1.0252 0.0815-1.5057 0.22396 0.07501 0.33701 0.10872 0.6762 0.10872 1.0295 0 1.0948-0.36528 2.1265-1.023 2.9973l-1.8058-1.8134c0.21961-0.37833 0.31419-0.76862 0.31419-1.1839 0-1.6862-1.7916-3.0288-4.0149-3.0288-0.84907 0-1.6514 0.21091-2.3037 0.54901v3.6344h-2.52v-3.568c-0.65882-0.39138-1.5014-0.61533-2.4146-0.61533-2.208 0-4.0094 1.3426-4.0094 3.0288 0 0.41529 0.11741 0.80558 0.31636 1.1839l-1.809 1.8134c-0.65556-0.87081-1.0121-1.9025-1.0121-2.9973 0-0.35333 0.03153-0.69252 0.11632-1.0295m-2.2482 13.247 1.4035 2.1156c3.1723-1.4677 6.9393-2.4461 10.863-2.4461 3.9725 0 7.7188 0.97845 10.891 2.4461l1.3992-2.1156c-3.58-1.7199-7.7677-2.7298-12.246-2.7298-4.4671 0-8.6972 0.9904-12.311 2.7298m10.595-21.166c0-0.94691 0.74905-1.7079 1.7025-1.7079 0.93278 0 1.6992 0.76101 1.6992 1.7079 0 0.93604-0.76644 1.6949-1.6992 1.6949-0.95343 0-1.7025-0.75884-1.7025-1.6949m-10.57 19.115c-0.6349-0.0641-1.148-0.52727-1.4861-1.2057 0.45443-0.59685 1.0643-0.94039 1.6949-0.87407 0.63055 0.0772 1.1633 0.53488 1.4883 1.2035-0.4653 0.59902-1.073 0.91756-1.697 0.87625m-1.1806-3.0875c-0.24787-0.57185-0.84689-0.92843-1.6025-1.0284-0.41855 0.61642-0.55445 1.3068-0.29136 1.8808 0.25874 0.56749 0.83711 0.93278 1.5883 1.0295 0.42725-0.61859 0.56749-1.2915 0.30549-1.8819m7.5872 1.2252c-0.61642-0.19134-1.0176-0.73818-1.2089-1.4796 0.56967-0.47943 1.2491-0.68056 1.8416-0.5077 0.6012 0.21091 1.0165 0.7621 1.1872 1.497-0.56532 0.47509-1.2209 0.68491-1.8199 0.49031m-1.6992 0.37398c0.4653-0.43486 0.6262-1.1122 0.49031-1.8536-0.711-0.20438-1.409-0.12284-1.8721 0.29571-0.48052 0.4316-0.62403 1.1122-0.49031 1.8406 0.71317 0.21852 1.4013 0.12068 1.8721-0.28266m1.1741-3.6224c-0.1185-0.62511-0.61533-1.0937-1.3307-1.347-0.55445 0.51966-0.82189 1.1643-0.69469 1.7742 0.13589 0.61206 0.6436 1.0872 1.3502 1.3415 0.53923-0.51096 0.81319-1.1513 0.67512-1.7688m18.561 5.1107c0.63925-0.0641 1.1524-0.52727 1.4796-1.2057-0.45008-0.59685-1.0719-0.94039-1.7025-0.87407-0.62511 0.0772-1.1404 0.53488-1.459 1.2035 0.45878 0.59902 1.0676 0.91756 1.6818 0.87625m1.1698-3.0875c0.27831-0.57185 0.86429-0.92843 1.597-1.0284 0.43269 0.61642 0.56641 1.3068 0.30984 1.8808-0.26092 0.56749-0.86646 0.93278-1.597 1.0295-0.41856-0.61859-0.56858-1.2915-0.30984-1.8819m-7.5742 1.2252c0.61533-0.19134 1.0252-0.73818 1.2002-1.4796-0.56967-0.47943-1.2383-0.68056-1.8242-0.5077-0.6262 0.21091-1.0274 0.7621-1.2144 1.497 0.58598 0.47509 1.2481 0.68491 1.8384 0.49031m1.6927 0.37398c-0.47182-0.43486-0.62511-1.1122-0.49248-1.8536 0.72731-0.20438 1.4198-0.12284 1.883 0.29571 0.45878 0.4316 0.62185 1.1122 0.47726 1.8406-0.711 0.21852-1.3992 0.12068-1.8677-0.28266m-1.1698-3.6224c0.13589-0.62511 0.63816-1.0937 1.3568-1.347 0.52618 0.51966 0.78275 1.1643 0.6599 1.7742-0.13154 0.61206-0.63272 1.0872-1.3394 1.3415-0.53379-0.51096-0.82406-1.1513-0.6773-1.7688m-7.1285 2.7288c0.5501-0.30549 0.84037-0.95017 0.86429-1.6894-0.66099-0.36093-1.3568-0.42181-1.8916-0.10002-0.5501 0.31854-0.83928 0.94039-0.87081 1.6992 0.66643 0.3381 1.3546 0.41855 1.8982 0.0902m1.7286 0c-0.53923-0.30549-0.83493-0.95017-0.86429-1.6894 0.6599-0.36093 1.3415-0.42181 1.9047-0.10002 0.54575 0.31854 0.83385 0.94039 0.86429 1.6992-0.66751 0.3381-1.3633 0.41855-1.9047 0.0902m-1.9025-3.2789c0-0.63924 0.40333-1.197 1.0382-1.5959 0.6349 0.39899 1.0469 0.9567 1.0469 1.5959 0 0.62512-0.41203 1.1785-1.0469 1.5894-0.6349-0.41094-1.0382-0.9643-1.0382-1.5894\",\n  fill: \"currentColor\",\n  strokeWidth: 1.0872\n});\n\nvar SvgBcn = function SvgBcn(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 90.557 112.28\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBcn, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/bcn.11e3bcb1.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\n\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nimport {ReactComponent as BcnIcon} from './bcn.svg';\n\nconst Icon = (props) => <svg { ...props } ><BcnIcon/></svg>;\nconst BcnLogo = (props) => <SvgIcon component={ Icon } { ...props } />;\n\nexport default BcnLogo;\n","import GHPages from '../Base/GHPages';\nimport cache from '../Base/Cache';\n\nconst BcnStaticHost = process.env.REACT_APP_BCN_STATIC_HOST ?? \"https://emibcn.github.io/covid-data/Bcn\";\nconst BcnDataStaticURL = `${BcnStaticHost}/index.json`;\n\n// Handle data backend and cache for BCN\nclass BcnDataHandler extends GHPages {\n\n  // Visible backend name\n  name = \"Barcelona JSON Files\";\n  indexUrl = BcnDataStaticURL;\n\n  // If index data is not passed, subscribe to index\n  // URL and parse its content once downloaded\n  constructor(index) {\n    super();\n\n    if (index) {\n      this.parseIndex(index);\n    }\n    else {\n      this.index( this.parseIndex );\n    }\n  }\n\n  // Invalidate all URLs, except index\n  invalidateAll = async () => {\n    for (const url of this.active) {\n      if (process.env.NODE_ENV === 'development') {\n        console.log(`${this.name}: Invalidate '?${url}'`);\n      }\n\n      await cache.invalidate( `${BcnStaticHost}/${url}` );\n    }\n  }\n\n  /*\n     Return dynamic data (with cache)\n  */\n  indexData = [];\n  index = (callback) => {\n    return cache.fetch( BcnDataStaticURL, callback );\n  }\n\n  parseIndex = (index) => {\n    // Save/cache index data\n    this.indexData = index;\n  }\n\n  // Active URLs: those which will be invalidated on update\n  active = [];\n\n  // Gets the breadcrumb of ancestors and the found node, or empty array (recursive)\n  findBreadcrumb = (node, value, compare = ({code}, value) => code === value) => {\n    if (node === null) {\n      node = {sections: this.indexData};\n    }\n    if ( compare(node, value) ) {\n      return [node]\n    }\n    else if ('sections' in node) {\n      for (const child of node.sections) {\n        const found = this.findBreadcrumb(child, value, compare);\n        if (found.length) {\n          return [...found, node]\n        }\n      }\n    }\n    return []\n  }\n\n  // Find a node in a tree\n  findChild = (node, value, compare) => {\n    const list = this.findBreadcrumb(node, value, compare);\n    if (list.length) {\n      return list[0];\n    }\n  }\n\n  // Find division/population section\n  findInitialNode = (dataset) => {\n    return this.indexData.find( ({code}) => code === dataset );\n  }\n\n  // Active URLs: those which will be invalidated on update\n  active = [];\n\n  // Fetch JSON data and subscribe to updates\n  data = (dataset, callback) => {\n\n    // Find region name in link and children, recursively\n    const found = this.findChild(null, dataset);\n\n    // TODO: We should do something else on error\n    if (!found) {\n      console.warn(`Could not find data in index: ${dataset}`, {\n        index: this.indexData,\n      });\n      callback(false);\n      return () => {};\n    }\n\n    // Add URL to active ones. Will be invalidated on update \n    if ( !(this.active.includes(found.values)) ) {\n      this.active.push(found.values);\n    }\n\n    // Get URL content (download or cached)\n    return cache.fetch( `${BcnStaticHost}/${found.values}`, callback );\n  }\n}\n\nexport default BcnDataHandler;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\n// UI-Material Styles\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  labelFixed: {\n    position: 'initial',\n    transform: 'unset',\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst FormDecorators = (props) => {\n  const classes = useStyles();\n  const { label, help, id, children, fixTree } = props;\n  return (\n    <div style={{ \n      margin: '0 auto',\n      display: 'block',\n    }}>\n      <FormControl required className={ classes.formControl }>\n        <InputLabel className={ fixTree ? classes.labelFixed : null } htmlFor={ id }>{ label }</InputLabel>\n        { children }\n        { help ? (\n            <FormHelperText id={ `helper-text-${id}` }>\n              { help }\n            </FormHelperText>\n          ) : null \n        }\n      </FormControl>\n    </div>\n  )\n}\n\nFormDecorators.propTypes = {\n  label: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  help: PropTypes.string,\n  fixTree: PropTypes.bool,\n};\n\nexport default FormDecorators;\n","import React from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport TreeView from '@material-ui/lab/TreeView';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport TreeItem from '@material-ui/lab/TreeItem';\n\nimport BcnData from '../../../Backend/Bcn';\n\n// From: https://material-ui.com/components/tree-view/#rich-object\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n};\n\nconst Tree = (props) => {\n  const {node} = props;\n  return (\n    <TreeItem key={node.code} nodeId={`${!('values' in node) ? 'DISABLED-' : ''}${node.code}`} label={node.title} >\n      {Array.isArray(node.sections) ? node.sections.map( node => <Tree node={node} />) : null}\n    </TreeItem>\n  )\n};\n\nclass RecursiveTreeView extends React.Component {\n\n  state = {\n    breadcrumb: [],\n  }\n\n  onNodeSelect = (event, value, ...rest) => {\n    // Don't save values for disabled nodes\n    if (!/^DISABLED-/.test(value)) {\n      this.props.onChange(value);\n    }\n  }\n \n  componentWillMount = () => {\n    const bcnData = new BcnData(this.props.bcnIndex);\n    const {value} = this.props;\n    this.setState({\n      value,\n      breadcrumb: bcnData\n        .findBreadcrumb(null, this.props.value)\n        .map(node => `${!('values' in node) ? 'DISABLED-' : ''}${node.code}`),\n    });\n  }\n\n  render = (props) => {\n    const { classes, bcnIndex, ...restProps } = this.props;\n    const { breadcrumb, value } = this.state;\n \n    return (\n      <TreeView\n        className={classes.root}\n        defaultCollapseIcon={<ExpandMoreIcon />}\n        defaultExpandIcon={<ChevronRightIcon />}\n        defaultExpanded={ breadcrumb }\n        defaultSelected={ value }\n        onNodeSelect={ this.onNodeSelect }\n        { ...restProps }\n      >\n        { bcnIndex\n            .filter( section => ['graph','chart'].includes(section.type) )\n            .map( section => <Tree key={section.code} node={section} />) }\n      </TreeView>\n    );\n  }\n}\n\nexport default withStyles(styles)(RecursiveTreeView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { translate } from 'react-translate'\n\n//import Divider from '@material-ui/core/Divider';\n\nimport {FormDecorators/*, Selector*/} from '../Common';\nimport DatasetSelector from './EditDataset';\n\n/*\n   Renders the edit form for the Map widget\n*/\nclass Edit extends React.PureComponent {\n\n  onChangeDataset = (value) => this.props.onChangeDataset(value);\n\n  render() {\n    const {\n      dataset,\n      bcnIndex,\n      t\n    } = this.props;\n\n    return (\n      <div style={{ textAlign: 'left' }}>\n        <FormDecorators\n          id={ 'sections-tree' }\n          label={ t(\"Select the dataset\") }\n          fixTree\n        >\n          <DatasetSelector\n            bcnIndex={ bcnIndex }\n            value={ dataset }\n            onChange={ this.onChangeDataset }\n          />\n        </FormDecorators>\n      </div>\n    )\n  }\n}\n\nEdit.propTypes = {\n  dataset: PropTypes.string.isRequired,\n  bcnIndex: PropTypes.array.isRequired,\n  onChangeDataset: PropTypes.func.isRequired,\n  onChangeSection: PropTypes.func.isRequired,\n};\n\nexport default translate('Widget/Bcn/Edit')(Edit);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport BcnLogo from './BcnLogo';\nimport {\n  faEdit,\n} from '@fortawesome/free-solid-svg-icons'\n\nimport BcnData from '../../../Backend/Bcn';\n\nimport Chart from '../Common/Chart';\n\nimport Edit from './Edit';\nimport Loading from '../../../Loading';\nimport withWidget from '../../Widget';\n\nconst ChartWrapper = withWidget({\n  // The normal view\n  view: {\n    icon: BcnLogo,\n    label: ({ t }) => t(\"View\"),\n    title: (props) => props.title,\n    render: (props) => {\n      const {\n        // translated\n        days: dies,\n        bcnData: data,\n        // Discarded\n        onChangeDataset,\n        onRemove, t,\n        // Passed through\n        ...restProps\n      } = props;\n      return (\n        <>\n          { !props.bcnData ? (\n              <Loading />\n            ) : (\n              <Chart\n                { ...{ dies, data } }\n                { ...restProps }\n              />\n            )\n          }\n        </>\n      );\n    }\n  },\n  // Edit data\n  edit: {\n    icon: <FontAwesomeIcon icon={ faEdit } />,\n    label: ({ t }) => t(\"Edit\"),\n    title: ({ t }) => t(\"Edit BCN parameters\"),\n    render: (props) => <Edit {...props} />,\n  },\n});\n\n/*\n   Combine BcnData backend with Chart\n*/\nclass ChartDataHandler extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    // Default values: first element of each's group\n    const { bcnIndex, dataset/*, section*/ } = props;\n\n    // TODO: Handle errors\n    this.BcnData = new BcnData(bcnIndex);\n    this.cancelDataUpdate = false;\n\n    this.state = {\n      bcnData: null,\n      ...this.getMeta(dataset, null)\n    }\n  }\n\n  defaultMeta = {\n    title: '...',\n    name: '...',\n    theme: null,\n    yAxis: null,\n    source: null,\n  }\n\n  // Get metadata from given params\n  getMeta = (dataset, bcnIndex) => {\n    if ( !bcnIndex ) {\n      return this.defaultMeta;\n    }\n    const found = this.BcnData.findChild(null, dataset);\n    if ( !found ) {\n      return this.defaultMeta;\n    }\n    const {title, description, theme, yAxis, source} = found;\n    return {\n      title,\n      name: title,\n      description,\n      theme,\n      yAxis,\n      source\n    }\n  }\n\n  // Fetch map data\n  updateData = () => {\n    const { dataset } = this.props;\n\n    // If there is an ongoing update, cancel the registration to it\n    if (this.cancelDataUpdate) {\n      this.cancelDataUpdate();\n    }\n\n    // Fetch JSON data and subscribe to updates\n    this.cancelDataUpdate = this.BcnData.data(\n      dataset,\n      (bcnData) => {\n        // Only update data if we didn't change confs in between\n        if ( dataset === this.props.dataset ) {\n          this.setState({\n            bcnData,\n            ...this.getMeta(dataset, bcnData),\n          });\n        }\n      });\n  }\n\n  // Ensure first data is gathered as soon as we have the component mounted\n  componentDidMount() {\n    this.updateData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // If bcnData is unset, gather new data\n    if( prevState.bcnData !== this.state.bcnData &&\n        this.state.bcnData === null ) {\n      this.updateData();\n    }\n    else if (\n      // If params changed, unset bcnData\n      this.props.dataset !== prevProps.dataset ) {\n      this.setState({\n        bcnData: null\n      });\n    }\n    else if ( this.props.bcnIndex !== prevProps.bcnIndex ) {\n      // If bcnIndex changed, re-create backend with new data\n      this.BcnData = new BcnData(this.props.bcnIndex);\n      this.setState({\n        bcnData: null\n      });\n    }\n  }\n\n  // Also, update metadata\n  onChange = (dataset, bcnData) => {\n    this.setState({\n      ...(bcnData === this.state.bcnData ? {bcnData} : {}),\n      ...this.getMeta(dataset, bcnData)\n    });\n    this.props.onChangeData(\n      this.props.id,\n      {\n        dataset,\n      });\n  }\n\n  // Datasets are on same data object\n  onChangeDataset = (dataset) => {\n    const { bcnData } = this.state;\n    this.onChange(dataset, bcnData);\n  }\n\n  render() {\n    const {\n      days,\n      indexValues,\n      id,\n      dataset,\n      bcnIndex\n    } = this.props; \n    const {\n      // Data\n      bcnData,\n      // Meta\n      title, name, description,\n      theme, yAxis, source\n    } = this.state;\n\n    return (\n      <div style={{\n        minWidth: '200px',\n        height: '100%',\n        paddingTop: '.3em',\n        flex: '1 1 0px',\n      }}>\n        <ChartWrapper\n          { ...{\n            id, dataset, bcnIndex, bcnData,\n            indexValues, days, title, name,\n            description, theme, yAxis, source\n          } }\n          onChangeDataset={ this.onChangeDataset }\n          onRemove={ this.props.onRemove }\n        />\n      </div>\n    );\n  }\n}\n\nChartDataHandler.defaultProps = {\n  dataset: 'IND_MOB_TRA_PUB',\n  onChangeData: () => {},\n  onRemove: () => {},\n};\n\nChartDataHandler.propTypes = {\n  days: PropTypes.arrayOf(PropTypes.string).isRequired,\n  indexValues: PropTypes.number.isRequired,\n  id: PropTypes.string.isRequired,\n  onChangeData: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  bcnIndex: PropTypes.oneOfType([PropTypes.array.isRequired, PropTypes.instanceOf(null)]),\n  dataset: PropTypes.string.isRequired,\n};\n\nexport default ChartDataHandler;\n","import Widget from './Widget';\n\nexport default Widget;\n","import React from 'react';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faGlobeEurope as faMap,\n  faChartArea as faChart\n} from '@fortawesome/free-solid-svg-icons'\n\nimport MapWidget from './Map';\nimport ChartWidget from './Chart';\nimport BcnWidget from './Bcn';\n\nimport BcnLogo from './Bcn/BcnLogo';\n\nconst WidgetsTypes = [\n  {\n    key: \"map\",\n    Component: MapWidget,\n    icon: <FontAwesomeIcon icon={ faMap } />,\n    name: \"Map\",\n  },\n  {\n    key: \"chart\",\n    Component: ChartWidget,\n    icon: <FontAwesomeIcon icon={ faChart } />,\n    name: \"Chart\",\n  },\n  {\n    key: \"bcn\",\n    Component: BcnWidget,\n    icon: <BcnLogo />,\n    name: \"Barcelona Chart\",\n  },\n];\n\nexport default WidgetsTypes;\n","// KISS Throtle\n// Ensures a function is not called more than once every timeout\n// - Run is banned while timer is on\n// - Run is ensured the first time (no timer is on) and when forced (you know it's the last time). In this case, timer is also cleared\n// - A last run IS NOT ensured if you don't recall after timer is out or manually forced\n// You can manually clear the timer if you want to ensure next run\nclass Throtle {\n\n  timer = false;\n\n  // Starts Throtle timer (bans running, except if forced)\n  start(timeout) {\n    this.timer = setTimeout( this.clear, timeout);\n  }\n\n  // Clear Throtle timer (allows running)\n  clear = () => {\n    if ( this.timer !== false ) {\n      clearTimeout( this.timer );\n      this.timer = false;\n    }\n  }\n\n  // Run function, if not throtled or if force == true\n  run(force, timeout, func) {\n    if ( force ) {\n      this.clear();\n    }\n\n    if ( this.timer === false ) {\n      this.start(timeout);\n      func();\n    }\n  }\n}\n\nexport default Throtle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { translate } from 'react-translate'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport SliderLib from '@material-ui/core/Slider';\nimport Tooltip from '@material-ui/core/Tooltip';\n\n// Magic for Play/Pause button\nimport './Slider.scss';\n\n// Use special non-intrusive zIndex for the Slider tooltip\nconst useStyles = makeStyles((theme) => ({\n  popper: {\n    zIndex: 1200\n  },\n  tooltip: {\n    fontSize: '1rem',\n  },\n}));\n\n// Component to render the label's value\nconst ValueLabelComponent = (props) => {\n  const { children, open, value } = props;\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      open={ open }\n      enterTouchDelay={ 0 }\n      placement=\"bottom\"\n      title={ value }\n      classes={{\n        popper: classes.popper,\n        tooltip: classes.tooltip,\n      }}\n      arrow\n    >\n      { children }\n    </Tooltip>\n  );\n}\n\nValueLabelComponent.propTypes = {\n  children: PropTypes.node.isRequired,\n  open: PropTypes.bool.isRequired,\n  value: PropTypes.node.isRequired,\n};\n\n// Render the Play/Pause button next to the Slider\nclass PlayPauseButtonUntranslated extends React.PureComponent {\n  onChange = () => {\n    if ( this.props.isPlaying ) {\n      this.props.onPause();\n    }\n    else {\n      this.props.onPlay();\n    }\n  }\n\n  // All the magic is done into the SCSS file Slider.sccs ;)\n  render() {\n    const { className, t } = this.props;\n    return (\n      <Tooltip title={ t(\"Toggle play status\") } aria-label={ !this.props.isPlaying ? t(\"play\") : t(\"pause\") }>\n        <div className={ `playpause ${className || ''}` }>\n          <input\n            type=\"checkbox\"\n            id=\"playpause\"\n            name=\"check\"\n            checked={ !this.props.isPlaying }\n            onChange={ this.onChange }\n            aria-label={ t(\"Toggle play status\") }\n          />\n          <label\n            htmlFor=\"playpause\"\n            style={{ borderLeftColor: '' }}\n          />\n        </div>\n      </Tooltip>\n    )\n  }\n}\n\n// Translate Play/Pause component\nconst PlayPauseButton = translate('PlayPause')(PlayPauseButtonUntranslated);\n\n/*\n   Renders a Slider with a play/pause button next to it, inside a\n   sticky container at the top of the page\n*/\nclass Slider extends React.PureComponent {\n\n  state = {\n    isPlaying: false\n  }\n\n  timer = false;\n\n  onPause = () => {\n    this.clearTimer();\n    this.setState({ isPlaying: false });\n  }\n\n  onPlay = () => {\n    this.setTimer();\n    this.setState({ isPlaying: true });\n  }\n\n  // TODO: Allow changing the timeout/speed\n  setTimer = () => {\n    this.clearTimer();\n    this.timer = setTimeout(this.updatePlay, 40);\n  }\n\n  clearTimer = () => {\n    if ( this.timer ) {\n      clearTimeout(this.timer);\n      this.timer = false;\n    }\n  }\n\n  updatePlay = () => {\n    this.props.onChange(\n      {}, // event\n      this.props.value < this.props.max - 1\n        ? this.props.value + 1\n        : 0\n    );\n    this.setTimer();\n  }\n\n  componentWillUnmount() {\n    // Cancel timer if is active\n    this.clearTimer();\n  }\n\n  render() {\n    const { isPlaying } = this.state;\n    const { classes = {}, ...restProps } = this.props;\n    const { playPause, ...restClasses } = classes;\n    return (\n      <>\n        <SliderLib\n          ValueLabelComponent={ ValueLabelComponent }\n          step={ 1 }\n          min={ 0 }\n          classes={{ ...restClasses }}\n          { ...restProps }\n        />\n        <PlayPauseButton\n           className={ playPause }\n           onPlay={ this.onPlay }\n           onPause={ this.onPause }\n           isPlaying={ isPlaying }\n        />\n      </>\n    )\n  }\n}\n\nexport default Slider;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport clsx from 'clsx';\n\nimport { withStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport MenuAddWidget from './MenuAddWidget';\nimport WidgetsTypes from './Widgets';\n\nimport MapData from '../Backend/Maps';\nimport ChartData from '../Backend/Charts';\nimport BcnData from '../Backend/Bcn';\n\nimport Throtle from '../Throtle';\nimport Slider from '../Slider';\nimport Loading from '../Loading';\n\nimport WidgetDataContextProvider from './DataContextProvider'; \nimport withPropHandler from './withPropHandler';\n\n// GUID generator: used to create unique dtemporal IDs for widgets\nconst S4 = () => (((1+Math.random())*0x10000)|0).toString(16).substring(1);\nconst guidGenerator = () => \"a-\"+S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4();\n\n// UI Material styles/classes\nconst useStyles = (theme) => ({\n  appBarSpacer: theme.mixins.toolbar,\n  widgetsContainer: {\n    zIndex: 10,\n    width: '100%',\n    margin: 0,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixed: {\n    position: 'sticky',\n    top: 0,\n    zIndex: 1200,\n    padding: 0,\n    // Not using it, adds a scrolling slider to the container on some screens\n    paddingBottom: 1,\n  },\n  sliderContainer: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(.5),\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    // Marks labels not shown under 'md'\n    [theme.breakpoints.up('md')]: {\n      marginBottom: theme.spacing(1),\n      alignItems: 'flex-start',\n    },\n    // This is for non-mouse pointers, which need some extra space for usability\n    // Not using it, adds a scrolling slider to the container on some screens\n    // eslint-disable-next-line no-useless-computed-key\n    ['@media (pointer: coarse)']: {\n      [theme.breakpoints.up('md')]: {\n        marginTop: theme.spacing(.5),\n        paddingBottom: theme.spacing(1),\n      },\n      [theme.breakpoints.down('sm')]: {\n        paddingBottom: theme.spacing(.1),\n      },\n    }\n  },\n  // Add some lateral space for the slider on larger displays\n  sliderRoot: {\n    [theme.breakpoints.up('md')]: {\n      marginLeft: theme.spacing(4),\n      marginRight: theme.spacing(4),\n    },\n    [theme.breakpoints.down('md')]: {\n      marginLeft: theme.spacing(3),\n      marginRight: theme.spacing(3),\n    },\n  },\n  // Save some space in buttons for small devices\n  addButton: {\n    padding: 0,\n    fontSize: theme.spacing(4),\n    boxShadow: '3px 3px 5px 2px rgba(100, 100, 100, .3)',\n    borderRadius: 3,\n    [theme.breakpoints.up('md')]: {\n      fontSize: theme.spacing(6),\n    },\n  },\n  // Play/pause button uses special CSS, so it does the font sizing\n  playPause: {\n    fontSize: theme.spacing(4/2),\n    [theme.breakpoints.up('md')]: {\n      fontSize: theme.spacing(6/2),\n    },\n  },\n});\n\n// Renders widgets list\n// - Manages days list (using backend) and current selected day with a Slider\n// - Receives managed plugins params from props (with context providers and consumer)\n// - Receives Widgets param modification events and calls parents param event\n//   handlers callbacks with processed data:\n//   - Add\n//   - Edit\n//   - Remove\n// - Blindly (with `payload`) handles different types of widgets depending on passed/saved\n//   params from URL and localStorage\nclass WidgetsList extends React.PureComponent {\n\n  // Managed data: days & currently selected day\n  state = {\n    days: null,\n    chartsIndex: null,\n    bcnIndex: null,\n    current: null,\n    marks: [],\n    marksSmall: [],\n  }\n\n  // Widgets list temporal IDs\n  // Used to maintain widget uniqueness during a session\n  widgetsIds = [];\n\n  // Used in the slider to prevent blocking the UI\n  // with excessive calls on mouse move\n  throtle = new Throtle();\n\n  // Map Data backend\n  // TODO: Handle errors\n  MapData = new MapData();\n\n  // Chart Data backend\n  // TODO: Handle errors\n  ChartData = new ChartData();\n\n  // BCN Data backend\n  // TODO: Handle errors\n  BcnData = new BcnData();\n\n  constructor(props) {\n    super(props);\n    // Generate initial list of unique IDs\n    if ('widgets' in props) {\n      this.updateIDs(props.widgets.length);\n    }\n  }\n\n  // Fetch data once mounted\n  componentDidMount() {\n    this.MapData.days(\n      days => {\n        // Are we on the last time serie element before update?\n        const isLast =\n          !this.state.current ||\n          !this.state.days ||\n          this.state.current === this.state.days.length - 1;\n\n        // Marks on the slider\n        const marks = days\n          // Remember index\n          .map( (day, index) => ({day, index}))\n          // Get first day of each month\n          .filter( ({day, index}) => /^0?1\\//.test(day) )\n          // Map to Slider marks schema and remove initial `0`\n          .map( ({day, index}) => ({ value: index, label: day.replace(/^0/, '') }) );\n\n        this.setState({\n          days,\n\n          // Marks on the slider (small devices: no labels)\n          marks,\n          marksSmall: marks.map( ({value}) => ({value})),\n\n          // If we were on last item, go to the new last\n          ...(isLast ? {current: days.length - 1} : {}) \n        });\n\n        // Once data has been fetched, schedule next data update\n        // Mind the timer on unmount\n        this.MapData.scheduleNextUpdate();\n      });\n    this.ChartData.index(\n      chartsIndex => {\n\n        this.setState({ chartsIndex });\n\n        // Once data has been fetched, schedule next data update\n        // Mind the timer on unmount\n        this.ChartData.scheduleNextUpdate();\n      });\n    this.BcnData.index(\n      bcnIndex => {\n\n        this.setState({ bcnIndex });\n\n        // Once data has been fetched, schedule next data update\n        // Mind the timer on unmount\n        this.BcnData.scheduleNextUpdate();\n      });\n  }\n\n  // Cleanup side effects\n  componentWillUnmount() {\n    // Cancel next update timers\n    this.MapData.cancelUpdateSchedule();\n    this.ChartData.cancelUpdateSchedule();\n    this.BcnData.cancelUpdateSchedule();\n\n    // Cancel possible throtle timer\n    this.throtle.clear();\n  }\n\n  componentDidUpdate() {\n    this.updateIDs(this.props.widgets.length);\n  }\n\n  // Ensure all widgets have ID\n  updateIDs = (length) => {\n    while ( this.widgetsIds.length < length ) {\n      this.widgetsIds.push( guidGenerator() );\n    }\n  }\n\n  // Slider helpers\n  onSetDate = (event, current) => this.throtle.run(false, 10, () => this.setState({ current }) );\n  sliderTipFormatter = value => this.state.days[value];\n\n  // Adds a new default widget to the list\n  onAdd = (widgetType) => {\n    const widgets = [...this.props.widgets];\n    widgets.push({ type: widgetType??'map' });\n    this.updateIDs(widgets.length);\n    return this.props.onChangeData({ widgets });\n  }\n\n  // Handle onRemove event from widget\n  // Uses `this.widgetsIDs` for widget identification\n  // Calls parent' onChangeData to save the data\n  onRemove = id => {\n    const widgets = this.props.widgets.filter( (w,index) => this.widgetsIds[index] !== id);\n    this.widgetsIds = this.widgetsIds.filter( idElement => idElement !== id);\n    return this.props.onChangeData({ widgets });\n  }\n\n  // Handle onChangeData event from widget\n  // Calls parent' onChangeData to save the data\n  onChangeData = (id, data) => {\n    const { widgets } = this.props;\n    const widgetsNew = widgets.map( (w,i) => ({ ...w, ...(id === this.widgetsIds[i] ? {payload: data} : {} ) }) )\n    return this.props.onChangeData({ widgets: widgetsNew });\n  }\n\n  render() {\n\n    // KISS Loading\n    if ( !this.state.days || !this.state.chartsIndex ) {\n      return <Loading />;\n    }\n\n    const { widgets, classes, showMarkLabels } = this.props;\n    const { days, chartsIndex, bcnIndex, current, marks, marksSmall } = this.state;\n    const fixedPaper = clsx(classes.paper, classes.fixed);\n\n    return (\n      <>\n        <Paper className={ fixedPaper } elevation={ 2 }>\n          {/* Space used by the App Bar fixed positioned */}\n          <div className={ classes.appBarSpacer } />\n          {/*\n          <Container maxWidth=\"lg\" className={classes.container}>\n            <h3>HELLO WORLD!</h3>\n          </Container>\n          */}\n\n          <div className={ classes.sliderContainer } >\n\n            {/* Add an item */}\n            <MenuAddWidget\n              onAdd={ this.onAdd }\n              className={ classes.addButton }\n              options={ WidgetsTypes }\n            />\n\n            {/* Days display & Current manager */}\n            <Slider\n              classes={{\n                root: classes.sliderRoot,\n                playPause: classes.playPause,\n              }}\n              max={ days.length - 1 }\n              value={ current || 0 }\n              onChange={ this.onSetDate }\n              valueLabelFormat={ this.sliderTipFormatter }\n              getAriaValueText={ this.sliderTipFormatter }\n              // Marks without labels for small screens\n              marks={ showMarkLabels ? marks : marksSmall }\n              // Always visible on small screens\n              valueLabelDisplay={ showMarkLabels ? null : \"on\" }\n            />\n          </div>\n        </Paper>\n\n        {/* Widgets container */}\n        <Grid container spacing={3} className={classes.widgetsContainer}>\n          {/* Widgets list */}\n          { widgets.map( (widget, index) => {\n              const { Component } = WidgetsTypes.find(w => w.key === widget.type );\n              return (\n                <Grid item xs={12} sm={6} md={4} lg={3} key={ this.widgetsIds[index] }>\n                  <Component\n                    id={ this.widgetsIds[index] }\n                    key={ this.widgetsIds[index] }\n                    days={ days }\n                    chartsIndex={ chartsIndex }\n                    bcnIndex={ bcnIndex }\n                    indexValues={ current }\n                    onChangeData={ this.onChangeData }\n                    onRemove={ this.onRemove }\n                    { ...widget.payload }\n                  />\n                </Grid>\n              )\n            })\n          }\n        </Grid>\n      </>\n    );\n  }\n}\n\nWidgetsList.propTypes = {\n  widgets: PropTypes.array.isRequired,\n  onChangeData: PropTypes.func.isRequired,\n};\n\n// Get showMarkLabels prop using MediaQuery\n// Used to prevent showing mark labels on small screens\nconst withShowMarkLabels = (Component) => {\n  return (props) => {\n    const theme = useTheme();\n    const showMarkLabels = useMediaQuery(theme.breakpoints.up('md'));\n    return <Component { ...props } { ...{ showMarkLabels } } />\n  }\n};\n\n// withPropHandler: Handle params from providers (route + localStorage) into props\n// withStyles: Add `classes` prop for styling components\n// withShowMarkLabels: Add `showMarkLabels` breakpoint to sho/hide Slider mark labels depending on sreen size\nconst WidgetsListWithPropHandler =\n  withPropHandler(\n    withStyles(useStyles)(\n      withShowMarkLabels(\n        WidgetsList\n  )));\n\n// Manage some context providers details:\n// - pathFilter: How to split `location` (Route `path` prop)\n// - paramsFilter: Parse `location` parts defined ^\n// - paramsToString: Parse back a JS object into a `location` path\nconst WidgetsListWithContextProviders = (props) => (\n  <WidgetDataContextProvider\n    pathFilter={ '/:widgets*' }\n    paramsFilter={ (params) => {\n      const { widgets } = params;\n      let widgetsParsed;\n\n      try {\n        widgetsParsed = widgets.split('/').map( w => JSON.parse( decodeURIComponent(w) ) );\n      } catch(err) {\n        widgetsParsed = [];\n      }\n\n      return Object.assign({}, props, {\n        widgets: widgetsParsed\n      });\n    }}\n    paramsToString={ (params) => {\n      const widgets = params.widgets.map(\n        w => encodeURIComponent( JSON.stringify({ type: w.type, payload: w.payload }) )\n      ).join('/');\n      return `/${widgets}`\n    }}\n  >\n    <WidgetsListWithPropHandler { ...props } />\n  </WidgetDataContextProvider>\n);\n\nexport default WidgetsListWithContextProviders;\n","import React from 'react';\n\nimport { translate } from 'react-translate'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faInfoCircle as faAbout,\n} from '@fortawesome/free-solid-svg-icons'\n\nclass About extends React.Component {\n  render() {\n    const { t } = this.props;\n    return (\n      <>\n        <h1 id=\"modal_heading\">\n          <FontAwesomeIcon icon={ faAbout } style={{ marginRight: '.5em' }} />\n          { t(\"About\") }\n        </h1>\n        <div id=\"modal_description\" style={{ textAlign: 'left' }}>\n          <p>\n            { t(\"This applications displays public information extracted from the official web\") }{' '}\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://dadescovid.cat\">https://dadescovid.cat</a>\n            .\n          </p>\n          <p>\n            { t(\"The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.\") }\n          </p>\n\n          <h3>{ t(\"Want more information?\") }</h3>\n          <p><a target='_blank' rel=\"noopener noreferrer\" href='https://github.com/emibcn/covid'>{ t(\"The source code is publicly available.\") }</a>{' '}\n          { t(\"There, you can find more information about how it has been done, licence and credits.\") }</p>\n\n          <h3>{ t(\"Found a bug? Have a petition? Want to help somehow?\") }</h3>\n          <p><a target='_blank' rel=\"noopener noreferrer\" href='https://github.com/emibcn/covid/issues'>{ t(\"Create an issue at GitHub.\") }</a></p>\n\n          <h3>{ t(\"Licenses\") }</h3>\n          <p>\n            { t(\"The application, scripts and documentation in\") }{' '}\n            <a target='_blank' rel=\"noopener noreferrer\" href='https://github.com/emibcn/covid'>{ t(\"this project\") }</a>{' '}\n            { t(\"are released under the\") }{' '}\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/emibcn/covid/blob/master/LICENSE\">GNU General Public License v3.0</a>\n            .\n          </p>\n          <p>\n            { t(\"The scripts and documentation published in\") }{' '}\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/emibcn/covid-data/\">covid-data</a>{' '}\n            { t(\"are also released under the\") }{' '}\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/emibcn/covid/blob/master/LICENSE\">GNU General Public License v3.0</a>\n            .\n          </p>\n          <p>\n            { t(\"The data scrapped and published in\") }{' '}\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/emibcn/covid-data/\">covid-data</a>{' '}\n            { t(\"is licensed by their owner, the\") }{' '}<em>Generalitat de Catalunya</em>\n            { t(\", under their own conditions (\") }\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://opendatacommons.org/licenses/by/1.0/\">Open Data Commons Attribution License</a>\n            { t(\", until now).\") }{' '}\n            { t(\"See more at the\") }{' '}\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://analisi.transparenciacatalunya.cat/Salut/Dades-setmanals-de-COVID-19-per-comarca/jvut-jxu8\">{ t(\"dataset API documentation\") }</a>\n            .\n          </p>\n\n        </div>\n      </>\n    )\n  }\n}\n\nexport default translate('About')(About);\n","import React from \"react\";\n\nimport { translate } from \"react-translate\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLanguage } from \"@fortawesome/free-solid-svg-icons\";\nimport available from \"./i18n/available\";\n\nclass Language extends React.Component {\n  render() {\n    const { t, language, onLanguageChange } = this.props;\n\n    const filteredLanguages = available.reduce((languages, current) => {\n      if (!languages.find((item) => item.label === current.label)) {\n        return languages.concat([current]);\n      } else {\n        return languages;\n      }\n    }, []);\n\n    return (\n      <>\n        <h1 id=\"modal_heading\">\n          <FontAwesomeIcon icon={faLanguage} style={{ marginRight: \".5em\" }} />\n          {t(\"Language\")}\n        </h1>\n        <div>\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"language\"\n              name=\"language\"\n              value={language}\n              onChange={(e) => onLanguageChange(e.target.value)}\n            >\n              {filteredLanguages.map((ele, index) => (\n                <FormControlLabel\n                  key={index}\n                  value={ele.key}\n                  control={<Radio />}\n                  label={ele.label}\n                />\n              ))}\n            </RadioGroup>\n          </FormControl>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default translate(\"Language\")(Language);\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport clsx from 'clsx';\nimport { translate } from 'react-translate'\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport Link from '@material-ui/core/Link';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Badge from '@material-ui/core/Badge';\n/*\nimport NotificationsIcon from '@material-ui/icons/Notifications';\n*/\n\nimport Menu from './Menu';\nimport ModalRouter from './ModalRouter';\nimport ErrorCatcher from './ErrorCatcher';\nimport About from './About';\nimport Language from './Language';\n\nconst withErrorCatcher = (origin, component) => <ErrorCatcher {...{ origin , key: origin }}>{ component }</ErrorCatcher>;\n\nconst Copyright = translate('Copyright')((props) => {\n  const { t } = props;\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"https://github.com/emibcn/covid\">\n        { t(\"Source code of:\") }{' '}\n        <em>\n          { t(\"Covid Data\") }{' '}\n          <code>{ t(\"Refactored\") }</code>\n        </em>\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n});\n\nconst AppThemeProvider = (props) => {\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const { type, children } = props;\n\n  const theme = React.useMemo(\n    () =>\n      createMuiTheme({\n        palette: {\n          type: type ?\n                  type :\n                  prefersDarkMode ?\n                    'dark' :\n                    'light',\n        },\n      }),\n    [prefersDarkMode, type],\n  );\n\n  return (\n    <ThemeProvider theme={ theme }>\n      <CssBaseline />\n      { children }\n    </ThemeProvider>\n  );\n}\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n}));\n\nconst RoutesModal = (props) => {\n  const { language, onLanguageChange } = props.routeProps;\n  return (\n    <ModalRouter force={ false } >\n      <Route\n        exact\n        path='about'\n        render={ props => withErrorCatcher('About', <About />) }\n      />\n      <Route\n        exact\n        path=\"language\"\n        render={(props) =>\n          withErrorCatcher(\n            \"Language\",\n            <Language language={language} onLanguageChange={onLanguageChange} />\n          )\n        }\n      />\n    </ModalRouter>\n  )\n};\n\nconst Dashboard = (props) => {\n  const classes = useStyles();\n  const { children, theme, t, ...restProps } = props;\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n  const shouldShowUpdateBadge = useMediaQuery(createMuiTheme().breakpoints.down('md')) && props.newServiceWorkerDetected;\n\n  return (\n    <AppThemeProvider type={ theme } >\n      <RoutesModal routeProps={props} />\n      <div id=\"root\" className={classes.root}>\n        <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\n          <Toolbar className={classes.toolbar}>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"open menu\"\n              onClick={handleDrawerOpen}\n              className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\n            >\n              <Badge badgeContent={1} color={\"secondary\"} invisible={!shouldShowUpdateBadge}>\n                <MenuIcon />\n              </Badge>\n            </IconButton>\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n              { t(\"Covid Data\") }{' '}\n              <code>{ t(\"Refactored\") }</code>\n            </Typography>\n            {/*\n            <IconButton color=\"inherit\">\n              <Badge badgeContent={4} color=\"secondary\">\n                <NotificationsIcon />\n              </Badge>\n            </IconButton>\n            */}\n          </Toolbar>\n        </AppBar>\n        <Menu { ...{ handleDrawerOpen, handleDrawerClose, open } } { ...restProps } />\n        <main className={classes.content}>\n          { children }\n          <Container maxWidth=\"lg\" className={classes.container}>\n            <Box pt={4}>\n              <Copyright />\n            </Box>\n          </Container>\n        </main>\n      </div>\n    </AppThemeProvider>\n  );\n}\n\nexport default translate('Widget')(Dashboard);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// Callback to call when user accepts loading new service worker\n// - Send message to SW to trigger the update\n// - Once updated, reload this window to load new assets\nconst updateSW = (registration) => {\n  if ( registration.waiting ) {\n\n    // When the user asks to refresh the UI, we'll need to reload the window\n    let preventDevToolsReloadLoop;\n    navigator.serviceWorker.addEventListener('controllerchange', (event) => {\n\n      // Ensure refresh is only called once.\n      // This works around a bug in \"force update on reload\".\n      if (preventDevToolsReloadLoop) {\n        return;\n      }\n\n      preventDevToolsReloadLoop = true;\n      console.log('Controller loaded');\n      global.location.reload(true);\n    });\n\n    // Send a message to the new serviceWorker to activate itself\n    registration.waiting.postMessage('skipWaiting');\n  }\n};\n\n\n// Render the App\nReactDOM.render(\n  <React.StrictMode>\n    <App onLoadNewServiceWorkerAccept={ updateSW } />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register({\n\n  // When new ServiceWorker is available, trigger an event on `document`,\n  // passing `registration` as extra data\n  onUpdate: registration => {\n    const event = new CustomEvent('onNewServiceWorker', { detail: { registration } });\n    document.dispatchEvent(event);\n  }\n\n});\n"],"sourceRoot":""}