(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{105:function(e,t,a){"use strict";var n=a(10),r=a(16),i=a(13),o=a(12),c=a(0),l=a.n(c),s=a(24),u=a(25),d=a(19),p=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).reloadApp=function(){r.sendEvent("Reload from Error"),window.location.reload()},r.state={hasError:!1,errorMessage:"",errorStack:"",info:""},r}return Object(r.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({info:t.componentStack}),this.sendEvent("Unhandled Error")}},{key:"sendEvent",value:function(e){this.props.sendEvent(e,this.props.origin,this.state.errorMessage)}},{key:"render",value:function(){if(this.state.hasError){var e=this.props.t,t=this.state,a=t.errorMessage,n=t.errorStack;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,e("Something went wrong :(")),l.a.createElement("button",{onClick:this.reloadApp,style:{padding:"1em"}},l.a.createElement(s.a,{icon:u.h,style:{margin:"0 .8em 0 .2em"}}),e("Try reloading the app to recover from it")),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h3",null,a),l.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},n)))}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorMessage:e.message,errorStack:e.stack}}}]),a}(l.a.PureComponent);p.defaultProps={origin:"No name",sendEvent:function(){}},t.a=Object(d.translate)("ErrorCatcher")(p)},109:function(e,t,a){"use strict";var n=a(5),r={"Covid Data - Refactored":"Dades Covid - Refactoritzada","Covid Data":"Dades Covid",Refactored:"Refactoritzada",Close:"Tanca",About:"Quant a...",Language:"Idioma",Help:"Ajuda",Yes:"Si",No:"No",or:"o"},i={Dataset:"Conjunt de dades","Select the dataset":"Selecciona el conjunt de dades a usar"},o={locale:"fr",name:"Catal\xe0",App:Object(n.a)({},r),Copyright:Object(n.a)({},r,{"Source code of:":"Codi font de"}),ErrorCatcher:Object(n.a)({},r,{"Something went wrong :(":"Alguna cosa ha anat malament :(","Try reloading the app to recover from it":"Intenta recarregar l'aplicaci\xf3 per a continuar"}),Menu:Object(n.a)({},r,{Menu:"Men\xfa","Update!":"Actualitza!","New update available!":"Nova versi\xf3 disponible!"}),ModalRouter:Object(n.a)({},r),About:Object(n.a)({},r,{"This applications displays public information extracted from the official web":"Aquesta aplicaci\xf3 mostra informaci\xf3 p\xfablica extreta de la p\xe1gina web oficial","The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.":"La finalitat d'aquesta aplicaci\xf3 \xe9s mostrar les dades de formes diferents a l'original, millorant-ne el rendiment i afegint-ne m\xe9s valor.","Want more information?":"Vols m\xe9s informaci\xf3?","The source code is publicly available.":"El codi font \xe9s p\xfablicament accessible.","There, you can find more information about how it has been done, licence and credits.":"All\xe0 trobar\xe0s m\xe9s informaci\xf3 sobre com s'ha fet, llic\xe8ncies i cr\xe8dits.","Found a bug? Have a petition? Want to help somehow?":"Has trobat un error? Tens una petici\xf3? Vols ajudar d'alguna forma?","Create an issue at GitHub.":"Crea una incid\xe8ncia a GitHub",Licenses:"Llic\xe8ncies","The application, scripts and documentation in":"L'aplicaci\xf3, scripts i documentaci\xf3 a","this project":"aquest projecte","are released under the":"han sigut alliberats sota la","The scripts and documentation published in":"Els scripts i documentaci\xf3 publicats a","are also released under the":"tamb\xe9 estan alliberades sota la","The data scrapped and published in":"Les dades aconseguides de la web oficial i publicades a","is licensed by their owner, the":"ha estat llicenciada pel seu propietari, la",", under their own conditions (":", sota les seves pr\xf2pies condicions (",", until now).":", fins ara).","See more at the":"Pots trobar m\xe9s informaci\xf3 a la","dataset API documentation":"documentaci\xf3 de l'API del dataset"}),Language:Object(n.a)({},r),Help:Object(n.a)({},r),WidgetsList:Object(n.a)({},r),MenuAddWidget:Object(n.a)({},r,{Map:"Mapa",Chart:"Gr\xe0fic","Add a graph":"Afegeix un gr\xe0fic",add:"afegeix","Barcelona Chart":"Gr\xe0fic de Barcelona"}),PlayPause:Object(n.a)({},r,{"Toggle play status":"Commuta l'estat de reproducci\xf3",play:"Reprodueix",pause:"Pausa"}),Widget:Object(n.a)({},r,{remove:"elimina",Remove:"Elimina","Remove?":"Eliminar?","Confirm removal":"Confirma l'eliminaci\xf3",View:"Veure",Edit:"Edita",Legend:"Llegenda","Edit map parameters":"Edita les opcions del mapa","Edit chart parameters":"Edita les opcions del gr\xe0fic","Edit BCN parameters":"Edita les opcions de l'element de BCN"}),"Widget/Map/Edit":{Type:"Tipus","Select the regions type to show":"Selecciona el tipus de regions a mostrar",Values:"Valors","Select the data origin":"Selecciona l'origen de les dades"},"Widget/Chart/Edit":Object(n.a)({},i,{Division:"Divisi\xf3 territorial","Select the division type to show":"Selecciona la divisi\xf3 territorial a usar",Population:"Poblaci\xf3","Select the population":"Selecciona la poblaci\xf3","Extensi\xf3":"Extensi\xf3","Risc iEPG":"Risc iEPG",Region:"Regi\xf3","Select the region":"Selecciona la regi\xf3"}),"Widget/Bcn/Edit":Object(n.a)({},i)},c={"Covid Data - Refactored":"Datos Covid - Refactorizada","Covid Data":"Datos Covid",Refactored:"Refactorizada",Close:"Cerrar",About:"Sobre...",Language:"Idioma",Help:"Ayuda",Yes:"S\xed",No:"No",or:"o"},l={Dataset:"Conjunto de datos","Select the dataset":"Seleccionar el conjunto de datos a usar"},s={locale:"es",name:"Castellano",App:Object(n.a)({},c),Copyright:Object(n.a)({},c,{"Source code of:":"C\xf3digo fuente de"}),ErrorCatcher:Object(n.a)({},c,{"Something went wrong :(":"Algo ha ido mal :(","Try reloading the app to recover from it":"Intenta recargar la aplicaci\xf3n para continuar"}),Menu:Object(n.a)({},c,{Menu:"Men\xfa","Update!":"\xa1Actualizar!","New update available!":"\xa1Nueva actualizaci\xf3n disponible!"}),ModalRouter:Object(n.a)({},c),About:Object(n.a)({},c,{"This applications displays public information extracted from the official web":"Esta aplicaci\xf3n muestra informaci\xf3n p\xfablica extra\xedda de la p\xe1gina web oficial","The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.":"El prop\xf3sito de esta aplicaci\xf3n es mostrar los datos de una manera distinta al original, mejorando su rendimiento y a\xf1adi\xe9ndole m\xe1s valor.","Want more information?":"\xbfQuieres saber m\xe1s?","The source code is publicly available.":"El c\xf3digo fuente est\xe1 disponible al p\xfablico.","There, you can find more information about how it has been done, licence and credits.":"Ah\xed puedes encontrar m\xe1s informaci\xf3n sobre c\xf3mo se ha hecho, la licencia y los cr\xe9ditos.","Found a bug? Have a petition? Want to help somehow?":"\xbfHas encontrado un bug? \xbfTienes alguna petici\xf3n? \xbfQuieres ayudar de alguna forma?","Create an issue at GitHub.":"Abre un nuevo issue en GitHub.",Licenses:"Licencias","The application, scripts and documentation in":"La aplicaci\xf3n, scripts y documentaci\xf3n de","this project":"este projecto","are released under the":"est\xe1n publicados bajo la","The scripts and documentation published in":"Los scripts y la documentaci\xf3n publicada en","are also released under the":"tambi\xe9n est\xe1n publicados bajo la","The data scrapped and published in":"Los datos recolectados y publicados en","is licensed by their owner, the":"est\xe1 bajo la licencia de su propietario, ",", under their own conditions (":", bajo sus propias condiciones (",", until now).":", hasta ahora).","See more at the":"Ver m\xe1s en la","dataset API documentation":"documentaci\xf3n de la API del dataset"}),Language:Object(n.a)({},c),Help:Object(n.a)({},c),WidgetsList:Object(n.a)({},c),MenuAddWidget:Object(n.a)({},c,{Map:"Mapa",Chart:"Gr\xe1fico","Barcelona Chart":"Gr\xe1fico de Barcelona","Add a graph":"A\xf1adir un gr\xe1fico",add:"a\xf1adir"}),PlayPause:Object(n.a)({},c,{"Toggle play status":"Conmutat el estado de reproducci\xf3n",play:"reproducir",pause:"detener"}),Widget:Object(n.a)({},c,{remove:"eliminar",Remove:"Eliminar","Remove?":"Eliminar?","Confirm removal":"Confirmar la eliminaci\xf3n",View:"Ver",Edit:"Editar",Legend:"Leyenda","Edit map parameters":"Editar las opciones del mapa","Edit chart parameters":"Editar las opciones del gr\xe1fico","Edit BCN parameters":"Editar las opciones del elemento de BCN"}),"Widget/Map/Edit":{Type:"Tipo","Select the regions type to show":"Seleccionar el tipo de regiones a mostrar",Values:"Valores","Select the data origin":"Selecciona el origen de los datos"},"Widget/Chart/Edit":Object(n.a)({},l,{Division:"Divisi\xf3n territorial","Select the division type to show":"Seleccionar la divisi\xf3n territorial a usar",Population:"Poblaci\xf3n","Select the population":"Seleccionar la poblaci\xf3n","Extensi\xf3":"Extensi\xf3n","Risc iEPG":"Riesgo iEPG",Region:"Regi\xf3n","Select the region":"Seleccionar la regi\xf3n"}),"Widget/Bcn/Edit":Object(n.a)({},l)},u={"Covid Data - Refactored":"Covid Data - Refactored","Covid Data":"Covid Data",Refactored:"Refactored",Close:"Close",About:"About...",Language:"Language",Help:"Help",Yes:"Yes",No:"No",or:"or"},d={Dataset:"Dataset","Select the dataset":"Select the dataset"},p={locale:"en",name:"English",App:Object(n.a)({},u),Copyright:Object(n.a)({},u,{"Source code of:":"Source code of:"}),ErrorCatcher:Object(n.a)({},u,{"Something went wrong :(":"Something went wrong :(","Try reloading the app to recover from it":"Try reloading the app to recover from it"}),Menu:Object(n.a)({},u,{Menu:"Menu","Update!":"Update!","New update available!":"New update available!"}),ModalRouter:Object(n.a)({},u),About:Object(n.a)({},u,{"This applications displays public information extracted from the official web":"This applications displays public information extracted from the official web","The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.":"The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.","Want more information?":"Want more information?","The source code is publicly available.":"The source code is publicly available.","There, you can find more information about how it has been done, licence and credits.":"There, you can find more information about how it has been done, licence and credits.","Found a bug? Have a petition? Want to help somehow?":"Found a bug? Have a petition? Want to help somehow?","Create an issue at GitHub.":"Create an issue at GitHub.",Licenses:"Licenses","The application, scripts and documentation in":"The application, scripts and documentation in","this project":"this project","are released under the":"are released under the","The scripts and documentation published in":"The scripts and documentation published in","are also released under the":"are also released under the","The data scrapped and published in":"The data scrapped and published in","is licensed by their owner, the":"is licensed by their owner, the",", under their own conditions (":", under their own conditions (",", until now).":", until now).","See more at the":"See more at the","dataset API documentation":"dataset API documentation"}),Language:Object(n.a)({},u),Help:Object(n.a)({},u),WidgetsList:Object(n.a)({},u),MenuAddWidget:Object(n.a)({},u,{Map:"Map",Chart:"Chart","Barcelona Chart":"Barcelona Chart","Add a graph":"Add a graph",add:"add"}),PlayPause:Object(n.a)({},u,{"Toggle play status":"Toggle play status",play:"play",pause:"pause"}),Widget:Object(n.a)({},u,{remove:"remove",Remove:"Remove","Remove?":"Remove?","Confirm removal":"Confirm removal",View:"View",Edit:"Edit",Legend:"Legend","Edit map parameters":"Edit map parameters","Edit chart parameters":"Edit chart parameters","Edit BCN parameters":"Edit BCN parameters"}),"Widget/Map/Edit":{Type:"Type","Select the regions type to show":"Select the regions type to show",Values:"Values","Select the data origin":"Select the data origin"},"Widget/Chart/Edit":Object(n.a)({},d,{Division:"Division","Select the division type to show":"Select the division type to show",Population:"Population","Select the population":"Select the population","Extensi\xf3":"Extensi\xf3","Risc iEPG":"Risc iEPG",Region:"Region","Select the region":"Select the region"}),"Widget/Bcn/Edit":Object(n.a)({},d)},m={"Covid Data - Refactored":"Covid Data - Refactored","Covid Data":"Covid Data",Refactored:"Refactored",Close:"Zamknij",About:"O Covid Data...",Language:"J\u0119zyk",Help:"Pomoc",Yes:"Tak",No:"Nie",or:"albo"},h={Dataset:"Dane","Select the dataset":"Wybierz zbi\xf3r danych"},f={locale:"pl",name:"Polish",App:Object(n.a)({},m),Copyright:Object(n.a)({},m,{"Source code of:":"Kod \u017ar\xf3d\u0142owy:"}),ErrorCatcher:Object(n.a)({},m,{"Something went wrong :(":"Co\u015b posz\u0142o nie tak :(","Try reloading the app to recover from it":"Spr\xf3buj od\u015bwie\u017cy\u0107 stron\u0119 by si\u0119 z tego wydosta\u0107"}),Menu:Object(n.a)({},m,{Menu:"Menu","Update!":"Aktualizacja!","New update available!":"Nowa aktualizacja dost\u0119pna!"}),ModalRouter:Object(n.a)({},m),About:Object(n.a)({},m,{"This applications displays public information extracted from the official web":"Aplikacja pokazuje publicznie dost\u0119pne informacje z oficjalnych \u017ar\xf3de\u0142","The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.":"Celem aplikacji jest pokazanie danych w inny spos\xf3b ni\u017c dotychczas dost\u0119pne, poprawienie wydajno\u015bci oraz warto\u015bciowe ich ukazanie","Want more information?":"Potrzebujesz wi\u0119cej informacji?","The source code is publicly available.":"Kod \u017ar\xf3d\u0142owy jest dost\u0119pny publicznie.","There, you can find more information about how it has been done, licence and credits.":"Tutaj mo\u017cesz znale\u017a\u0107 informacje o powstawaniu aplikacji, licencjach oraz autorach.","Found a bug? Have a petition? Want to help somehow?":"B\u0142\u0105d? Pomys\u0142? Chcesz pom\xf3c?","Create an issue at GitHub.":"Stw\xf3rz ticket na GitHubie.",Licenses:"Licencje","The application, scripts and documentation in":"Aplikacja, skrypty i dokumentacja w","this project":"ten projekt","are released under the":"jest wydawany w ramach","The scripts and documentation published in":"Skrypty i dokumentacja udost\u0119pniona w ","are also released under the":"tak\u017ce udost\u0119pniane jako","The data scrapped and published in":"Dane pochodz\u0105ce i udost\u0119pnione w","is licensed by their owner, the":"licencjonowane przez w\u0142a\u015bciciela: ",", under their own conditions (":", na ich w\u0142asnych zasadach (",", until now).":", dotychczas).","See more at the":"Sprawd\u017a wi\u0119cej na","dataset API documentation":"dokumentacja \u017ar\xf3d\u0142a API"}),Language:Object(n.a)({},m),Help:Object(n.a)({},m),WidgetsList:Object(n.a)({},m),MenuAddWidget:Object(n.a)({},m,{Map:"Mapa",Chart:"Wykres","Add a graph":"Dodaj wykres",add:"dodaj"}),PlayPause:Object(n.a)({},m,{"Toggle play status":"Prze\u0142\u0105cz status",play:"play",pause:"pause"}),Widget:Object(n.a)({},m,{remove:"usu\u0144",Remove:"Usu\u0144","Remove?":"Usun\u0105\u0107?","Confirm removal":"Potwierd\u017a usuni\u0119cie",View:"Widok",Edit:"Edycja",Legend:"Legenda","Edit map parameters":"Edytuj parametry mapy","Edit chart parameters":"Edytuj parametry wykresu","Edit BCN parameters":"Edytuj parametry BCN"}),"Widget/Map/Edit":{Type:"Typ","Select the regions type to show":"Wybierz regiony do pokazania",Values:"Warto\u015b\u0107","Select the data origin":"Wybierz \u017ar\xf3d\u0142o"},"Widget/Chart/Edit":Object(n.a)({},h,{Division:"Podzia\u0142 administracyjny","Select the division type to show":"Wybierz podzia\u0142 administracyjny",Population:"Populacja","Select the population":"Wybierz populacj\u0119","Extensi\xf3":"Extensi\xf3","Risc iEPG":"Risc iEPG",Region:"Region","Select the region":"Wybierz region"}),"Widget/Bcn/Edit":Object(n.a)({},h)},g={"Covid Data - Refactored":"Covid informasjon - Refaktorert","Covid Data":"Covid Informasjon",Refactored:"Refaktorert",Close:"lukk",About:"Om...",Language:"Spr\xe5k",Help:"Hjelp",Yes:"Ja",No:"Nei",or:"eller"},v={Dataset:"Datasett","Select the dataset":"Velg datasett"},b={locale:"no",name:"Norsk",App:Object(n.a)({},g),Copyright:Object(n.a)({},g,{"Source code of:":"Kildekoden til:"}),ErrorCatcher:Object(n.a)({},g,{"Something went wrong :(":"Noe gikk galt :(","Try reloading the app to recover from it":"Pr\xf8v \xe5 starte appen p\xe5 nytt for \xe5 gjenopprette fra det"}),Menu:Object(n.a)({},g,{Menu:"Meny","Update!":"Oppdater!","New update available!":"Ny oppdatering tilgjengelig!"}),ModalRouter:Object(n.a)({},g),About:Object(n.a)({},g,{"This applications displays public information extracted from the official web":"Denne applikasjonen viser offentlig informasjon hentet ut fra det offesielle nett","The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.":"M\xe5let med denne applikasjonen er \xe5 vise infromasjon p\xe5 ulike m\xe5ter enn den originale, forbedre ytelse og legger merverdi til den.","Want more information?":"Vil du ha mer informasjon?","The source code is publicly available.":"Kildekoden er offentlig tilgjengelig.","There, you can find more information about how it has been done, licence and credits.":"Der kan du finne mer infromasjon om hvordan det har blitt gjordt, lisens og There, you can find more information og kreditter.","Found a bug? Have a petition? Want to help somehow?":"Fant en feil? Har en begj\xf8ring? Lyst til \xe5 hjelpe?","Create an issue at GitHub.":"Opprett en sak p\xe5 GitHub.",Licenses:"Lisenser","The application, scripts and documentation in":"Applikasjonen, skripts og dokumentasjon i","this project":"dette prosjektet","are released under the":"er utgitt under","The scripts and documentation published in":"Skriptene og dokumentasjonen publisert i","are also released under the":"er ogs\xe5 utgitt under","The data scrapped and published in":"Informasjonen som er skrapet og publisert i","is licensed by their owner, the":"er lisensert av eieren",", under their own conditions (":", under deres egne forhold (",", until now).":", inntil videre).","See more at the":"Se more p\xe5","dataset API documentation":"dataset API dokumentasjonen"}),Language:Object(n.a)({},g),Help:Object(n.a)({},g),WidgetsList:Object(n.a)({},g),MenuAddWidget:Object(n.a)({},g,{Map:"Kart",Chart:"Diagram","Add a graph":"Legg til en graf",add:"legg til"}),PlayPause:Object(n.a)({},g,{"Toggle play status":"Endre spill status",play:"spill",pause:"pause"}),Widget:Object(n.a)({},g,{remove:"fjern",Remove:"Fjern","Remove?":"Fjern?","Confirm removal":"Bekreft fjerning",View:"Vis",Edit:"Rediger",Legend:"Legende","Edit map parameters":"Rediger kart parametere","Edit chart parameters":"Rediger graf parametere","Edit BCN parameters":"Rediger BCN parametere"}),"Widget/Map/Edit":{Type:"Type","Select the regions type to show":"Velg regionene bdu \xf8nsker \xe5 vise",Values:"Verdier","Select the data origin":"Velg datakilde"},"Widget/Chart/Edit":Object(n.a)({},v,{Division:"Divisjon","Select the division type to show":"Velg divisjonstype \xe5 vise",Population:"Populasjon","Select the population":"Velg populasjon","Extensi\xf3":"Extensi\xf3","Risc iEPG":"Risc iEPG",Region:"Region","Select the region":"Velg region"}),"Widget/Bcn/Edit":Object(n.a)({},v)};t.a=[{key:"en",label:p.name,value:p},{key:"en-en",label:p.name,value:p},{key:"en-us",label:p.name,value:p},{key:"en-au",label:p.name,value:p},{key:"ca",label:o.name,value:o},{key:"ca-es",label:o.name,value:o},{key:"es",label:s.name,value:s},{key:"es-es",label:s.name,value:s},{key:"pl",label:f.name,value:f},{key:"pl-pl",label:f.name,value:f},{key:"nb-no",label:b.name,value:b}]},201:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f}));var n=a(0),r=a.n(n),i=a(79),o=a(19),c=a(207),l=a(319),s=a(320),u=a(326),d=a(24),p=a(25),m=function(e){var t=e.icon,a=e.primary,n=e.to,o=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(i.b,Object.assign({to:n,ref:t},e))}))}),[n]);return r.a.createElement("li",null,r.a.createElement(c.a,{button:!0,component:o},t?r.a.createElement(u.a,{title:a},r.a.createElement(l.a,null,t)):null,r.a.createElement(s.a,{primary:a})))},h=Object(o.translate)("Menu")((function(e){var t=e.t;return r.a.createElement("div",null,r.a.createElement(m,{to:"#about",primary:t("About"),icon:r.a.createElement(d.a,{style:{fontSize:"1.5rem"},icon:p.f})}),r.a.createElement(m,{to:"#language",primary:t("Language"),icon:r.a.createElement(d.a,{style:{fontSize:"1.5rem"},icon:p.g})}))})),f=function(e){return r.a.createElement("div",null)}},287:function(e,t,a){"use strict";(function(e){var n=a(10),r=a(16),i=a(13),o=a(12),c=a(0),l=a.n(c),s=a(79),u=a(135),d=a.n(u),p=a(19),m=a(199),h=a(109),f=a(105),g=a(314),v=a(312),b=function(e){var t=Object(p.useTranslate)("App")("Covid Data - Refactored");return l.a.createElement(m.a,{titleTemplate:"%s | ".concat(t),defaultTitle:t},l.a.createElement("html",{lang:e.language}))},y=function(e){return l.a.createElement(p.TranslatorProvider,{translations:e.translations},l.a.createElement(m.b,null,l.a.createElement(b,{language:e.language}),l.a.createElement(s.a,null,l.a.createElement("div",{className:"App",id:"router-container"},e.children))))},E=function(t){Object(o.a)(c,t);var a=Object(i.a)(c);function c(){var t;Object(n.a)(this,c),(t=a.call(this)).handleNewServiceWorker=function(e){t.registration=e.detail.registration,t.setState({newServiceWorkerDetected:!0})},t.handleLoadNewServiceWorkerAccept=function(){return t.props.onLoadNewServiceWorkerAccept(t.registration)},t.handleLanguageChange=function(e){return t.setState({language:e})},t.handleThemeChange=function(e){return t.setState({theme:e})},t.handleTutorialSeenChange=function(e){return t.setState({tutorialSeen:e})};var r=decodeURIComponent(e.location.hash);if(""!==r&&r!==e.location.hash){var i=r.replace(/[^#]*(#.*)$/,"$1");e.location.replace(i)}t.registration=!1;var o=navigator.language.toLowerCase();return t.state={initializing:!0,newServiceWorkerDetected:!1,language:h.a.find((function(e){return e.key===o}))?o:"ca-es",theme:!1,tutorialSeen:!1},t}return Object(r.a)(c,[{key:"componentDidMount",value:function(){document.addEventListener("onNewServiceWorker",this.handleNewServiceWorker)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("onNewServiceWorker",this.handleNewServiceWorker)}},{key:"render",value:function(){var e=this,t=this.state,a=t.newServiceWorkerDetected,n=t.language,r=t.theme,i=t.tutorialSeen,o=h.a.find((function(e){return e.key===n})).value;return l.a.createElement(y,{translations:o,language:n},l.a.createElement(d.a,{parent:this,prefix:"App",blacklist:["newServiceWorkerDetected","initializing"],onParentStateHydrated:function(){return e.setState({initializing:!1})}}),l.a.createElement(f.a,{origin:"Dashboard"},l.a.createElement(g.a,{newServiceWorkerDetected:a,onLoadNewServiceWorkerAccept:this.handleLoadNewServiceWorkerAccept,language:n,onLanguageChange:this.handleLanguageChange,theme:r,onThemeChange:this.handleThemeChange,tutorialSeen:i,onTutorialSeen:this.handleTutorialSeenChange},l.a.createElement(f.a,{origin:"WidgetsList"},l.a.createElement(v.a,null)))))}}]),c}(l.a.Component);t.a=E}).call(this,a(38))},290:function(e,t,a){"use strict";(function(e){var n=a(42),r=a(5),i=a(0),o=a.n(i),c=a(19),l=a(4),s=a(668),u=a(29),d=a(44),p=a(676),m=a(50),h=a(322),f=a(321),g=a(143),v=a.n(g),b=a(323),y=a(292),E=a.n(y),j=a(324),C=a(207),O=a(319),w=a(320),k=a(326),D=a(24),S=a(25),x=a(201),P=Object(s.a)((function(e){return{toolbarIcon:Object(r.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(n.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),updateItem:{color:"green"}}})),T=Object(c.translate)("Menu")((function(e){var t=P(),a=e.t;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:t.toolbarIcon},o.a.createElement(f.a,{edge:"start",color:"inherit","aria-label":a("close menu"),onClick:e.handleDrawerClose},o.a.createElement(v.a,null)),o.a.createElement(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},a("Menu")),o.a.createElement(f.a,{"aria-label":a("close menu"),onClick:e.handleDrawerClose},o.a.createElement(E.a,null))),o.a.createElement(h.a,null),o.a.createElement(b.a,null,o.a.createElement(x.a,null)),o.a.createElement(h.a,null),o.a.createElement(b.a,null,o.a.createElement(x.b,null)))})),R=Object(c.translate)("Menu")((function(t){var a=P(),n=t.handleDrawerOpen,r=t.handleDrawerClose,i=t.open,c=t.newServiceWorkerDetected,s=t.t,m=Object(u.a)(),h=Object(j.a)(m.breakpoints.up("md")),f=h?d.a:p.a,g=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),v=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&(e?n():r())}};return o.a.createElement(f,Object.assign({},h?{variant:"permanent"}:{anchor:"left",onClose:v(!1),onOpen:v(!0),disableBackdropTransition:!g,disableDiscovery:g},{classes:{paper:Object(l.a)(a.drawerPaper,!i&&a.drawerPaperClose)},open:i}),o.a.createElement(T,{handleDrawerClose:r}),c?o.a.createElement(C.a,{button:!0,onClick:function(e){e.preventDefault(),r(),t.onLoadNewServiceWorkerAccept()},className:a.updateItem},o.a.createElement(k.a,{title:s("Update!")},o.a.createElement(O.a,null,o.a.createElement(D.a,{icon:S.a,style:{fontSize:"1.5rem",color:"green"}}))),o.a.createElement(w.a,{primary:s("Update!")})):null)}));t.a=R}).call(this,a(162))},293:function(e,t,a){"use strict";(function(e){var n,r=a(15),i=a(5),o=a(10),c=a(16),l=a(13),s=a(12),u=a(0),d=a.n(u),p=a(26),m=a(670),h=a(672),f=a(671),g=a(673),v=a(324),b=a(29),y=a(19),E=function(t){Object(s.a)(n,t);var a=Object(l.a)(n);function n(t){var r;return Object(o.a)(this,n),r=a.call(this),"history"in t&&""===t.history.location.hash||e.setTimeout((function(){return t.history.push("#")}),10),r}return Object(c.a)(n,[{key:"render",value:function(){return null}}]),n}(d.a.PureComponent),j=function(t){Object(s.a)(n,t);var a=Object(l.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=a.call(this)).openModal=function(){return r.setState({modalIsOpen:!0})},r.closeModal=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"history"in t&&""===t.history.location.path||r.timer||(r.timer=e.setTimeout((function(){r.history.push("#"),r.timer=void 0}),10))},r.handleHistoryChange=function(e,t){var a=r.getPathState(e);r.setState(a)},r.history=t.history,r.state=Object(i.a)({},r.getPathState(t.location),{autoForce:!1,forced:t.force}),r}return Object(c.a)(n,[{key:"getPathState",value:function(e){var t=e.hash.replace(/[^#]*#(.*)$/,"$1");return{modalIsOpen:!!t.length&&"close"!==t,path:t,initialPath:this.state?this.state.initialPath:t}}},{key:"componentDidMount",value:function(){this.unlisten=this.history.listen(this.handleHistoryChange)}},{key:"componentWillUnmount",value:function(){this.unlisten(),this.timer&&e.clearTimeout(this.timer)}},{key:"componentDidUpdate",value:function(e,t){!1!==this.props.force&&this.props.force!==e.force&&this.state.forced!==this.props.force&&this.setState({forced:this.props.force}),this.state.autoForce===this.state.path&&this.setState({autoForce:!1}),t.path===this.state.forced&&t.path!==this.state.path&&!1!==this.state.initialPath&&this.state.initialPath.length>1&&this.state.autoForce!==this.state.initialPath&&this.setState({autoForce:this.state.initialPath})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.initializing,n=e.force,r=e.fullScreen,i=e.t,o=this.state,c=o.autoForce,l=o.path,s=o.forced;return a?null:!1!==n&&n!==l?d.a.createElement(p.a,{push:!0,to:{hash:n}}):!1!==c&&c!==l&&s!==l?d.a.createElement(p.a,{push:!0,to:{hash:c}}):d.a.createElement(m.a,{open:this.state.modalIsOpen,onClose:this.closeModal,fullScreen:r,"aria-labelledby":"modal_heading","aria-describedby":"modal_description"},d.a.createElement(f.a,null,d.a.createElement(p.d,{location:{pathname:l}},t,d.a.createElement(p.b,{render:function(e){return d.a.createElement(E,e)}}))),d.a.createElement(h.a,null,d.a.createElement(g.a,{autoFocus:!0,onClick:this.closeModal,color:"primary"},i("Close"))))}}]),n}(d.a.PureComponent),C=(n=j,function(e){var t=Object(b.a)(),a=Object(v.a)(t.breakpoints.down("sm"));return d.a.createElement(n,Object.assign({},e,{fullScreen:a}))}),O=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(r.a)(e,["children"]);return d.a.createElement(p.b,{path:":path(.*)",render:function(e){return d.a.createElement(C,Object(i.a)({children:t},a,{},e))}})}}]),a}(d.a.PureComponent);t.a=Object(y.translate)("ModalRouter")(O)}).call(this,a(38))},295:function(e,t,a){e.exports=a.p+"static/media/loading.73ea1e4a.svg"},311:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e){if("serviceWorker"in navigator){if(new URL("/covid",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/covid","/service-worker.js");n?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):i(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):i(t,e)}))}}function i(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}},312:function(e,t,a){"use strict";a.d(t,"a",(function(){return Wa}));var n,r=a(15),i=a(5),o=a(0),c=a.n(o),l=a(19),s=a(668),u=a(730),d=a(731),p=a(732),m=a(673),h=a(24),f=a(25),g=a(10),v=a(16),b=a(13),y=a(12),E=a(670),j=a(672),C=a(671),O=a(729),w=a(324),k=a(29),D=a(294),S=a.n(D),x=a(63),P=a(321),T=a(315),R=a(728),M=a(319),A=a(320),I=c.a.forwardRef((function(e,t){var a=e.onClick,n=e.option,r=e.icon,i=e.label;return c.a.createElement(R.a,{key:n,onClick:function(){return a(n)},ref:t},c.a.createElement(M.a,null,r),c.a.createElement(A.a,{primary:i||n}))})),N=Object(l.translate)("Widget")((function(e){var t=e.onClick,a=e.options,n=e.id,i=Object(r.a)(e,["onClick","options","id"]),o=c.a.useState(null),l=Object(x.a)(o,2),s=l[0],u=l[1],d=Boolean(s),p=function(){return u(null)},m=function(e){p(),t(e)};return c.a.createElement("div",null,c.a.createElement(P.a,{"aria-label":"widget actions","aria-controls":"widget-menu-".concat(n),"aria-haspopup":"true",onClick:function(e){return u(e.currentTarget)}},c.a.createElement(h.a,{icon:f.d})),s?c.a.createElement(T.a,{id:"widget-menu-".concat(n),anchorEl:s,keepMounted:!0,open:d,onClose:p,PaperProps:{style:{width:"20ch"}}},Object.keys(a).filter((function(e){return"view"!==e})).map((function(e){return c.a.createElement(I,{key:e,option:e,onClick:m,icon:a[e].icon,label:"function"===typeof a[e].label?a[e].label(i):a[e].label})}))):null)})),W=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleClickOpen=function(t){e.setState({open:t})},e.handleClose=function(){e.setState({open:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.state.open,t=this.props.id,a=this.props,n=a.sections,i=a.fullScreen,o=a.t,l=Object(r.a)(a,["sections","fullScreen","t"]),s=e?n[e].render:function(){},u=e?n[e].title:function(){};return c.a.createElement("div",null,c.a.createElement(N,Object.assign({options:n,id:t,onClick:this.handleClickOpen},l)),e?c.a.createElement(E.a,Object.assign({key:e,open:!0,onClose:this.handleClose},i?{}:{TransitionComponent:S.a},{fullScreen:i,"aria-labelledby":"draggable-dialog-title-".concat(t,"-").concat(e)}),c.a.createElement(O.a,{style:{cursor:"move"},id:"draggable-dialog-title-".concat(t,"-").concat(e)},c.a.createElement(u,Object.assign({},l,{t:o}))),c.a.createElement(C.a,null,c.a.createElement(s,Object.assign({},l,{t:o}))),c.a.createElement(j.a,null,c.a.createElement(m.a,{autoFocus:!0,onClick:this.handleClose,color:"primary"},o("Close")))):null)}}]),a}(c.a.PureComponent),L=Object(l.translate)("Widget")(W),V=(n=L,function(e){var t=Object(k.a)(),a=Object(w.a)(t.breakpoints.down("sm"));return c.a.createElement(n,Object.assign({},e,{fullScreen:a}))}),z=Object(s.a)((function(e){return{root:{height:"100%"}}})),F=function(e){var t=Object(i.a)({},e,{remove:{icon:c.a.createElement(h.a,{icon:f.i}),label:function(e){return(0,e.t)("Remove")},title:function(e){return(0,e.t)("Remove?")},render:function(e){var t=e.id,a=e.onRemove,n=e.t;return c.a.createElement(m.a,{startIcon:c.a.createElement(h.a,{icon:f.i}),onClick:function(){return a(t)},variant:"contained",color:"primary","aria-label":n("remove")},n("Confirm removal"))}}}),a=t.view.render;return Object(l.translate)("Widget")((function(e){var n=z(),i=(e.indexValues,Object(r.a)(e,["indexValues"])),o=c.a.createElement(V,Object.assign({},i,{sections:t}));return c.a.createElement(u.a,{className:n.root},c.a.createElement(d.a,{action:o,title:t.view.title(e)||e.name,subheader:e.subtitle}),c.a.createElement(p.a,null,c.a.createElement(a,e)))}))},B=c.a.createContext((function(){})),U=function(e,t){var a=function(a){Object(y.a)(i,a);var n=Object(b.a)(i);function i(){var a;Object(g.a)(this,i);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(a=n.call.apply(n,[this].concat(l))).dataHandler=function(n){var i=a.props,o=i.forwardedRef,l=Object(r.a)(i,["forwardedRef"]),s=n.onChangeData,u=void 0===s?function(){}:s,d=Object(r.a)(n,["onChangeData"]),p=Object.assign({},t,d,l);return c.a.createElement(e,Object.assign({ref:o,onChangeData:u},p))},a}return Object(v.a)(i,[{key:"render",value:function(){return c.a.createElement(B.Consumer,null,this.dataHandler)}}]),i}(c.a.Component),n=c.a.forwardRef((function(e,t){return c.a.createElement(a,Object.assign({},e,{forwardedRef:t}))}));return n.defaultProps=e.defaultProps,n},_=a(26),H=a(135),G=a.n(H),K=a(295),q=a.n(K),J=function(e){var t=e.style,a=void 0===t?{}:t,n=e.restProps;return c.a.createElement("img",Object.assign({alt:"Loading...",src:q.a,style:Object(i.a)({width:"80%",margin:"auto",display:"block"},a)},n))},Y=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={initializing:!0,data:{}},e.onChangeData=function(t){e.setState({data:t})},e.stopInitializing=function(){e.setState({initializing:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=Object(r.a)(e,["children"]),n=this.state,o=n.initializing,l=n.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(G.a,{parent:this,prefix:"LocalStorageProvider",blacklist:["initializing"],onParentStateHydrated:this.stopInitializing}),o?c.a.createElement(J,null):c.a.createElement(B.Provider,{value:Object(i.a)({onChangeData:this.onChangeData},a,{data:l})},t))}}]),a}(c.a.Component),$=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).unlisten=function(){},n.historyPush=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.props.paramsToString(e);n.history.location.pathname!==a&&(t?n.history.replace(a+n.history.location.hash):n.history.push(a+n.history.location.hash))},n.handleHistoryChange=function(e,t){},n.componentDidMount=function(){n.unlisten=n.history.listen(n.handleHistoryChange),!n.props.params.widgets.length&&n.props.data.widgets&&n.props.data.widgets.length&&n.historyPush(n.props.data,!0)},n.componentWillUnmount=function(){n.unlisten()},n.onChangeData=function(e){n.historyPush(Object(i.a)({},e),!0),n.props.onChangeData(Object(i.a)({},e))},n.history=e.history,n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.data,n=e.params,o=(e.paramsFilter,e.paramsToString,e.history,e.onChangeData,Object(r.a)(e,["children","data","params","paramsFilter","paramsToString","history","onChangeData"]));return c.a.createElement(B.Provider,{value:Object(i.a)({onChangeData:this.onChangeData},o,{},a,{},n)},t)}}]),a}(c.a.Component),Q=U((function(e){var t=e.pathFilter,a=e.paramsFilter,n=e.paramsToString,i=Object(r.a)(e,["pathFilter","paramsFilter","paramsToString"]);return c.a.createElement(_.d,null,c.a.createElement(_.b,{path:t,render:function(e){var t=e.match.params,r=e.history,o=a(t);return c.a.createElement($,Object.assign({paramsFilter:a,paramsToString:n,history:r},i,{params:o}))}}))}),{data:{widgets:{type:"map"}}}),X=function(e){var t=e.children,a=e.pathFilter,n=e.paramsFilter,r=e.paramsToString;return c.a.createElement(Y,null,c.a.createElement(Q,{pathFilter:a,paramsFilter:n,paramsToString:r},t))},Z=a(39),ee=a(42),te=a(4),ae=a(6),ne=a(734),re=a(209),ie=a(326),oe=a(733),ce=a(296),le=a.n(ce),se=c.a.forwardRef((function(e,t){var a=e.onClick,n=e.option,r=e.icon,i=e.label;return c.a.createElement(R.a,{key:n,onClick:function(){return a(n)},ref:t},c.a.createElement(M.a,null,r),c.a.createElement(A.a,{primary:i||n}))})),ue=c.a.memo((function(e){var t=e.t,a=e.onAdd,n=e.options,r=c.a.useState(null),i=Object(x.a)(r,2),o=i[0],l=i[1],s=Boolean(o),u=function(){return l(null)},d=function(e){u(),a(e)};return c.a.createElement("div",null,c.a.createElement(ie.a,{title:t("Add a graph"),"aria-label":t("add")},c.a.createElement(oe.a,{color:"primary","aria-label":t("add"),onClick:function(e){return l(e.currentTarget)},"aria-haspopup":"true"},c.a.createElement(le.a,null))),o?c.a.createElement(T.a,{id:"widget-add-menu",anchorEl:o,keepMounted:!0,open:s,onClose:u,transformOrigin:{vertical:"center",horizontal:"right"},PaperProps:{style:{width:"30ch"}}},n.map((function(e){return c.a.createElement(se,{key:e.key,option:e.key,onClick:d,icon:e.icon,label:t(e.name)})}))):null)})),de=Object(l.translate)("MenuAddWidget")(ue),pe=a(40),me=a.n(pe),he=a(52),fe=a(62),ge=a(297),ve=function(){},be=function(){function e(t){var a=this;Object(g.a)(this,e),this.name="Common",this.controller=new AbortController,this.handleFetchErrors=function(e){return e.ok?e:new Error("".concat(a.name," backend: ").concat(e.statusText))},this.catchFetchErrors=function(e){"AbortError"===e.name?console.log("Connection aborted",e):(e.message="".concat(a.name," backend: ").concat(e.message),a.onError(e))},this.onUpdate=t&&t.onUpdate?t.onUpdate:ve,this.onError=t&&t.onError?t.onError:ve}return Object(v.a)(e,[{key:"abort",value:function(){this.controller.abort(),this.controller=new AbortController}}]),e}(),ye=function(e){return 0===e.length?0:Object(Z.a)(e).map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){var a=(e<<5)-e+t;return a&a}),0)},Ee=function e(t){var a=this;Object(g.a)(this,e),this.signal=null,this.result=null,this.lastModified=0,this.invalidated=!1,this.listeners=[],this.url="",this.handleFetchErrors=function(e){if(!e.ok)throw new Error("".concat(e.statusText));return e},this.catchFetchErrors=function(e){"AbortError"===e.name||(e.message="".concat(a.url,": ").concat(e.message),a.onError(e))},this.cleanFetch=function(){return a.signal=null},this.onError=function(e){a.listeners.forEach((function(t){t.onError(e)})),a.cleanFetch()},this.addListener=function(e,t){return a.listeners.push({onSuccess:e,onError:t}),a.signal||null!==a.result||a.fetch(),a.invalidated||null===a.result||new Promise((function(e,t){return e(a.result)})).then(e),function(){return a.removeListener(e)}},this.removeListener=function(e){var t=a.listeners.map((function(e,t){return{listener:e,index:t}})).find((function(t){return t.listener.onSuccess===e}));t?a.listeners.splice(t.index,1):console.warning("Remove listener from ".concat(a.url,": Listener not found")),a.signal&&0===a.listeners.length&&(a.signal.abort(),a.cleanFetch())},this.processSuccessFetch=function(e){var t=e.result,n=e.lastModified;return a.result=t,a.lastModified=n,a.listeners.forEach((function(e){return e.onSuccess(a.result)})),a.cleanFetch(),a.result},this.getLastModifiedFromResponse=function(e){return new Date(e.headers.get("last-modified"))},this.fetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return a.signal=new AbortController,fetch(a.url,{signal:a.signal.signal}).then(a.handleFetchErrors).then((function(e){return e.json().then((function(t){return{result:t,lastModified:a.getLastModifiedFromResponse(e)}}))})).then(a.processSuccessFetch).then(e).catch(a.catchFetchErrors)},this.checkIfNeedUpdate=function(e,t){fetch(a.url,{method:"HEAD"}).then(a.handleFetchErrors).then(a.getLastModifiedFromResponse).then((function(e){return e>a.lastModified})).then(e).catch(t)},this.invalidate=function(){return new Promise((function(e,t){null!==a.result?(a.invalidated=!0,a.listeners.length>0?a.fetch(e):e()):e()}))},this.url=t},je=new function e(){var t=this;Object(g.a)(this,e),this.data={},this.name="Cache manager",this.fetch=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=ye(e);return r in t.data||(t.data[r]=new Ee(e)),t.data[r].addListener(a,n)},this.checkIfNeedUpdate=function(e,a,n){var r=ye(e);t.data[r].checkIfNeedUpdate(a,n)},this.invalidate=function(e){var a=ye(e);return a in t.data?t.data[a].invalidate():new Promise((function(e,t){e()}))}};Object.freeze(je);var Ce=je,Oe=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).name="GitHub Pages",e.timerDataUpdate=!1,e.officialUpdateTime="10:35".split(":"),e.indexUrl="",e.checkUpdate=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Ce.checkIfNeedUpdate(e.indexUrl,(function(e){t(e)}),(function(t){console.error("".concat(e.name,": updating data from backend:"),t),a(t)}))},e.invalidateAll=Object(fe.a)(me.a.mark((function t(){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.warn("".concat(e.name,": Need to define abstract function 'invalidateAll'"));case 1:case"end":return t.stop()}}),t)}))),e.updateAll=function(t){!function(){var t=Object(fe.a)(me.a.mark((function t(a){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.invalidateAll();case 2:return t.next=5,Ce.invalidate(e.indexUrl);case 5:a(!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(t)},e.updateIfNeeded=function(t){e.checkUpdate((function(a){a?e.updateAll((function(){return t(!0)})):t(!1)}))},e.cancelUpdateSchedule=function(){e.timerDataUpdate&&clearTimeout(e.timerDataUpdate)},e.scheduleNextUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1===t?e.millisToNextUpdate():t;e.cancelUpdateSchedule(),e.timerDataUpdate=setTimeout((function(){return e.updateIfNeeded((function(t){return!(!a&&t)&&e.scheduleNextUpdate(!t&&3e5)}))}),n)},e.millisToNextUpdate=function(){var t=new Date,a=Object(ge.a)(Date,[t.getFullYear(),t.getMonth(),t.getDate()].concat(Object(Z.a)(e.officialUpdateTime),[0,0]))-t;return a<=0?a+864e5:a},e}return a}(be),we=("https://emibcn.github.io/covid-data/Maps","https://emibcn.github.io/covid-data/Maps"),ke="".concat(we,"/days.json"),De="".concat(we,"/Comarca.svg"),Se="".concat(we,"/Municipi.svg"),xe="".concat(we,"/MapData-Comarca-edat.json"),Pe="".concat(we,"/MapData-Comarca-pcrpos.json"),Te="".concat(we,"/MapData-Comarca-risc.json"),Re="".concat(we,"/MapData-Comarca-rt.json"),Me="".concat(we,"/MapData-Comarca-taxa_conf.json"),Ae="".concat(we,"/MapData-Comarca-taxapcr.json"),Ie="".concat(we,"/MapData-Municipi-edat.json"),Ne="".concat(we,"/MapData-Municipi-pcrpos.json"),We="".concat(we,"/MapData-Municipi-risc.json"),Le="".concat(we,"/MapData-Municipi-rt.json"),Ve={days:ke,metadata:{risc:{title:"Risc de rebrot (iEPG) a poblaci\xf3 general",label:"Risc de rebrot (iEPG)",name:"Risc de rebrot (iEPG)",colors:[{color:"#88f",nom:"Risc m\xe0xim - 6",valor:1500},{color:"#00f",nom:"Risc m\xe0xim - 5",valor:1200},{color:"#00c",nom:"Risc m\xe0xim - 4",valor:900},{color:"#008",nom:"Risc m\xe0xim - 3",valor:600},{color:"#004",nom:"Risc m\xe0xim - 2",valor:400},{color:"#400",nom:"Risc m\xe0xim",valor:210},{color:"#800",nom:"Risc extrem",valor:190},{color:"#c00",nom:"Risc alt\xedssim",valor:160},{color:"#f00",nom:"Risc molt alt",valor:130},{color:"#f40",nom:"Risc alt",valor:100},{color:"#f80",nom:"Risc mitj\xe0-alt",valor:70},{color:"#fc0",nom:"Risc mitj\xe0",valor:50},{color:"#ff0",nom:"Risc mitj\xe0-baix",valor:30},{color:"#cf0",nom:"Risc baix",valor:15},{color:"#8f4",nom:"Risc molt baix",valor:5},{color:"#4f8",nom:"Risc no nul",valor:1},{color:"#0fc",nom:"Risc m\xednim",valor:0}]},taxa_conf:{title:"Taxa setmanal de casos confirmats PCR a tota la poblaci\xf3",label:"Taxa confirmats per PCR",name:"Taxa setmanal de casos confirmats PCR",colors:[{color:"#a00",nom:">=300",valor:300},{color:"#d00",nom:">=200 i <300",valor:200},{color:"#f00",nom:">=100 i <200",valor:100},{color:"#f80",nom:">=75 i <100",valor:75},{color:"#fa0",nom:">=50 i <75",valor:50},{color:"#fc0",nom:">=25 i <50",valor:25},{color:"#0b0",nom:">=15 i <25",valor:15},{color:"#090",nom:"<15",valor:0}]},rt:{title:"Velocitat de propagaci\xf3 (Rt) a poblaci\xf3 general",label:"Rt",name:"Velocitat de propagaci\xf3 (Rt)",colors:[{color:"#f00",nom:">=2",valor:2},{color:"#f70",nom:">=1.5 i <2",valor:1.5},{color:"#fa0",nom:">=1.2 i <1.5",valor:1.2},{color:"#fc0",nom:">1 i <1.2",valor:1.00001},{color:"#0a0",nom:"<=1",valor:0}]},edat:{title:"Mitjana d'edat dels casos confirmats per PCR a tota la poblaci\xf3",label:"Mitjana edat",name:"Mitjana d'edat dels casos confirmats per PCR",colors:[{color:"#08519c",nom:">=60",valor:60},{color:"#3182bd",nom:">=50 i <60",valor:50},{color:"#6baed6",nom:">=40 i <50",valor:40},{color:"#9ecae1",nom:">=30 i <40",valor:30},{color:"#c6dbef",nom:">=20 i <30",valor:20},{color:"#eff3ff",nom:"< 20",valor:0}]},pcrpos:{title:"Percentatge de PCR positives a tota la poblaci\xf3",label:"% PCR +",name:"Percentatge de PCR positives",colors:[{color:"#a50026",nom:">=40%",valor:40},{color:"#d73027",nom:">=30% i <40%",valor:30},{color:"#f46d43",nom:">=20% i <30%",valor:20},{color:"#fdae61",nom:">=15% i <20%",valor:15},{color:"#fee08b",nom:">=10% i <15%",valor:10},{color:"#ffffbf",nom:">=8% i <10%",valor:8},{color:"#66bd63",nom:">=5% i <8%",valor:5},{color:"#1a9850",nom:">=3% i <5%",valor:3},{color:"#006837",nom:"<3%",valor:0}]},taxapcr:{title:"Taxa PCR per 100.000 habitants a tota la poblaci\xf3",label:"Taxa PCR",name:"Taxa PCR per 100.000 habitants",colors:[{color:"#08306b",nom:">=1000",valor:1e3},{color:"#08519c",nom:">=800 i <1000",valor:800},{color:"#2171b5",nom:">=600 i <800",valor:600},{color:"#4292c6",nom:">=500 i <600",valor:500},{color:"#6baed6",nom:">=400 i <500",valor:400},{color:"#9ecae1",nom:">=300 i <400",valor:300},{color:"#c6dbef",nom:">=200 i <300",valor:200},{color:"#deebf7",nom:">=100 i <200",valor:100},{color:"#f7fbff",nom:"<100",valor:0}]}},kind:{Comarca:{svg:De,values:{risc:Te,taxa_conf:Me,rt:Re,edat:xe,pcrpos:Pe,taxapcr:Ae}},Municipi:{svg:Se,values:{risc:We,taxa_conf:"".concat(we,"/MapData-Municipi-taxa_conf.json"),rt:Le,edat:Ie,pcrpos:Ne,taxapcr:"".concat(we,"/MapData-Municipi-taxapcr.json")}}}},ze=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).name="Maps JSON Files",e.indexUrl=Ve.days,e.timerDataUpdate=!1,e.officialUpdateTime="10:35".split(":"),e.invalidateAll=Object(fe.a)(me.a.mark((function e(){var t,n,r,i,o,c;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(he.a)(a.kinds()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=26;break}r=n.value,i=Object(he.a)(a.values(r)),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=15;break}return c=o.value,e.next=13,Ce.invalidate(Ve.kind[r].values[c]);case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:case 24:e.next=3;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(1),t.e(e.t1);case 31:return e.prev=31,t.f(),e.finish(31);case 34:case 35:case"end":return e.stop()}}),e,null,[[1,28,31,34],[6,17,20,23]])}))),e.days=function(e){return Ce.fetch(Ve.days,e)},e.data=function(e,t,a){return Ce.fetch(Ve.kind[e].values[t],a)},e}return a}(Oe);ze.kinds=function(){return Object.keys(Ve.kind)},ze.values=function(e){return Object.keys(Ve.kind[e].values)},ze.svg=function(e){return Ve.kind[e].svg},ze.metadata=function(e,t){return Ve.metadata[e][t]},ze.metaColors=function(e){return ze.metadata(e,"colors")},ze.metaTitle=function(e){return ze.metadata(e,"title")},ze.metaLabel=function(e){return ze.metadata(e,"label")},ze.metaName=function(e){return ze.metadata(e,"name")};var Fe=ze,Be=a(316),Ue=a(317),_e=a(154),He=a(737),Ge=Object(Be.a)(He.a)((function(e){var t=e.theme,a=e.color;return Object(i.a)({width:t.spacing(2),height:t.spacing(2),marginRight:t.spacing(1)},t.shape,{borderWidth:1,borderStyle:"solid",borderColor:t.palette.text.hint,backgroundColor:a})})),Ke=function(e){var t=e.value,a=e.color,n=Object(r.a)(e,["value","color"]);return c.a.createElement(ne.a,Object.assign({container:!0,direction:"row",alignItems:"center",wrap:"nowrap"},n),c.a.createElement(ne.a,{item:!0},c.a.createElement(Ge,{color:a})),c.a.createElement(ne.a,{item:!0},t))},qe=(a(391),Object(Be.a)(_e.a)((function(e){var t=e.theme;return Object(i.a)({backgroundColor:"".concat(t.palette.background.default," !important"),color:"".concat(t.palette.text.primary," !important"),opacity:"1 !important",borderColor:"".concat(t.palette.text.hint," !important")},t.shape,{fontFamily:t.typography.fontFamily,fontSize:t.typography.fontSize,"&:before":{borderTopColor:"".concat(t.palette.text.hint," !important")},"&:after":{borderTopColor:"".concat(t.palette.background.default," !important")}})}))),Je=function(){return c.a.createElement("span",null,"Error!")},Ye=function(){return c.a.createElement(J,null)},$e=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).svg=null,e.state={svgStatus:null},e.wrapperNodeSVG=c.a.createRef(),e.getSVG=function(){return e.wrapperNodeSVG.current.svgWrapper.querySelector("svg")},e.isSVGMounted=function(){return e.wrapperNodeSVG&&"current"in e.wrapperNodeSVG&&e.wrapperNodeSVG.current&&"svgWrapper"in e.wrapperNodeSVG.current&&e.wrapperNodeSVG.current.svgWrapper&&"querySelector"in e.wrapperNodeSVG.current.svgWrapper&&e.getSVG()},e.get_color_fons=function(t){var a=e.props.colors.find((function(e){return t>=e.valor}));return a?a.color:"fff"},e.setColorBackground=function(t,a){e.mapElements[a].style.fill=e.get_color_fons(t)},e.omplir_colors=function(t){var a=t.values[t.indexValues]||{};Object.keys(a).forEach((function(t){return e.setColorBackground(a[t],t)}))},e.setTooltipData=function(t){var a="mapa-".concat(e.props.id);t.setAttribute("data-tip",t.id),t.setAttribute("data-for",a)},e.saveElementsIndex=function(t){e.mapElements=Array.prototype.reduce.call(e.svg.querySelectorAll(".map_elem"),(function(t,a){return t[a.id]=a,e.setTooltipData(a),t}),{})},e.beforeInjection=function(t){e.svg=t,e.saveElementsIndex(),e.omplir_colors(e.props),e.setState({svgStatus:"beforeInjection"})},e.afterInjection=function(t,a){if(t)throw Error(t);_e.a.rebuild(),e.svg=a,e.omplir_colors(e.props),e.setState({svgStatus:"afterInjection"})},e.updateColorsIfPossible=function(t){e.isSVGMounted()&&e.svg&&e.omplir_colors(t)},e.afterTipShow=function(t){return e.setState({tooltipShow:t.target.id})},e.afterTipHide=function(t){return e.setState({tooltipShow:!1})},e.getTipContent=function(t){if(t){var a=e.props,n=a.values,r=a.indexValues,i=a.label,o=n[r],l=e.mapElements[t],s=e.get_color_fons(o[t]),u="".concat(i,": ").concat(o?o[t]:"");if(!l)return"";var d=l.getAttribute("label");return c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",null,d),c.a.createElement(Ke,Object.assign({value:u,color:s},{justify:"center"})))}return""},e}return Object(v.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.mapSrc!==e.mapSrc&&this.setState({svgStatus:"srcChanged"}),this.updateColorsIfPossible(this.props)}},{key:"componentDidMount",value:function(){this.updateColorsIfPossible(this.props),this.setState({svgStatus:"mounted"})}},{key:"componentWillUnmount",value:function(){delete this.mapElements,delete this.svg}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.indexValues!==e.indexValues&&(this.updateColorsIfPossible(e),this.state.tooltipShow&&_e.a.show(this.mapElements[this.state.tooltipShow])),this.props.mapSrc!==e.mapSrc||this.state.svgStatus!==t.svgStatus}},{key:"render",value:function(){var e=this.props,t=e.mapSrc,a=e.title,n=e.id;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ue.a,{src:t,ref:this.wrapperNodeSVG,role:"img","aria-label":a,beforeInjection:this.beforeInjection,afterInjection:this.afterInjection,evalScripts:"never",fallback:Je,loading:Ye,renumerateIRIElements:!1}),c.a.createElement(qe,{id:"mapa-".concat(n),getContent:this.getTipContent,afterShow:this.afterTipShow,afterHide:this.afterTipHide,border:!0}))}}]),a}(c.a.Component);$e.defaultProps={values:[],indexValues:0,label:"Index",title:"Map"};var Qe=$e,Xe=a(743),Ze=a(735),et=a(719),tt=a(738),at=a(322),nt=Object(s.a)((function(e){return{formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),rt=function(e){var t=nt(),a=e.label,n=e.help,i=e.id,o=e.options,l=Object(r.a)(e,["label","help","id","options"]);return c.a.createElement("div",{style:{margin:"0 auto",display:"block"}},c.a.createElement(et.a,{required:!0,className:t.formControl},c.a.createElement(Xe.a,{htmlFor:i},a),c.a.createElement(tt.a,Object.assign({native:!0},l,{"aria-describedby":"helper-text-".concat(i),inputProps:{name:a,id:i}}),o.map((function(e){return c.a.createElement("option",{key:"v_".concat(e.value),value:e.value},e.label)}))),n?c.a.createElement(Ze.a,{id:"helper-text-".concat(i)},n):null))},it=Fe.kinds().map((function(e){return{value:e,label:e}})),ot=Object(l.translate)("Widget/Map/Edit")((function(e){var t=e.t,a=Object(r.a)(e,["t"]);return c.a.createElement(rt,Object.assign({options:it,label:t("Type"),help:t("Select the regions type to show")},a))})),ct=Fe.kinds().reduce((function(e,t){return e[t]=Fe.values(t).map((function(e){return{value:e,label:Fe.metaName(e)}})),e}),{}),lt=Object(l.translate)("Widget/Map/Edit")((function(e){var t=e.kind,a=e.t,n=Object(r.a)(e,["kind","t"]);return c.a.createElement(rt,Object.assign({label:a("Values"),help:a("Select the data origin"),options:ct[t]},n))})),st=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onChangeMapKind=function(t){return e.props.onChangeMapKind(t.target.value)},e.onChangeMapValue=function(t){return e.props.onChangeMapValue(t.target.value)},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.mapKind,a=e.mapValue;return c.a.createElement("div",{style:{textAlign:"left"}},c.a.createElement(ot,{value:t,onChange:this.onChangeMapKind}),c.a.createElement(at.a,{style:{margin:"2em 0"}}),c.a.createElement(lt,{kind:t,value:a,onChange:this.onChangeMapValue}))}}]),a}(c.a.PureComponent),ut=function(e){var t=e.valueStart,a=e.valueEnd,n=e.color,r=e.unit,i=function(e){return"".concat(e).concat(void 0!==e&&r?r:"")},o=t&&null!==a?"".concat(i(t)," - ").concat(i(a)):null!==a?"< ".concat(i(a)):"> ".concat(i(t));return c.a.createElement(Ke,Object.assign({justify:"flex-end"},{value:o,color:n}))},dt=function(e){var t=e.title,a=e.children,n=Object(r.a)(e,["title","children"]);return t&&t.length?c.a.createElement(ie.a,Object.assign({arrow:!0,placement:"top",title:t},n),a):a},pt=function(e){var t=e.colors;return c.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",alignContent:"center"},t.map((function(e,a){return c.a.createElement(dt,{key:a,title:e.nom},c.a.createElement(ne.a,{item:!0},c.a.createElement(ut,{valueStart:e.valor,valueEnd:0===a?null:t[a-1].valor,color:e.color})))})))},mt=F({view:{icon:c.a.createElement(h.a,{icon:f.e}),label:function(e){return(0,e.t)("View")},title:function(e){return e.name},render:function(e){var t=e.t,a=e.mapKind,n=e.label,r=e.mapData,i=e.indexValues,o=e.colors,l=e.id;return c.a.createElement(c.a.Fragment,null,r&&r.valors?c.a.createElement(Qe,{title:"".concat(t("Map"),": Catalunya: ").concat(t(a)),label:n,values:r.valors,mapSrc:Fe.svg(a),indexValues:i,colors:o,id:l}):c.a.createElement(J,null))}},edit:{icon:c.a.createElement(h.a,{icon:f.c}),label:function(e){return(0,e.t)("Edit")},title:function(e){return(0,e.t)("Edit map parameters")},render:function(e){return c.a.createElement(st,{mapKind:e.mapKind,mapValue:e.mapValue,onChangeMapKind:e.onChangeMapKind,onChangeMapValue:e.onChangeMapValue})}},legend:{icon:c.a.createElement(h.a,{icon:f.f}),label:function(e){return(0,e.t)("Legend")},title:function(e){return e.title},render:function(e){return c.a.createElement(pt,{colors:e.colors,subtitle:e.days[e.indexValues]})}}}),ht=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a),(n=t.call(this,e)).getMeta=function(e){return{colors:Fe.metaColors(e),title:Fe.metaTitle(e),label:Fe.metaLabel(e),name:Fe.metaLabel(e)}},n.updateData=function(){var e=n.props,t=e.mapKind,a=e.mapValue;n.cancelDataUpdate&&n.cancelDataUpdate(),n.cancelDataUpdate=n.MapData.data(t,a,(function(e){t===n.props.mapKind&&a===n.props.mapValue&&n.setState({mapData:e})}))},n.onChangeMapKind=function(e){var t=n.props.mapValue;n.setState({mapData:null}),n.props.onChangeData(n.props.id,{mapKind:e,mapValue:t})},n.onChangeMapValue=function(e){var t=n.props.mapKind;n.setState(Object(i.a)({mapData:null},n.getMeta(e))),n.props.onChangeData(n.props.id,{mapKind:t,mapValue:e})},n.MapData=new Fe,n.cancelDataUpdate=!1;var r=e.mapKind,o=e.mapValue;return n.state=Object(i.a)({mapData:null,mapKindDefault:r,mapValueDefault:o},n.getMeta(o)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e,t){t.mapData!==this.state.mapData&&null===this.state.mapData?this.updateData():this.props.mapKind===e.mapKind&&this.props.mapValue===e.mapValue||this.setState({mapData:null})}},{key:"render",value:function(){var e=this.props,t=e.days,a=e.indexValues,n=e.id,r=e.mapKind,i=e.mapValue,o=this.state,l=o.mapData,s=o.mapKindDefault,u=o.mapValueDefault,d=o.colors,p=o.title,m=o.label,h=o.name;return c.a.createElement("div",{style:{minWidth:"200px",height:"100%",paddingTop:".3em",flex:"1 1 0px"}},c.a.createElement(mt,{id:n,mapKind:r,mapValue:i,mapKindDefault:s,mapValueDefault:u,onChangeMapKind:this.onChangeMapKind,onChangeMapValue:this.onChangeMapValue,onRemove:this.props.onRemove,mapData:l,indexValues:a,days:t,colors:d,title:p,label:m,name:h}))}}]),a}(c.a.Component),ft=Fe.kinds()[0],gt=Fe.values(ft)[0];ht.defaultProps={mapKind:ft,mapValue:gt,onChangeData:function(){},onRemove:function(){}};var vt=ht,bt=("https://emibcn.github.io/covid-data/Charts","https://emibcn.github.io/covid-data/Charts"),yt="".concat(bt,"/index.json"),Et="".concat(bt,"/chart.json"),jt=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this)).name="Charts JSON Files",n.indexUrl=yt,n.divisions=[],n.populations=[],n.invalidateAll=Object(fe.a)(me.a.mark((function e(){var t,a,r;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(he.a)(n.active),e.prev=1,t.s();case 3:if((a=t.n()).done){e.next=10;break}return r=a.value,e.next=8,Ce.invalidate("".concat(Et,"?").concat(r));case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])}))),n.indexData=[],n.index=function(e){return Ce.fetch(yt,e)},n.parseIndex=function(e){n.divisions=Object(Z.a)(new Set(e.map((function(e){return e.territori})))),n.populations=Object(Z.a)(new Set(e.map((function(e){return e.poblacio})))),n.indexData=e},n.active=[],n.findBreadcrumb=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e.url===t};if(a(e,t))return[e];if("children"in e){var r,i=Object(he.a)(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value,c=n.findBreadcrumb(o,t,a);if(c.length)return[].concat(Object(Z.a)(c),[e])}}catch(l){i.e(l)}finally{i.f()}}return[]},n.findChild=function(e,t,a){var r=n.findBreadcrumb(e,t,a);if(r.length)return r[0]},n.findInitialNode=function(e,t){return n.indexData.find((function(a){return a.territori===e&&a.poblacio===t}))},n.data=function(e,t,a,r){var i=n.findInitialNode(e,t);if(i){var o=n.findChild(i,a);return o?(n.active.includes(o.url)||n.active.push(o.url),Ce.fetch("".concat(Et,"%3F").concat(o.url),r)):(console.warn("Could not find data in index: ".concat(e,"/").concat(t,"/").concat(a),{initialLink:i,index:n.indexData}),r(!1),function(){})}return console.warn("Could not find initial node in index: ".concat(e,"/").concat(t,"/").concat(a),{initialLink:i,index:n.indexData}),r(!1),function(){}},e?n.parseIndex(e):n.index(n.parseIndex),n}return a}(Oe),Ct=a(34),Ot=Object(s.a)((function(e){return{tooltip:Object(i.a)({backgroundColor:e.palette.background.default,borderWidth:1,borderStyle:"solid",borderColor:e.palette.text.hint},e.shape,{fontFamily:e.typography.fontFamily,fontSize:e.typography.fontSize,padding:e.spacing(1)}),legend:{fontFamily:e.typography.fontFamily,fontSize:e.typography.fontSize,padding:0,marginTop:e.spacing(1)},legendElement:{paddingRight:e.spacing(1)},label:Object(i.a)({},e.typography.subtitle1)}})),wt=function(e){var t=e.name,a=e.value,n=e.color,r=e.unit,i=e.gridOptions,o="".concat(t,": ").concat(function(e){return"".concat(null!==e&&void 0!==e?e:"").concat(void 0!==e&&r?r:"")}(a));return c.a.createElement(ne.a,Object.assign({item:!0},i),c.a.createElement(Ke,{justify:"flex-start",color:n,value:o}))},kt=function(e){var t=e.payload;return c.a.createElement(ne.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start"},(t||[]).map((function(e,t){return c.a.createElement(wt,Object.assign({key:t},e))})))},Dt=function(e){var t=e.payload,a=e.data,n=e.indexValues,r=e.colors,o=Ot(),l=c.a.useMemo((function(){return(t||[]).map((function(e,t){var o,c;return Object(i.a)({},e,{unit:null===(o=e.format)||void 0===o?void 0:o.replace(/^\{[^}]*\}/,"").trim(),color:null!==(c=e.color)&&void 0!==c?c:r[t],value:void 0!==a[n]?a[n]["v".concat(t)]:void 0})}))}),[t,a,n,r]);return c.a.createElement(ne.a,{container:!0,direction:"column",alignItems:"flex-end"},c.a.createElement(ne.a,{item:!0,xs:11,container:!0,direction:"row",justify:"flex-start",alignItems:"center",className:o.legend},l.map((function(e,t){return c.a.createElement(wt,Object.assign({key:t,gridOptions:{xs:l.length>1?6:12,className:o.legendElement}},e))}))))};Dt.defaultProps={label:"",payload:[],data:[]};var St=function(e){var t=e.active,a=e.payload,n=e.label,r=Ot();return t?c.a.createElement("div",{className:r.tooltip},c.a.createElement("p",{className:r.label},n),c.a.createElement(kt,{payload:a})):null};St.defaultProps={label:"",payload:[]};var xt=St,Pt=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],Tt=c.a.memo((function(e){var t=e.data,a=e.graph,n=e.colors,r=e.yAxisLabel,i=e.scale,o=e.children,l=e.syncId,s=Object(k.a)();return c.a.createElement(Ct.g,{width:"100%",height:250},c.a.createElement(Ct.d,{data:t,margin:{right:10,left:0},syncId:l},o,a.map((function(e,t){var a,r,i,o,l={line:Ct.e,area:Ct.a},s=e.type&&Object.keys(l).includes(e.type)?l[e.type]:Ct.e;return c.a.createElement(s,{key:t,type:"monotone",dataKey:"v".concat(t),dot:null,connectNulls:!0,name:e.name,strokeWidth:null!==(a=e.width)&&void 0!==a?a:2,stroke:null!==(r=e.color)&&void 0!==r?r:n[t],fill:null!==(i=e.color)&&void 0!==i?i:n[t],unit:null===(o=e.format)||void 0===o?void 0:o.replace(/^\{[^}]*\}/,"").trim()})})),c.a.createElement(Ct.c,{stroke:s.palette.text.hint}),c.a.createElement(Ct.j,{scale:i,stroke:s.palette.text.hint,label:{fill:s.palette.text.primary,value:r,angle:-90,offset:20,position:"insideBottomLeft"}}),c.a.createElement(Ct.i,{dataKey:"x",interval:"preserveStartEnd",stroke:s.palette.text.hint,angle:-30,dx:-5,dy:15,height:55}),c.a.createElement(Ct.h,{content:c.a.createElement(xt,null)}),a.zoom?c.a.createElement(Ct.b,{dataKey:"x",height:30,stroke:"#8884d8"}):null))})),Rt=function(e){var t,a=e.data,n=e.dies,r=e.indexValues,o=e.yAxis,l=e.children,s=e.syncId,u=Object(k.a)(),d=c.a.useMemo((function(){return function(e,t){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return e.split(t).map((function(e){return Number(e)}))},n=function(e){var t=Object(x.a)(e,3),a=t[0],n=t[1],r=t[2];return new Date(a,n-1,r)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=function(e){return"".concat(e).padStart(2,"0")},r=[n(e.getDate()),n(e.getMonth()+1),e.getFullYear()];return(a?r.reverse():r).join(t)},o=function(e,t){for(var r=function(e){var t=new Date(e.getTime());return t.setDate(t.getDate()+1),t},i=function(e,t){var r=e.map((function(e){return n(a(e,"-"))})),i=t.map((function(e){return n(a(e).reverse())}));return[r[0]<i[0]?r[0]:i[0],r[1]>i[1]?r[1]:i[1]]}(e,t),o=Object(x.a)(i,2),c=o[0],l=o[1],s=[],u=c;u<=l;u=r(u))s.push(u);return s}(e[0].range,[t[0],t[t.length-1]]),c=Object.fromEntries(o.map((function(e,t){return[r(e,"-",!0),{date:e,index:t}]}))),l=Object(Z.a)(e).sort((function(e,t){return void 0!==e.order?e.order-t.order:0})).filter((function(e,t){return t<8}));l.forEach((function(e,t){return e.dates.forEach((function(a,n){return c[a]["v".concat(t)]=e.data[n]}))}));var s=n(a(e[0].range[1],"-"));return{data:o.reduce((function(e,t,a){var n=a>0?e[a-1]:{};return e.push(Object(i.a)({},s>=t?n:{},{},c[r(t,"-",!0)],{x:r(t)})),e}),[]),dies:o.map((function(e){return r(e)})),daysHash:c,graphSorted:l}}(a,n)}),[a,n]),p=d.data,m=d.dies,h=d.daysHash,f=d.graphSorted,g=function(e,t,a){return t[e[a].split("/").reverse().join("-")].index}(n,h,r),v=(null===(t=e.theme)||void 0===t?void 0:t.colors)||Pt,b=(null===o||void 0===o?void 0:o.label)||"",y=(null===o||void 0===o?void 0:o.scale)?"squarified"===o.scale?"pow":o.scale:"linear";return c.a.createElement("div",{style:{position:"relative"}},c.a.createElement("div",{style:{position:"absolute",width:"100%"}},c.a.createElement(Ct.g,{width:"100%",height:250},c.a.createElement(Ct.d,{data:p,margin:{right:10,left:0}},c.a.createElement(Ct.f,{x:m[g],stroke:u.palette.text.hint,strokeDasharray:"3 3"}),c.a.createElement(Ct.j,{stroke:"#ffffff00",scale:y,label:{value:b,angle:-90,offset:20,position:"insideBottomLeft"}}),c.a.createElement(Ct.i,{stroke:"#ffffff00",dataKey:"x",interval:"preserveStartEnd",angle:-30,dx:-5,dy:15,height:55})))),c.a.createElement(Tt,{data:p,graph:f,children:l,colors:v,yAxisLabel:b,scale:y,syncId:s}),c.a.createElement(Dt,{data:p,colors:v,indexValues:g,payload:f}))},Mt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=function(e){return e.split("/").reverse().join("-")},r=[e[0],e[e.length-1]].map(n),o=e.map(n);return t.data.map((function(e,t){var n,c=e.data,l=e.label;return Object(i.a)({data:c,name:l,range:r,dates:o},null!==(n=a[t])&&void 0!==n?n:{})}))},At=[{type:"line",color:"#000000",width:3}],It=[{type:"area",order:1,color:"#648ac8",width:1},{type:"area",order:0,color:"#cacaca",width:1},{type:"line",order:2,color:"#969696",width:1}],Nt={grafic_risc_iepg:function(e){var t=e.graph,a=e.dies,n=e.indexValues,r=c.a.useMemo((function(){return{data:Mt(a,t,At),references:[{y:30,color:"#0f0"},{y:70,color:"#ff0"},{y:100,color:"#f00"}].map((function(e,t){var a=e.y,n=e.color;return c.a.createElement(Ct.f,{key:t,y:a,stroke:n,strokeDasharray:"3 3",ifOverflow:"extendDomain"})}))}}),[t,a]),i=r.data,o=r.references;return c.a.createElement(Rt,Object.assign({syncId:"charts"},{dies:a,indexValues:n,data:i}),o)},grafic_extensio:function(e){var t=e.graph,a=e.dies,n=e.indexValues,r=c.a.useMemo((function(){return Mt(a,t,It)}),[t,a]);return c.a.createElement(Rt,Object.assign({syncId:"charts"},{dies:a,indexValues:n,data:r}))}},Wt=function(e){var t=e.dataset,a=e.valors,n=Object(r.a)(e,["dataset","valors"]),i=Nt[t];return c.a.createElement(i,Object.assign({graph:a[t]},n))},Lt=a(736),Vt=a(151),zt=a.n(Vt),Ft=a(152),Bt=a.n(Ft),Ut=a(744),_t=Object(s.a)({root:{height:110,flexGrow:1,maxWidth:400}}),Ht=function(e){var t=_t(),a=e.chartsIndex,n=e.division,i=e.population,o=e.value,l=e.onChange,s=Object(r.a)(e,["chartsIndex","division","population","value","onChange"]),u=c.a.useMemo((function(){var e=new jt(a),t=e.findInitialNode(n,i);return{initialNode:t,found:e.findBreadcrumb(t,o).map((function(e){return"".concat(e.url)}))}}),[n,i,o,a]),d=u.initialNode,p=u.found;return c.a.createElement(Lt.a,Object.assign({className:t.root,defaultCollapseIcon:c.a.createElement(zt.a,null),defaultExpandIcon:c.a.createElement(Bt.a,null),expanded:p,selected:"".concat(o),onNodeSelect:function(e,t){return l(Number(t))}},s),function e(t){return c.a.createElement(Ut.a,{key:t.url,nodeId:"".concat(t.url),label:t.name},Array.isArray(t.children)?t.children.map((function(t){return e(t)})):null)}(d))},Gt=Object(s.a)((function(e){return{formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(2)},labelFixed:{position:"initial",transform:"unset",marginBottom:e.spacing(2)}}})),Kt=function(e){var t=Gt(),a=e.label,n=e.help,r=e.id,i=e.children,o=e.fixTree;return c.a.createElement("div",{style:{margin:"0 auto",display:"block"}},c.a.createElement(et.a,{required:!0,className:t.formControl},c.a.createElement(Xe.a,{className:o?t.labelFixed:null,htmlFor:r},a),i,n?c.a.createElement(Ze.a,{id:"helper-text-".concat(r)},n):null))},qt=function(e){var t=e.label,a=e.help,n=e.id,i=e.options,o=Object(r.a)(e,["label","help","id","options"]);return c.a.createElement(Kt,{id:n,label:t,help:a},c.a.createElement(tt.a,Object.assign({native:!0},o,{"aria-describedby":"helper-text-".concat(n),inputProps:{name:t,id:n}}),i.map((function(e){return c.a.createElement("option",{key:"v_".concat(e.value),value:e.value},e.label)}))))},Jt=Object(l.translate)("Widget/Chart/Edit")((function(e){var t=e.t,a=e.divisions,n=Object(r.a)(e,["t","divisions"]),i=c.a.useMemo((function(){return a.map((function(e){return{value:e,label:e}}))}),[a]);return c.a.createElement(qt,Object.assign({options:i,label:t("Division"),help:t("Select the division type to show")},n))})),Yt=Object(l.translate)("Widget/Chart/Edit")((function(e){var t=e.t,a=e.populations,n=Object(r.a)(e,["t","populations"]),i=c.a.useMemo((function(){return a.map((function(e){return{value:e,label:e}}))}),[a]);return c.a.createElement(qt,Object.assign({label:t("Population"),help:t("Select the population"),options:i},n))})),$t=Object(l.translate)("Widget/Chart/Edit")((function(e){var t=e.t,a=Object(r.a)(e,["t"]),n=c.a.useMemo((function(){return[{value:"grafic_extensio",label:t("Extensi\xf3")},{value:"grafic_risc_iepg",label:t("Risc iEPG")}]}),[t]);return c.a.createElement(qt,Object.assign({label:t("Dataset"),help:t("Select the dataset"),options:n},a))})),Qt=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onChangeChartDivision=function(t){return e.props.onChangeChartDivision(t.target.value)},e.onChangeChartPopulation=function(t){return e.props.onChangeChartPopulation(t.target.value)},e.onChangeChartDataset=function(t){return e.props.onChangeChartDataset(t.target.value)},e.onChangeChartRegion=function(t){return e.props.onChangeChartRegion(t)},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.chartDivision,a=e.chartPopulation,n=e.chartDataset,r=e.chartRegion,i=e.divisions,o=e.populations,l=e.chartsIndex,s=e.t;return c.a.createElement("div",{style:{textAlign:"left"}},c.a.createElement(Jt,{divisions:i,value:t,onChange:this.onChangeChartDivision}),c.a.createElement(at.a,{style:{margin:"2em 0"}}),c.a.createElement(Yt,{populations:o,value:a,onChange:this.onChangeChartPopulation}),c.a.createElement(at.a,{style:{margin:"2em 0"}}),c.a.createElement($t,{value:n,onChange:this.onChangeChartDataset}),c.a.createElement(at.a,{style:{margin:"2em 0"}}),c.a.createElement(Kt,{id:"regions-tree",label:s("Region"),fixTree:!0},c.a.createElement(Ht,{id:"regions-tree",chartsIndex:l,division:t,population:a,value:r,onChange:this.onChangeChartRegion})))}}]),a}(c.a.PureComponent),Xt=Object(l.translate)("Widget/Chart/Edit")(Qt),Zt=F({view:{icon:c.a.createElement(h.a,{icon:f.b}),label:function(e){return(0,e.t)("View")},title:function(e){return e.title},render:function(e){return c.a.createElement(c.a.Fragment,null,e.chartData?c.a.createElement(Wt,{dies:e.days,valors:e.chartData,dataset:e.chartDataset,indexValues:e.indexValues,id:e.id}):c.a.createElement(J,null))}},edit:{icon:c.a.createElement(h.a,{icon:f.c}),label:function(e){return(0,e.t)("Edit")},title:function(e){return(0,e.t)("Edit chart parameters")},render:function(e){return c.a.createElement(Xt,e)}}}),ea=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a),(n=t.call(this,e)).getMeta=function(e,t,a,n,r){return r?{title:r[n].title,name:r[n].title}:{title:"...",name:"..."}},n.updateData=function(){var e=n.props,t=e.chartDivision,a=e.chartPopulation,r=e.chartRegion;n.cancelDataUpdate&&n.cancelDataUpdate(),n.cancelDataUpdate=n.ChartData.data(t,a,r,(function(e){t===n.props.chartDivision&&a===n.props.chartPopulation&&r===n.props.chartRegion&&n.setState(Object(i.a)({chartData:e},n.getMeta(t,a,r,n.props.chartDataset,e)))}))},n.findRegion=function(e,t,a){var r=n.props.chartsIndex,i=n.ChartData.findInitialNode(e,t),o=n.ChartData.findChild(i,a);if(!o){var c,l=r.filter((function(a){return e===a.territori&&t!==a.poblacio})),s=Object(he.a)(l);try{for(s.s();!(c=s.n()).done;){var u=c.value,d=n.ChartData.findChild(u,a),p=d&&n.ChartData.findChild(i,d.name,(function(e,t){return e.name===t}));if(p)return p}}catch(m){s.e(m)}finally{s.f()}return i}return o},n.onChangeChart=function(e,t,a,r,o){n.setState(Object(i.a)({},o===n.state.chartData?{chartData:o}:{},{},n.getMeta(e,t,a,r,o)));var c=n.findRegion(e,t,a);n.props.onChangeData(n.props.id,{chartDivision:e,chartPopulation:t,chartDataset:r,chartRegion:c.url})},n.onChangeChartDivision=function(e){var t=n.props,a=t.chartPopulation,r=t.chartRegion,i=t.chartDataset;n.onChangeChart(e,a,r,i,null)},n.onChangeChartPopulation=function(e){var t=n.props,a=t.chartDivision,r=t.chartRegion,i=t.chartDataset;n.onChangeChart(a,e,r,i,null)},n.onChangeChartRegion=function(e){var t=n.props,a=t.chartDivision,r=t.chartPopulation,i=t.chartDataset;n.onChangeChart(a,r,e,i,null)},n.onChangeChartDataset=function(e){var t=n.props,a=t.chartDivision,r=t.chartPopulation,i=t.chartRegion,o=n.state.chartData;n.onChangeChart(a,r,i,e,o)};var r=e.chartDivision,o=e.chartPopulation,c=e.chartRegion,l=e.chartsIndex;return n.ChartData=new jt(l),n.cancelDataUpdate=!1,n.state=Object(i.a)({chartData:null},n.getMeta(r,o,c,ta,null)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e,t){t.chartData!==this.state.chartData&&null===this.state.chartData?this.updateData():this.props.chartDivision!==e.chartDivision||this.props.chartPopulation!==e.chartPopulation||this.props.chartRegion!==e.chartRegion?this.setState({chartData:null}):this.props.chartsIndex!==e.chartsIndex&&(this.ChartData=new jt(this.props.chartsIndex),this.setState({chartData:null}))}},{key:"render",value:function(){var e=this.props,t=e.days,a=e.indexValues,n=e.id,r=e.chartDivision,i=e.chartPopulation,o=e.chartDataset,l=e.chartRegion,s=e.chartsIndex,u=this.state,d=u.chartData,p=u.title,m=u.name;return c.a.createElement("div",{style:{minWidth:"200px",height:"100%",paddingTop:".3em",flex:"1 1 0px"}},c.a.createElement(Zt,{id:n,chartDivision:r,chartPopulation:i,chartDataset:o,chartRegion:l,chartsIndex:s,chartData:d,divisions:this.ChartData.divisions,populations:this.ChartData.populations,onChangeChartDivision:this.onChangeChartDivision,onChangeChartPopulation:this.onChangeChartPopulation,onChangeChartDataset:this.onChangeChartDataset,onChangeChartRegion:this.onChangeChartRegion,onRemove:this.props.onRemove,indexValues:a,days:t,title:p,name:m}))}}]),a}(c.a.Component),ta="grafic_extensio";ea.defaultProps={chartDivision:"REGI\xd3/AGA",chartPopulation:"Poblaci\xf3 total",chartRegion:0,chartDataset:ta,onChangeData:function(){},onRemove:function(){}};var aa=ea,na=a(144);function ra(){return(ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ia(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var oa,ca=c.a.createElement("path",{d:"m45.275 106.43 39.441-39.439-39.441-39.446-39.439 39.446zm40.019-39.439s-4.4106 7.9134-18.032 21.547c-13.823 13.806-21.988 18.452-21.988 18.452s-7.909-4.3975-21.538-18.045c-13.826-13.81-18.469-21.955-18.469-21.955s4.4236-7.9145 18.051-21.544c13.817-13.805 21.955-18.445 21.955-18.445s7.9308 4.3834 21.552 18.023c13.81 13.81 18.467 21.966 18.467 21.966m-40.019 39.439 39.441-39.439-39.441-39.446-39.439 39.446zm40.019-39.439s-4.4106 7.9134-18.032 21.547c-13.823 13.806-21.988 18.452-21.988 18.452s-7.909-4.3975-21.538-18.045c-13.826-13.81-18.469-21.955-18.469-21.955s4.4236-7.9145 18.051-21.544c13.817-13.805 21.955-18.445 21.955-18.445s7.9308 4.3834 21.552 18.023c13.81 13.81 18.467 21.966 18.467 21.966m-3.8377-0.56314h-3.6028v-3.6246zm-7.6209-7.6177v7.6177h-3.9888v-11.625zm-7.983-7.9928v15.61h-3.9942v-19.611zm-7.9971-7.996v23.606h-3.9899v-27.597zm-7.996-7.9949v31.601h-3.9942v-35.589zm-40.739 32.742h3.6289v3.6354zm7.621 7.6231v-7.6231h4.0029v11.611zm7.9841 7.996v-15.619h4.0083v19.611zm7.9982 7.9993v-23.618h3.9964v27.605zm7.9797 7.9808v-31.599h4.0105v35.587zm5.1618-31.599h7.9982v9.9518h-7.9982zm35.591 0-27.591 27.612-8.0004 7.9754v-21.641h8.0004v13.666l4.0051-4.0192v-9.6463h9.6398l4.0051-3.9942h-13.645v-9.9518zm-72.336-1.1404 23.603-23.625v9.6768h-9.6485l-3.9877 3.9996h13.636v9.9486zm27.6-27.619 7.9938-7.9699v21.641h-7.9938zm7.9938 27.619h-7.9949v-9.9486h7.9949zm42.59 0.58163c0-0.91104 0.72404-1.6199 1.622-1.6199 0.88821 0 1.6351 0.70882 1.6351 1.6199 0 0.8882-0.74687 1.6286-1.6351 1.6286-0.89799 0-1.622-0.74035-1.622-1.6286m-87.3 0c0-0.91104 0.73926-1.6199 1.6264-1.6199 0.90342 0 1.6329 0.70882 1.6329 1.6199 0 0.8882-0.72948 1.6286-1.6329 1.6286-0.88712 0-1.6264-0.74035-1.6264-1.6286m43.659 43.635c0-0.88712 0.73383-1.6155 1.6264-1.6155 0.90451 0 1.6199 0.7284 1.6199 1.6155 0 0.91538-0.71535 1.6307-1.6199 1.6307-0.89255 0-1.6264-0.71535-1.6264-1.6307m-8.407-101.02c-0.48813-0.14243-0.98279-0.22396-1.4948-0.22396-2.2461 0-4.0344 1.3622-4.0344 3.0125 0 0.78493 0.40333 1.5046 1.0404 2.0558l-1.771 1.7601c-1.1122-0.99258-1.7851-2.3341-1.7851-3.8007 0-3.068 2.9212-5.539 6.5501-5.539 0.92191 0 1.8264 0.16416 2.6418 0.48052 1.1806-1.3687 3.1082-2.2515 5.2618-2.2515 1.3329 0 2.5776 0.32723 3.6094 0.91321 1.0469-0.58598 2.2993-0.91321 3.618-0.91321 2.1656 0 4.0812 0.88277 5.2618 2.2515 0.81319-0.31636 1.7134-0.48052 2.6646-0.48052 3.6094 0 6.5425 2.4711 6.5425 5.539 0 1.4666-0.70556 2.8081-1.8025 3.8007l-1.7612-1.7601c0.64142-0.55118 1.0426-1.2709 1.0426-2.0558 0-1.6503-1.8047-3.0125-4.0214-3.0125-0.53488 0-1.0252 0.0815-1.5057 0.22396 0.07501 0.33701 0.10872 0.6762 0.10872 1.0295 0 1.0948-0.36528 2.1265-1.023 2.9973l-1.8058-1.8134c0.21961-0.37833 0.31419-0.76862 0.31419-1.1839 0-1.6862-1.7916-3.0288-4.0149-3.0288-0.84907 0-1.6514 0.21091-2.3037 0.54901v3.6344h-2.52v-3.568c-0.65882-0.39138-1.5014-0.61533-2.4146-0.61533-2.208 0-4.0094 1.3426-4.0094 3.0288 0 0.41529 0.11741 0.80558 0.31636 1.1839l-1.809 1.8134c-0.65556-0.87081-1.0121-1.9025-1.0121-2.9973 0-0.35333 0.03153-0.69252 0.11632-1.0295m-2.2482 13.247 1.4035 2.1156c3.1723-1.4677 6.9393-2.4461 10.863-2.4461 3.9725 0 7.7188 0.97845 10.891 2.4461l1.3992-2.1156c-3.58-1.7199-7.7677-2.7298-12.246-2.7298-4.4671 0-8.6972 0.9904-12.311 2.7298m10.595-21.166c0-0.94691 0.74905-1.7079 1.7025-1.7079 0.93278 0 1.6992 0.76101 1.6992 1.7079 0 0.93604-0.76644 1.6949-1.6992 1.6949-0.95343 0-1.7025-0.75884-1.7025-1.6949m-10.57 19.115c-0.6349-0.0641-1.148-0.52727-1.4861-1.2057 0.45443-0.59685 1.0643-0.94039 1.6949-0.87407 0.63055 0.0772 1.1633 0.53488 1.4883 1.2035-0.4653 0.59902-1.073 0.91756-1.697 0.87625m-1.1806-3.0875c-0.24787-0.57185-0.84689-0.92843-1.6025-1.0284-0.41855 0.61642-0.55445 1.3068-0.29136 1.8808 0.25874 0.56749 0.83711 0.93278 1.5883 1.0295 0.42725-0.61859 0.56749-1.2915 0.30549-1.8819m7.5872 1.2252c-0.61642-0.19134-1.0176-0.73818-1.2089-1.4796 0.56967-0.47943 1.2491-0.68056 1.8416-0.5077 0.6012 0.21091 1.0165 0.7621 1.1872 1.497-0.56532 0.47509-1.2209 0.68491-1.8199 0.49031m-1.6992 0.37398c0.4653-0.43486 0.6262-1.1122 0.49031-1.8536-0.711-0.20438-1.409-0.12284-1.8721 0.29571-0.48052 0.4316-0.62403 1.1122-0.49031 1.8406 0.71317 0.21852 1.4013 0.12068 1.8721-0.28266m1.1741-3.6224c-0.1185-0.62511-0.61533-1.0937-1.3307-1.347-0.55445 0.51966-0.82189 1.1643-0.69469 1.7742 0.13589 0.61206 0.6436 1.0872 1.3502 1.3415 0.53923-0.51096 0.81319-1.1513 0.67512-1.7688m18.561 5.1107c0.63925-0.0641 1.1524-0.52727 1.4796-1.2057-0.45008-0.59685-1.0719-0.94039-1.7025-0.87407-0.62511 0.0772-1.1404 0.53488-1.459 1.2035 0.45878 0.59902 1.0676 0.91756 1.6818 0.87625m1.1698-3.0875c0.27831-0.57185 0.86429-0.92843 1.597-1.0284 0.43269 0.61642 0.56641 1.3068 0.30984 1.8808-0.26092 0.56749-0.86646 0.93278-1.597 1.0295-0.41856-0.61859-0.56858-1.2915-0.30984-1.8819m-7.5742 1.2252c0.61533-0.19134 1.0252-0.73818 1.2002-1.4796-0.56967-0.47943-1.2383-0.68056-1.8242-0.5077-0.6262 0.21091-1.0274 0.7621-1.2144 1.497 0.58598 0.47509 1.2481 0.68491 1.8384 0.49031m1.6927 0.37398c-0.47182-0.43486-0.62511-1.1122-0.49248-1.8536 0.72731-0.20438 1.4198-0.12284 1.883 0.29571 0.45878 0.4316 0.62185 1.1122 0.47726 1.8406-0.711 0.21852-1.3992 0.12068-1.8677-0.28266m-1.1698-3.6224c0.13589-0.62511 0.63816-1.0937 1.3568-1.347 0.52618 0.51966 0.78275 1.1643 0.6599 1.7742-0.13154 0.61206-0.63272 1.0872-1.3394 1.3415-0.53379-0.51096-0.82406-1.1513-0.6773-1.7688m-7.1285 2.7288c0.5501-0.30549 0.84037-0.95017 0.86429-1.6894-0.66099-0.36093-1.3568-0.42181-1.8916-0.10002-0.5501 0.31854-0.83928 0.94039-0.87081 1.6992 0.66643 0.3381 1.3546 0.41855 1.8982 0.0902m1.7286 0c-0.53923-0.30549-0.83493-0.95017-0.86429-1.6894 0.6599-0.36093 1.3415-0.42181 1.9047-0.10002 0.54575 0.31854 0.83385 0.94039 0.86429 1.6992-0.66751 0.3381-1.3633 0.41855-1.9047 0.0902m-1.9025-3.2789c0-0.63924 0.40333-1.197 1.0382-1.5959 0.6349 0.39899 1.0469 0.9567 1.0469 1.5959 0 0.62512-0.41203 1.1785-1.0469 1.5894-0.6349-0.41094-1.0382-0.9643-1.0382-1.5894",fill:"currentColor",strokeWidth:1.0872}),la=function(e){var t=e.svgRef,a=e.title,n=ia(e,["svgRef","title"]);return c.a.createElement("svg",ra({viewBox:"0 0 90.557 112.28",ref:t},n),a?c.a.createElement("title",null,a):null,ca)},sa=c.a.forwardRef((function(e,t){return c.a.createElement(la,ra({svgRef:t},e))})),ua=(a.p,function(e){return c.a.createElement("svg",e,c.a.createElement(sa,null))}),da=function(e){return c.a.createElement(na.a,Object.assign({component:ua},e))},pa=null!==(oa=Object({NODE_ENV:"production",PUBLIC_URL:"/covid",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_MAP_STATIC_HOST:"https://emibcn.github.io/covid-data/Maps",REACT_APP_CHART_STATIC_HOST:"https://emibcn.github.io/covid-data/Charts"}).REACT_APP_BCN_STATIC_HOST)&&void 0!==oa?oa:"https://emibcn.github.io/covid-data/Bcn",ma="".concat(pa,"/index.json"),ha=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this)).name="Barcelona JSON Files",n.indexUrl=ma,n.invalidateAll=Object(fe.a)(me.a.mark((function e(){var t,a,r;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(he.a)(n.active),e.prev=1,t.s();case 3:if((a=t.n()).done){e.next=10;break}return r=a.value,e.next=8,Ce.invalidate("".concat(pa,"/").concat(r));case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])}))),n.indexData=[],n.index=function(e){return Ce.fetch(ma,e)},n.parseIndex=function(e){n.indexData=e},n.active=[],n.findBreadcrumb=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e.code===t};if(null===e&&(e={sections:n.indexData}),a(e,t))return[e];if("sections"in e){var r,i=Object(he.a)(e.sections);try{for(i.s();!(r=i.n()).done;){var o=r.value,c=n.findBreadcrumb(o,t,a);if(c.length)return[].concat(Object(Z.a)(c),[e])}}catch(l){i.e(l)}finally{i.f()}}return[]},n.findChild=function(e,t,a){var r=n.findBreadcrumb(e,t,a);if(r.length)return r[0]},n.findInitialNode=function(e){return n.indexData.find((function(t){return t.code===e}))},n.active=[],n.data=function(e,t){var a=n.findChild(null,e);return a?(n.active.includes(a.values)||n.active.push(a.values),Ce.fetch("".concat(pa,"/").concat(a.values),t)):(console.warn("Could not find data in index: ".concat(e),{index:n.indexData}),t(!1),function(){})},e?n.parseIndex(e):n.index(n.parseIndex),n}return a}(Oe),fa=Object(s.a)((function(e){return{formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(2)},labelFixed:{position:"initial",transform:"unset",marginBottom:e.spacing(2)}}})),ga=function(e){var t=fa(),a=e.label,n=e.help,r=e.id,i=e.children,o=e.fixTree;return c.a.createElement("div",{style:{margin:"0 auto",display:"block"}},c.a.createElement(et.a,{required:!0,className:t.formControl},c.a.createElement(Xe.a,{className:o?t.labelFixed:null,htmlFor:r},a),i,n?c.a.createElement(Ze.a,{id:"helper-text-".concat(r)},n):null))},va=function e(t){var a=t.node;return c.a.createElement(Ut.a,{key:a.code,nodeId:"".concat("values"in a?"":"DISABLED-").concat(a.code),label:a.title},Array.isArray(a.sections)?a.sections.map((function(t){return c.a.createElement(e,{node:t})})):null)},ba=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={breadcrumb:[]},e.onNodeSelect=function(t,a){/^DISABLED-/.test(a)||e.props.onChange(a)},e.componentWillMount=function(){var t=new ha(e.props.bcnIndex),a=e.props.value;e.setState({value:a,breadcrumb:t.findBreadcrumb(null,e.props.value).map((function(e){return"".concat("values"in e?"":"DISABLED-").concat(e.code)}))})},e.render=function(t){var a=e.props,n=a.classes,i=a.bcnIndex,o=Object(r.a)(a,["classes","bcnIndex"]),l=e.state,s=l.breadcrumb,u=l.value;return c.a.createElement(Lt.a,Object.assign({className:n.root,defaultCollapseIcon:c.a.createElement(zt.a,null),defaultExpandIcon:c.a.createElement(Bt.a,null),defaultExpanded:s,defaultSelected:u,onNodeSelect:e.onNodeSelect},o),i.filter((function(e){return["graph","chart"].includes(e.type)})).map((function(e){return c.a.createElement(va,{key:e.code,node:e})})))},e}return a}(c.a.Component),ya=Object(ae.a)({root:{flexGrow:1,maxWidth:400}})(ba),Ea=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onChangeDataset=function(t){return e.props.onChangeDataset(t)},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dataset,a=e.bcnIndex,n=e.t;return c.a.createElement("div",{style:{textAlign:"left"}},c.a.createElement(ga,{id:"sections-tree",label:n("Select the dataset"),fixTree:!0},c.a.createElement(ya,{bcnIndex:a,value:t,onChange:this.onChangeDataset})))}}]),a}(c.a.PureComponent),ja=Object(l.translate)("Widget/Bcn/Edit")(Ea),Ca=F({view:{icon:da,label:function(e){return(0,e.t)("View")},title:function(e){return e.title},render:function(e){var t=e.days,a=e.bcnData,n=(e.onChangeDataset,e.onRemove,e.t,Object(r.a)(e,["days","bcnData","onChangeDataset","onRemove","t"]));return c.a.createElement(c.a.Fragment,null,e.bcnData?c.a.createElement(Rt,Object.assign({dies:t,data:a},n)):c.a.createElement(J,null))}},edit:{icon:c.a.createElement(h.a,{icon:f.c}),label:function(e){return(0,e.t)("Edit")},title:function(e){return(0,e.t)("Edit BCN parameters")},render:function(e){return c.a.createElement(ja,e)}}}),Oa=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(g.a)(this,a),(n=t.call(this,e)).defaultMeta={title:"...",name:"...",theme:null,yAxis:null,source:null},n.getMeta=function(e,t){if(!t)return n.defaultMeta;var a=n.BcnData.findChild(null,e);if(!a)return n.defaultMeta;var r=a.title;return{title:r,name:r,description:a.description,theme:a.theme,yAxis:a.yAxis,source:a.source}},n.updateData=function(){var e=n.props.dataset;n.cancelDataUpdate&&n.cancelDataUpdate(),n.cancelDataUpdate=n.BcnData.data(e,(function(t){e===n.props.dataset&&n.setState(Object(i.a)({bcnData:t},n.getMeta(e,t)))}))},n.onChange=function(e,t){n.setState(Object(i.a)({},t===n.state.bcnData?{bcnData:t}:{},{},n.getMeta(e,t))),n.props.onChangeData(n.props.id,{dataset:e})},n.onChangeDataset=function(e){var t=n.state.bcnData;n.onChange(e,t)};var r=e.bcnIndex,o=e.dataset;return n.BcnData=new ha(r),n.cancelDataUpdate=!1,n.state=Object(i.a)({bcnData:null},n.getMeta(o,null)),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e,t){t.bcnData!==this.state.bcnData&&null===this.state.bcnData?this.updateData():this.props.dataset!==e.dataset?this.setState({bcnData:null}):this.props.bcnIndex!==e.bcnIndex&&(this.BcnData=new ha(this.props.bcnIndex),this.setState({bcnData:null}))}},{key:"render",value:function(){var e=this.props,t=e.days,a=e.indexValues,n=e.id,r=e.dataset,i=e.bcnIndex,o=this.state,l=o.bcnData,s=o.title,u=o.name,d=o.description,p=o.theme,m=o.yAxis,h=o.source;return c.a.createElement("div",{style:{minWidth:"200px",height:"100%",paddingTop:".3em",flex:"1 1 0px"}},c.a.createElement(Ca,Object.assign({id:n,dataset:r,bcnIndex:i,bcnData:l,indexValues:a,days:t,title:s,name:u,description:d,theme:p,yAxis:m,source:h},{onChangeDataset:this.onChangeDataset,onRemove:this.props.onRemove})))}}]),a}(c.a.Component);Oa.defaultProps={dataset:"IND_MOB_TRA_PUB",onChangeData:function(){},onRemove:function(){}};var wa=Oa,ka=[{key:"map",Component:vt,icon:c.a.createElement(h.a,{icon:f.e}),name:"Map"},{key:"chart",Component:aa,icon:c.a.createElement(h.a,{icon:f.b}),name:"Chart"},{key:"bcn",Component:wa,icon:c.a.createElement(da,null),name:"Barcelona Chart"}],Da=function(){function e(){var t=this;Object(g.a)(this,e),this.timer=!1,this.clear=function(){!1!==t.timer&&(clearTimeout(t.timer),t.timer=!1)}}return Object(v.a)(e,[{key:"start",value:function(e){this.timer=setTimeout(this.clear,e)}},{key:"run",value:function(e,t,a){e&&this.clear(),!1===this.timer&&(this.start(t),a())}}]),e}(),Sa=a(742),xa=(a(665),Object(s.a)((function(e){return{popper:{zIndex:1200},tooltip:{fontSize:"1rem"}}}))),Pa=function(e){var t=e.children,a=e.open,n=e.value,r=xa();return c.a.createElement(ie.a,{open:a,enterTouchDelay:0,placement:"bottom",title:n,classes:{popper:r.popper,tooltip:r.tooltip},arrow:!0},t)},Ta=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onChange=function(){e.props.isPlaying?e.props.onPause():e.props.onPlay()},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.t;return c.a.createElement(ie.a,{title:a("Toggle play status"),"aria-label":this.props.isPlaying?a("pause"):a("play")},c.a.createElement("div",{className:"playpause ".concat(t||"")},c.a.createElement("input",{type:"checkbox",id:"playpause",name:"check",checked:!this.props.isPlaying,onChange:this.onChange,"aria-label":a("Toggle play status")}),c.a.createElement("label",{htmlFor:"playpause",style:{borderLeftColor:""}})))}}]),a}(c.a.PureComponent),Ra=Object(l.translate)("PlayPause")(Ta),Ma=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isPlaying:!1},e.timer=!1,e.onPause=function(){e.clearTimer(),e.setState({isPlaying:!1})},e.onPlay=function(){e.setTimer(),e.setState({isPlaying:!0})},e.setTimer=function(){e.clearTimer(),e.timer=setTimeout(e.updatePlay,40)},e.clearTimer=function(){e.timer&&(clearTimeout(e.timer),e.timer=!1)},e.updatePlay=function(){e.props.onChange({},e.props.value<e.props.max-1?e.props.value+1:0),e.setTimer()},e}return Object(v.a)(a,[{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"render",value:function(){var e=this.state.isPlaying,t=this.props,a=t.classes,n=void 0===a?{}:a,o=Object(r.a)(t,["classes"]),l=n.playPause,s=Object(r.a)(n,["playPause"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Sa.a,Object.assign({ValueLabelComponent:Pa,step:1,min:0,classes:Object(i.a)({},s)},o)),c.a.createElement(Ra,{className:l,onPlay:this.onPlay,onPause:this.onPause,isPlaying:e}))}}]),a}(c.a.PureComponent),Aa=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},Ia=function(e){Object(y.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).state={days:null,chartsIndex:null,bcnIndex:null,current:null,marks:[],marksSmall:[]},n.widgetsIds=[],n.throtle=new Da,n.MapData=new Fe,n.ChartData=new jt,n.BcnData=new ha,n.updateIDs=function(e){for(;n.widgetsIds.length<e;)n.widgetsIds.push("a-"+Aa()+Aa()+"-"+Aa()+"-"+Aa()+"-"+Aa()+"-"+Aa()+Aa()+Aa())},n.onSetDate=function(e,t){return n.throtle.run(!1,10,(function(){return n.setState({current:t})}))},n.sliderTipFormatter=function(e){return n.state.days[e]},n.onAdd=function(e){var t=Object(Z.a)(n.props.widgets);return t.push({type:null!==e&&void 0!==e?e:"map"}),n.updateIDs(t.length),n.props.onChangeData({widgets:t})},n.onRemove=function(e){var t=n.props.widgets.filter((function(t,a){return n.widgetsIds[a]!==e}));return n.widgetsIds=n.widgetsIds.filter((function(t){return t!==e})),n.props.onChangeData({widgets:t})},n.onChangeData=function(e,t){var a=n.props.widgets.map((function(a,r){return Object(i.a)({},a,{},e===n.widgetsIds[r]?{payload:t}:{})}));return n.props.onChangeData({widgets:a})},"widgets"in e&&n.updateIDs(e.widgets.length),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.MapData.days((function(t){var a=!e.state.current||!e.state.days||e.state.current===e.state.days.length-1,n=t.map((function(e,t){return{day:e,index:t}})).filter((function(e){var t=e.day;e.index;return/^0?1\//.test(t)})).map((function(e){var t=e.day;return{value:e.index,label:t.replace(/^0/,"")}}));e.setState(Object(i.a)({days:t,marks:n,marksSmall:n.map((function(e){return{value:e.value}}))},a?{current:t.length-1}:{})),e.MapData.scheduleNextUpdate()})),this.ChartData.index((function(t){e.setState({chartsIndex:t}),e.ChartData.scheduleNextUpdate()})),this.BcnData.index((function(t){e.setState({bcnIndex:t}),e.BcnData.scheduleNextUpdate()}))}},{key:"componentWillUnmount",value:function(){this.MapData.cancelUpdateSchedule(),this.ChartData.cancelUpdateSchedule(),this.BcnData.cancelUpdateSchedule(),this.throtle.clear()}},{key:"componentDidUpdate",value:function(){this.updateIDs(this.props.widgets.length)}},{key:"render",value:function(){var e=this;if(!this.state.days||!this.state.chartsIndex)return c.a.createElement(J,null);var t=this.props,a=t.widgets,n=t.classes,r=t.showMarkLabels,i=this.state,o=i.days,l=i.chartsIndex,s=i.bcnIndex,u=i.current,d=i.marks,p=i.marksSmall,m=Object(te.a)(n.paper,n.fixed);return c.a.createElement(c.a.Fragment,null,c.a.createElement(re.a,{className:m,elevation:2},c.a.createElement("div",{className:n.appBarSpacer}),c.a.createElement("div",{className:n.sliderContainer},c.a.createElement(de,{onAdd:this.onAdd,className:n.addButton,options:ka}),c.a.createElement(Ma,{classes:{root:n.sliderRoot,playPause:n.playPause},max:o.length-1,value:u||0,onChange:this.onSetDate,valueLabelFormat:this.sliderTipFormatter,getAriaValueText:this.sliderTipFormatter,marks:r?d:p,valueLabelDisplay:r?null:"on"}))),c.a.createElement(ne.a,{container:!0,spacing:3,className:n.widgetsContainer},a.map((function(t,a){var n=ka.find((function(e){return e.key===t.type})).Component;return c.a.createElement(ne.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:e.widgetsIds[a]},c.a.createElement(n,Object.assign({id:e.widgetsIds[a],key:e.widgetsIds[a],days:o,chartsIndex:l,bcnIndex:s,indexValues:u,onChangeData:e.onChangeData,onRemove:e.onRemove},t.payload)))}))))}}]),a}(c.a.PureComponent),Na=U(Object(ae.a)((function(e){var t,a,n;return{appBarSpacer:e.mixins.toolbar,widgetsContainer:{zIndex:10,width:"100%",margin:0},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixed:{position:"sticky",top:0,zIndex:1200,padding:0,paddingBottom:1},sliderContainer:(a={display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:e.spacing(1),marginBottom:e.spacing(.5),marginLeft:e.spacing(1),marginRight:e.spacing(1)},Object(ee.a)(a,e.breakpoints.up("md"),{marginBottom:e.spacing(1),alignItems:"flex-start"}),Object(ee.a)(a,"@media (pointer: coarse)",(t={},Object(ee.a)(t,e.breakpoints.up("md"),{marginTop:e.spacing(.5),paddingBottom:e.spacing(1)}),Object(ee.a)(t,e.breakpoints.down("sm"),{paddingBottom:e.spacing(.1)}),t)),a),sliderRoot:(n={},Object(ee.a)(n,e.breakpoints.up("md"),{marginLeft:e.spacing(4),marginRight:e.spacing(4)}),Object(ee.a)(n,e.breakpoints.down("md"),{marginLeft:e.spacing(3),marginRight:e.spacing(3)}),n),addButton:Object(ee.a)({padding:0,fontSize:e.spacing(4),boxShadow:"3px 3px 5px 2px rgba(100, 100, 100, .3)",borderRadius:3},e.breakpoints.up("md"),{fontSize:e.spacing(6)}),playPause:Object(ee.a)({fontSize:e.spacing(2)},e.breakpoints.up("md"),{fontSize:e.spacing(3)})}}))(function(e){return function(t){var a=Object(k.a)(),n=Object(w.a)(a.breakpoints.up("md"));return c.a.createElement(e,Object.assign({},t,{showMarkLabels:n}))}}(Ia))),Wa=function(e){return c.a.createElement(X,{pathFilter:"/:widgets*",paramsFilter:function(t){var a,n=t.widgets;try{a=n.split("/").map((function(e){return JSON.parse(decodeURIComponent(e))}))}catch(r){a=[]}return Object.assign({},e,{widgets:a})},paramsToString:function(e){var t=e.widgets.map((function(e){return encodeURIComponent(JSON.stringify({type:e.type,payload:e.payload}))})).join("/");return"/".concat(t)}},c.a.createElement(Na,e))}},314:function(e,t,a){"use strict";var n=a(63),r=a(15),i=a(0),o=a.n(i),c=a(26),l=a(4),s=a(19),u=a(668),d=a(723),p=a(324),m=a(313),h=a(722),f=a(737),g=a(724),v=a(725),b=a(50),y=a(321),E=a(727),j=a(721),C=a(143),O=a.n(C),w=a(726),k=a(290),D=a(293),S=a(105),x=a(10),P=a(16),T=a(13),R=a(12),M=a(24),A=a(25),I=function(e){Object(R.a)(a,e);var t=Object(T.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(P.a)(a,[{key:"render",value:function(){var e=this.props.t;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{id:"modal_heading"},o.a.createElement(M.a,{icon:A.f,style:{marginRight:".5em"}}),e("About")),o.a.createElement("div",{id:"modal_description",style:{textAlign:"left"}},o.a.createElement("p",null,e("This applications displays public information extracted from the official web")," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://dadescovid.cat"},"https://dadescovid.cat"),"."),o.a.createElement("p",null,e("The aim of this application is to display the data in different ways than the original, improving performance and adding more value to it.")),o.a.createElement("h3",null,e("Want more information?")),o.a.createElement("p",null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid"},e("The source code is publicly available."))," ",e("There, you can find more information about how it has been done, licence and credits.")),o.a.createElement("h3",null,e("Found a bug? Have a petition? Want to help somehow?")),o.a.createElement("p",null,o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid/issues"},e("Create an issue at GitHub."))),o.a.createElement("h3",null,e("Licenses")),o.a.createElement("p",null,e("The application, scripts and documentation in")," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid"},e("this project"))," ",e("are released under the")," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid/blob/master/LICENSE"},"GNU General Public License v3.0"),"."),o.a.createElement("p",null,e("The scripts and documentation published in")," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid-data/"},"covid-data")," ",e("are also released under the")," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid/blob/master/LICENSE"},"GNU General Public License v3.0"),"."),o.a.createElement("p",null,e("The data scrapped and published in")," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/emibcn/covid-data/"},"covid-data")," ",e("is licensed by their owner, the")," ",o.a.createElement("em",null,"Generalitat de Catalunya"),e(", under their own conditions ("),o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://opendatacommons.org/licenses/by/1.0/"},"Open Data Commons Attribution License"),e(", until now).")," ",e("See more at the")," ",o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://analisi.transparenciacatalunya.cat/Salut/Dades-setmanals-de-COVID-19-per-comarca/jvut-jxu8"},e("dataset API documentation")),".")))}}]),a}(o.a.Component),N=Object(s.translate)("About")(I),W=a(739),L=a(740),V=a(720),z=a(719),F=a(109),B=function(e){Object(R.a)(a,e);var t=Object(T.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(P.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.language,n=e.onLanguageChange,r=F.a.reduce((function(e,t){return e.find((function(e){return e.label===t.label}))?e:e.concat([t])}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{id:"modal_heading"},o.a.createElement(M.a,{icon:A.g,style:{marginRight:".5em"}}),t("Language")),o.a.createElement("div",null,o.a.createElement(z.a,{component:"fieldset"},o.a.createElement(L.a,{"aria-label":"language",name:"language",value:a,onChange:function(e){return n(e.target.value)}},r.map((function(e,t){return o.a.createElement(V.a,{key:t,value:e.key,control:o.a.createElement(W.a,null),label:e.label})}))))))}}]),a}(o.a.Component),U=Object(s.translate)("Language")(B),_=function(e,t){return o.a.createElement(S.a,{origin:e,key:e},t)},H=Object(s.translate)("Copyright")((function(e){var t=e.t;return o.a.createElement(b.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(j.a,{color:"inherit",href:"https://github.com/emibcn/covid"},t("Source code of:")," ",o.a.createElement("em",null,t("Covid Data")," ",o.a.createElement("code",null,t("Refactored"))))," ",(new Date).getFullYear(),".")})),G=function(e){var t=Object(p.a)("(prefers-color-scheme: dark)"),a=e.type,n=e.children,r=o.a.useMemo((function(){return Object(m.a)({palette:{type:a||(t?"dark":"light")}})}),[t,a]);return o.a.createElement(h.a,{theme:r},o.a.createElement(d.a,null),n)},K=Object(u.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),q=function(e){var t=e.routeProps,a=t.language,n=t.onLanguageChange;return o.a.createElement(D.a,{force:!1},o.a.createElement(c.b,{exact:!0,path:"about",render:function(e){return _("About",o.a.createElement(N,null))}}),o.a.createElement(c.b,{exact:!0,path:"language",render:function(e){return _("Language",o.a.createElement(U,{language:a,onLanguageChange:n}))}}))};t.a=Object(s.translate)("Widget")((function(e){var t=K(),a=e.children,i=e.theme,c=e.t,s=Object(r.a)(e,["children","theme","t"]),u=o.a.useState(!1),d=Object(n.a)(u,2),h=d[0],j=d[1],C=function(){j(!0)},D=Object(p.a)(Object(m.a)().breakpoints.down("md"))&&e.newServiceWorkerDetected;return o.a.createElement(G,{type:i},o.a.createElement(q,{routeProps:e}),o.a.createElement("div",{id:"root",className:t.root},o.a.createElement(g.a,{position:"absolute",className:Object(l.a)(t.appBar,h&&t.appBarShift)},o.a.createElement(v.a,{className:t.toolbar},o.a.createElement(y.a,{edge:"start",color:"inherit","aria-label":"open menu",onClick:C,className:Object(l.a)(t.menuButton,h&&t.menuButtonHidden)},o.a.createElement(w.a,{badgeContent:1,color:"secondary",invisible:!D},o.a.createElement(O.a,null))),o.a.createElement(b.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},c("Covid Data")," ",o.a.createElement("code",null,c("Refactored"))))),o.a.createElement(k.a,Object.assign({handleDrawerOpen:C,handleDrawerClose:function(){j(!1)},open:h},s)),o.a.createElement("main",{className:t.content},a,o.a.createElement(E.a,{maxWidth:"lg",className:t.container},o.a.createElement(f.a,{pt:4},o.a.createElement(H,null))))))}))},368:function(e,t,a){e.exports=a(369)},369:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),n=a.n(t),r=a(20),i=a.n(r),o=a(287),c=a(311);i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,{onLoadNewServiceWorkerAccept:function(t){var a;t.waiting&&(navigator.serviceWorker.addEventListener("controllerchange",(function(t){a||(a=!0,console.log("Controller loaded"),e.location.reload(!0))})),t.waiting.postMessage("skipWaiting"))}})),document.getElementById("root")),c.a({onUpdate:function(e){var t=new CustomEvent("onNewServiceWorker",{detail:{registration:e}});document.dispatchEvent(t)}})}.call(this,a(38))},391:function(e,t,a){},665:function(e,t,a){}},[[368,1,2]]]);
//# sourceMappingURL=main.fcd2b535.chunk.js.map